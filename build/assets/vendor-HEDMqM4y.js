var dr=Object.defineProperty;var hr=(e,r,t)=>r in e?dr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var J=(e,r,t)=>hr(e,typeof r!="symbol"?r+"":r,t);function _mergeNamespaces(e,r){for(var t=0;t<r.length;t++){const n=r[t];if(typeof n!="string"&&!Array.isArray(n)){for(const u in n)if(u!=="default"&&!(u in e)){const a=Object.getOwnPropertyDescriptor(n,u);a&&Object.defineProperty(e,u,a.get?a:{enumerable:!0,get:()=>n[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var t=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t}var react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),i=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.iterator;function d(m){return m===null||typeof m!="object"?null:(m=f&&m[f]||m["@@iterator"],typeof m=="function"?m:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,p={};function g(m,T,W){this.props=m,this.context=T,this.refs=p,this.updater=W||h}g.prototype.isReactComponent={},g.prototype.setState=function(m,T){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,T,"setState")},g.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function E(){}E.prototype=g.prototype;function A(m,T,W){this.props=m,this.context=T,this.refs=p,this.updater=W||h}var C=A.prototype=new E;C.constructor=A,v(C,g.prototype),C.isPureReactComponent=!0;var P=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function j(m,T,W,F,D,V){return W=V.ref,{$$typeof:e,type:m,key:T,ref:W!==void 0?W:null,props:V}}function k(m,T){return j(m.type,T,void 0,void 0,void 0,m.props)}function B(m){return typeof m=="object"&&m!==null&&m.$$typeof===e}function L(m){var T={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(W){return T[W]})}var R=/\/+/g;function y(m,T){return typeof m=="object"&&m!==null&&m.key!=null?L(""+m.key):T.toString(36)}function _(){}function b(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(_,_):(m.status="pending",m.then(function(T){m.status==="pending"&&(m.status="fulfilled",m.value=T)},function(T){m.status==="pending"&&(m.status="rejected",m.reason=T)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function w(m,T,W,F,D){var V=typeof m;(V==="undefined"||V==="boolean")&&(m=null);var Z=!1;if(m===null)Z=!0;else switch(V){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(m.$$typeof){case e:case r:Z=!0;break;case l:return Z=m._init,w(Z(m._payload),T,W,F,D)}}if(Z)return D=D(m),Z=F===""?"."+y(m,0):F,P(D)?(W="",Z!=null&&(W=Z.replace(R,"$&/")+"/"),w(D,T,W,"",function(H){return H})):D!=null&&(B(D)&&(D=k(D,W+(D.key==null||m&&m.key===D.key?"":(""+D.key).replace(R,"$&/")+"/")+Z)),T.push(D)),1;Z=0;var te=F===""?".":F+":";if(P(m))for(var ee=0;ee<m.length;ee++)F=m[ee],V=te+y(F,ee),Z+=w(F,T,W,V,D);else if(ee=d(m),typeof ee=="function")for(m=ee.call(m),ee=0;!(F=m.next()).done;)F=F.value,V=te+y(F,ee++),Z+=w(F,T,W,V,D);else if(V==="object"){if(typeof m.then=="function")return w(b(m),T,W,F,D);throw T=String(m),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return Z}function I(m,T,W){if(m==null)return m;var F=[],D=0;return w(m,F,"","",function(V){return T.call(W,V,D++)}),F}function q(m){if(m._status===-1){var T=m._result;T=T(),T.then(function(W){(m._status===0||m._status===-1)&&(m._status=1,m._result=W)},function(W){(m._status===0||m._status===-1)&&(m._status=2,m._result=W)}),m._status===-1&&(m._status=0,m._result=T)}if(m._status===1)return m._result.default;throw m._result}var U=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function x(){}return react_production.Children={map:I,forEach:function(m,T,W){I(m,function(){T.apply(this,arguments)},W)},count:function(m){var T=0;return I(m,function(){T++}),T},toArray:function(m){return I(m,function(T){return T})||[]},only:function(m){if(!B(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},react_production.Component=g,react_production.Fragment=t,react_production.Profiler=u,react_production.PureComponent=A,react_production.StrictMode=n,react_production.Suspense=o,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(m){return S.H.useMemoCache(m)}},react_production.cache=function(m){return function(){return m.apply(null,arguments)}},react_production.cloneElement=function(m,T,W){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var F=v({},m.props),D=m.key,V=void 0;if(T!=null)for(Z in T.ref!==void 0&&(V=void 0),T.key!==void 0&&(D=""+T.key),T)!N.call(T,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&T.ref===void 0||(F[Z]=T[Z]);var Z=arguments.length-2;if(Z===1)F.children=W;else if(1<Z){for(var te=Array(Z),ee=0;ee<Z;ee++)te[ee]=arguments[ee+2];F.children=te}return j(m.type,D,void 0,void 0,V,F)},react_production.createContext=function(m){return m={$$typeof:s,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:a,_context:m},m},react_production.createElement=function(m,T,W){var F,D={},V=null;if(T!=null)for(F in T.key!==void 0&&(V=""+T.key),T)N.call(T,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(D[F]=T[F]);var Z=arguments.length-2;if(Z===1)D.children=W;else if(1<Z){for(var te=Array(Z),ee=0;ee<Z;ee++)te[ee]=arguments[ee+2];D.children=te}if(m&&m.defaultProps)for(F in Z=m.defaultProps,Z)D[F]===void 0&&(D[F]=Z[F]);return j(m,V,void 0,void 0,null,D)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(m){return{$$typeof:i,render:m}},react_production.isValidElement=B,react_production.lazy=function(m){return{$$typeof:l,_payload:{_status:-1,_result:m},_init:q}},react_production.memo=function(m,T){return{$$typeof:c,type:m,compare:T===void 0?null:T}},react_production.startTransition=function(m){var T=S.T,W={};S.T=W;try{var F=m(),D=S.S;D!==null&&D(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(x,U)}catch(V){U(V)}finally{S.T=T}},react_production.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},react_production.use=function(m){return S.H.use(m)},react_production.useActionState=function(m,T,W){return S.H.useActionState(m,T,W)},react_production.useCallback=function(m,T){return S.H.useCallback(m,T)},react_production.useContext=function(m){return S.H.useContext(m)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(m,T){return S.H.useDeferredValue(m,T)},react_production.useEffect=function(m,T,W){var F=S.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(m,T)},react_production.useId=function(){return S.H.useId()},react_production.useImperativeHandle=function(m,T,W){return S.H.useImperativeHandle(m,T,W)},react_production.useInsertionEffect=function(m,T){return S.H.useInsertionEffect(m,T)},react_production.useLayoutEffect=function(m,T){return S.H.useLayoutEffect(m,T)},react_production.useMemo=function(m,T){return S.H.useMemo(m,T)},react_production.useOptimistic=function(m,T){return S.H.useOptimistic(m,T)},react_production.useReducer=function(m,T,W){return S.H.useReducer(m,T,W)},react_production.useRef=function(m){return S.H.useRef(m)},react_production.useState=function(m){return S.H.useState(m)},react_production.useSyncExternalStore=function(m,T,W){return S.H.useSyncExternalStore(m,T,W)},react_production.useTransition=function(){return S.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React18=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:React18},[reactExports]);var buffer$1={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=i,base64Js.toByteArray=c,base64Js.fromByteArray=d;for(var e=[],r=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,a=n.length;u<a;++u)e[u]=n[u],r[n.charCodeAt(u)]=u;r[45]=62,r[95]=63;function s(h){var v=h.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=h.indexOf("=");p===-1&&(p=v);var g=p===v?0:4-p%4;return[p,g]}function i(h){var v=s(h),p=v[0],g=v[1];return(p+g)*3/4-g}function o(h,v,p){return(v+p)*3/4-p}function c(h){var v,p=s(h),g=p[0],E=p[1],A=new t(o(h,g,E)),C=0,P=E>0?g-4:g,S;for(S=0;S<P;S+=4)v=r[h.charCodeAt(S)]<<18|r[h.charCodeAt(S+1)]<<12|r[h.charCodeAt(S+2)]<<6|r[h.charCodeAt(S+3)],A[C++]=v>>16&255,A[C++]=v>>8&255,A[C++]=v&255;return E===2&&(v=r[h.charCodeAt(S)]<<2|r[h.charCodeAt(S+1)]>>4,A[C++]=v&255),E===1&&(v=r[h.charCodeAt(S)]<<10|r[h.charCodeAt(S+1)]<<4|r[h.charCodeAt(S+2)]>>2,A[C++]=v>>8&255,A[C++]=v&255),A}function l(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}function f(h,v,p){for(var g,E=[],A=v;A<p;A+=3)g=(h[A]<<16&16711680)+(h[A+1]<<8&65280)+(h[A+2]&255),E.push(l(g));return E.join("")}function d(h){for(var v,p=h.length,g=p%3,E=[],A=16383,C=0,P=p-g;C<P;C+=A)E.push(f(h,C,C+A>P?P:C+A));return g===1?(v=h[p-1],E.push(e[v>>2]+e[v<<4&63]+"==")):g===2&&(v=(h[p-2]<<8)+h[p-1],E.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),E.join("")}return base64Js}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754$1.read=function(e,r,t,n,u){var a,s,i=u*8-n-1,o=(1<<i)-1,c=o>>1,l=-7,f=t?u-1:0,d=t?-1:1,h=e[r+f];for(f+=d,a=h&(1<<-l)-1,h>>=-l,l+=i;l>0;a=a*256+e[r+f],f+=d,l-=8);for(s=a&(1<<-l)-1,a>>=-l,l+=n;l>0;s=s*256+e[r+f],f+=d,l-=8);if(a===0)a=1-c;else{if(a===o)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-c}return(h?-1:1)*s*Math.pow(2,a-n)},ieee754$1.write=function(e,r,t,n,u,a){var s,i,o,c=a*8-u-1,l=(1<<c)-1,f=l>>1,d=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,v=n?1:-1,p=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(i=isNaN(r)?1:0,s=l):(s=Math.floor(Math.log(r)/Math.LN2),r*(o=Math.pow(2,-s))<1&&(s--,o*=2),s+f>=1?r+=d/o:r+=d*Math.pow(2,1-f),r*o>=2&&(s++,o/=2),s+f>=l?(i=0,s=l):s+f>=1?(i=(r*o-1)*Math.pow(2,u),s=s+f):(i=r*Math.pow(2,f-1)*Math.pow(2,u),s=0));u>=8;e[t+h]=i&255,h+=v,i/=256,u-=8);for(s=s<<u|i,c+=u;c>0;e[t+h]=s&255,h+=v,s/=256,c-=8);e[t+h-v]|=p*128}),ieee754$1}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer$1;function requireBuffer$1(){return hasRequiredBuffer$1||(hasRequiredBuffer$1=1,function(e){const r=requireBase64Js(),t=requireIeee754(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=i,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,i.TYPED_ARRAY_SUPPORT=a(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const G=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(G,O),G.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function s(G){if(G>u)throw new RangeError('The value "'+G+'" is invalid for option "size"');const O=new Uint8Array(G);return Object.setPrototypeOf(O,i.prototype),O}function i(G,O,M){if(typeof G=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(G)}return o(G,O,M)}i.poolSize=8192;function o(G,O,M){if(typeof G=="string")return d(G,O);if(ArrayBuffer.isView(G))return v(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if($e(G,ArrayBuffer)||G&&$e(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(G,SharedArrayBuffer)||G&&$e(G.buffer,SharedArrayBuffer)))return p(G,O,M);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=G.valueOf&&G.valueOf();if(Y!=null&&Y!==G)return i.from(Y,O,M);const ne=g(G);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return i.from(G[Symbol.toPrimitive]("string"),O,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}i.from=function(G,O,M){return o(G,O,M)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function c(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function l(G,O,M){return c(G),G<=0?s(G):O!==void 0?typeof M=="string"?s(G).fill(O,M):s(G).fill(O):s(G)}i.alloc=function(G,O,M){return l(G,O,M)};function f(G){return c(G),s(G<0?0:E(G)|0)}i.allocUnsafe=function(G){return f(G)},i.allocUnsafeSlow=function(G){return f(G)};function d(G,O){if((typeof O!="string"||O==="")&&(O="utf8"),!i.isEncoding(O))throw new TypeError("Unknown encoding: "+O);const M=C(G,O)|0;let Y=s(M);const ne=Y.write(G,O);return ne!==M&&(Y=Y.slice(0,ne)),Y}function h(G){const O=G.length<0?0:E(G.length)|0,M=s(O);for(let Y=0;Y<O;Y+=1)M[Y]=G[Y]&255;return M}function v(G){if($e(G,Uint8Array)){const O=new Uint8Array(G);return p(O.buffer,O.byteOffset,O.byteLength)}return h(G)}function p(G,O,M){if(O<0||G.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<O+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return O===void 0&&M===void 0?Y=new Uint8Array(G):M===void 0?Y=new Uint8Array(G,O):Y=new Uint8Array(G,O,M),Object.setPrototypeOf(Y,i.prototype),Y}function g(G){if(i.isBuffer(G)){const O=E(G.length)|0,M=s(O);return M.length===0||G.copy(M,0,0,O),M}if(G.length!==void 0)return typeof G.length!="number"||pe(G.length)?s(0):h(G);if(G.type==="Buffer"&&Array.isArray(G.data))return h(G.data)}function E(G){if(G>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return G|0}function A(G){return+G!=G&&(G=0),i.alloc(+G)}i.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==i.prototype},i.compare=function(O,M){if($e(O,Uint8Array)&&(O=i.from(O,O.offset,O.byteLength)),$e(M,Uint8Array)&&(M=i.from(M,M.offset,M.byteLength)),!i.isBuffer(O)||!i.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===M)return 0;let Y=O.length,ne=M.length;for(let le=0,fe=Math.min(Y,ne);le<fe;++le)if(O[le]!==M[le]){Y=O[le],ne=M[le];break}return Y<ne?-1:ne<Y?1:0},i.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(O,M){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return i.alloc(0);let Y;if(M===void 0)for(M=0,Y=0;Y<O.length;++Y)M+=O[Y].length;const ne=i.allocUnsafe(M);let le=0;for(Y=0;Y<O.length;++Y){let fe=O[Y];if($e(fe,Uint8Array))le+fe.length>ne.length?(i.isBuffer(fe)||(fe=i.from(fe)),fe.copy(ne,le)):Uint8Array.prototype.set.call(ne,fe,le);else if(i.isBuffer(fe))fe.copy(ne,le);else throw new TypeError('"list" argument must be an Array of Buffers');le+=fe.length}return ne};function C(G,O){if(i.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||$e(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const M=G.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&M===0)return 0;let ne=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ce(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return he(G).length;default:if(ne)return Y?-1:ce(G).length;O=(""+O).toLowerCase(),ne=!0}}i.byteLength=C;function P(G,O,M){let Y=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,O>>>=0,M<=O))return"";for(G||(G="utf8");;)switch(G){case"hex":return x(this,O,M);case"utf8":case"utf-8":return b(this,O,M);case"ascii":return q(this,O,M);case"latin1":case"binary":return U(this,O,M);case"base64":return _(this,O,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,O,M);default:if(Y)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),Y=!0}}i.prototype._isBuffer=!0;function S(G,O,M){const Y=G[O];G[O]=G[M],G[M]=Y}i.prototype.swap16=function(){const O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<O;M+=2)S(this,M,M+1);return this},i.prototype.swap32=function(){const O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<O;M+=4)S(this,M,M+3),S(this,M+1,M+2);return this},i.prototype.swap64=function(){const O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<O;M+=8)S(this,M,M+7),S(this,M+1,M+6),S(this,M+2,M+5),S(this,M+3,M+4);return this},i.prototype.toString=function(){const O=this.length;return O===0?"":arguments.length===0?b(this,0,O):P.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(O){if(!i.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:i.compare(this,O)===0},i.prototype.inspect=function(){let O="";const M=e.INSPECT_MAX_BYTES;return O=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(O+=" ... "),"<Buffer "+O+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(O,M,Y,ne,le){if($e(O,Uint8Array)&&(O=i.from(O,O.offset,O.byteLength)),!i.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(M===void 0&&(M=0),Y===void 0&&(Y=O?O.length:0),ne===void 0&&(ne=0),le===void 0&&(le=this.length),M<0||Y>O.length||ne<0||le>this.length)throw new RangeError("out of range index");if(ne>=le&&M>=Y)return 0;if(ne>=le)return-1;if(M>=Y)return 1;if(M>>>=0,Y>>>=0,ne>>>=0,le>>>=0,this===O)return 0;let fe=le-ne,ve=Y-M;const Se=Math.min(fe,ve),ge=this.slice(ne,le),me=O.slice(M,Y);for(let Ee=0;Ee<Se;++Ee)if(ge[Ee]!==me[Ee]){fe=ge[Ee],ve=me[Ee];break}return fe<ve?-1:ve<fe?1:0};function N(G,O,M,Y,ne){if(G.length===0)return-1;if(typeof M=="string"?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,pe(M)&&(M=ne?0:G.length-1),M<0&&(M=G.length+M),M>=G.length){if(ne)return-1;M=G.length-1}else if(M<0)if(ne)M=0;else return-1;if(typeof O=="string"&&(O=i.from(O,Y)),i.isBuffer(O))return O.length===0?-1:j(G,O,M,Y,ne);if(typeof O=="number")return O=O&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(G,O,M):Uint8Array.prototype.lastIndexOf.call(G,O,M):j(G,[O],M,Y,ne);throw new TypeError("val must be string, number or Buffer")}function j(G,O,M,Y,ne){let le=1,fe=G.length,ve=O.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(G.length<2||O.length<2)return-1;le=2,fe/=2,ve/=2,M/=2}function Se(me,Ee){return le===1?me[Ee]:me.readUInt16BE(Ee*le)}let ge;if(ne){let me=-1;for(ge=M;ge<fe;ge++)if(Se(G,ge)===Se(O,me===-1?0:ge-me)){if(me===-1&&(me=ge),ge-me+1===ve)return me*le}else me!==-1&&(ge-=ge-me),me=-1}else for(M+ve>fe&&(M=fe-ve),ge=M;ge>=0;ge--){let me=!0;for(let Ee=0;Ee<ve;Ee++)if(Se(G,ge+Ee)!==Se(O,Ee)){me=!1;break}if(me)return ge}return-1}i.prototype.includes=function(O,M,Y){return this.indexOf(O,M,Y)!==-1},i.prototype.indexOf=function(O,M,Y){return N(this,O,M,Y,!0)},i.prototype.lastIndexOf=function(O,M,Y){return N(this,O,M,Y,!1)};function k(G,O,M,Y){M=Number(M)||0;const ne=G.length-M;Y?(Y=Number(Y),Y>ne&&(Y=ne)):Y=ne;const le=O.length;Y>le/2&&(Y=le/2);let fe;for(fe=0;fe<Y;++fe){const ve=parseInt(O.substr(fe*2,2),16);if(pe(ve))return fe;G[M+fe]=ve}return fe}function B(G,O,M,Y){return de(ce(O,G.length-M),G,M,Y)}function L(G,O,M,Y){return de(ue(O),G,M,Y)}function R(G,O,M,Y){return de(he(O),G,M,Y)}function y(G,O,M,Y){return de(ie(O,G.length-M),G,M,Y)}i.prototype.write=function(O,M,Y,ne){if(M===void 0)ne="utf8",Y=this.length,M=0;else if(Y===void 0&&typeof M=="string")ne=M,Y=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(Y)?(Y=Y>>>0,ne===void 0&&(ne="utf8")):(ne=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const le=this.length-M;if((Y===void 0||Y>le)&&(Y=le),O.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let fe=!1;for(;;)switch(ne){case"hex":return k(this,O,M,Y);case"utf8":case"utf-8":return B(this,O,M,Y);case"ascii":case"latin1":case"binary":return L(this,O,M,Y);case"base64":return R(this,O,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,O,M,Y);default:if(fe)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),fe=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(G,O,M){return O===0&&M===G.length?r.fromByteArray(G):r.fromByteArray(G.slice(O,M))}function b(G,O,M){M=Math.min(G.length,M);const Y=[];let ne=O;for(;ne<M;){const le=G[ne];let fe=null,ve=le>239?4:le>223?3:le>191?2:1;if(ne+ve<=M){let Se,ge,me,Ee;switch(ve){case 1:le<128&&(fe=le);break;case 2:Se=G[ne+1],(Se&192)===128&&(Ee=(le&31)<<6|Se&63,Ee>127&&(fe=Ee));break;case 3:Se=G[ne+1],ge=G[ne+2],(Se&192)===128&&(ge&192)===128&&(Ee=(le&15)<<12|(Se&63)<<6|ge&63,Ee>2047&&(Ee<55296||Ee>57343)&&(fe=Ee));break;case 4:Se=G[ne+1],ge=G[ne+2],me=G[ne+3],(Se&192)===128&&(ge&192)===128&&(me&192)===128&&(Ee=(le&15)<<18|(Se&63)<<12|(ge&63)<<6|me&63,Ee>65535&&Ee<1114112&&(fe=Ee))}}fe===null?(fe=65533,ve=1):fe>65535&&(fe-=65536,Y.push(fe>>>10&1023|55296),fe=56320|fe&1023),Y.push(fe),ne+=ve}return I(Y)}const w=4096;function I(G){const O=G.length;if(O<=w)return String.fromCharCode.apply(String,G);let M="",Y=0;for(;Y<O;)M+=String.fromCharCode.apply(String,G.slice(Y,Y+=w));return M}function q(G,O,M){let Y="";M=Math.min(G.length,M);for(let ne=O;ne<M;++ne)Y+=String.fromCharCode(G[ne]&127);return Y}function U(G,O,M){let Y="";M=Math.min(G.length,M);for(let ne=O;ne<M;++ne)Y+=String.fromCharCode(G[ne]);return Y}function x(G,O,M){const Y=G.length;(!O||O<0)&&(O=0),(!M||M<0||M>Y)&&(M=Y);let ne="";for(let le=O;le<M;++le)ne+=ye[G[le]];return ne}function m(G,O,M){const Y=G.slice(O,M);let ne="";for(let le=0;le<Y.length-1;le+=2)ne+=String.fromCharCode(Y[le]+Y[le+1]*256);return ne}i.prototype.slice=function(O,M){const Y=this.length;O=~~O,M=M===void 0?Y:~~M,O<0?(O+=Y,O<0&&(O=0)):O>Y&&(O=Y),M<0?(M+=Y,M<0&&(M=0)):M>Y&&(M=Y),M<O&&(M=O);const ne=this.subarray(O,M);return Object.setPrototypeOf(ne,i.prototype),ne};function T(G,O,M){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+O>M)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(O,M,Y){O=O>>>0,M=M>>>0,Y||T(O,M,this.length);let ne=this[O],le=1,fe=0;for(;++fe<M&&(le*=256);)ne+=this[O+fe]*le;return ne},i.prototype.readUintBE=i.prototype.readUIntBE=function(O,M,Y){O=O>>>0,M=M>>>0,Y||T(O,M,this.length);let ne=this[O+--M],le=1;for(;M>0&&(le*=256);)ne+=this[O+--M]*le;return ne},i.prototype.readUint8=i.prototype.readUInt8=function(O,M){return O=O>>>0,M||T(O,1,this.length),this[O]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(O,M){return O=O>>>0,M||T(O,2,this.length),this[O]|this[O+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(O,M){return O=O>>>0,M||T(O,2,this.length),this[O]<<8|this[O+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(O,M){return O=O>>>0,M||T(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(O,M){return O=O>>>0,M||T(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},i.prototype.readBigUInt64LE=be(function(O){O=O>>>0,re(O,"offset");const M=this[O],Y=this[O+7];(M===void 0||Y===void 0)&&oe(O,this.length-8);const ne=M+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24,le=this[++O]+this[++O]*2**8+this[++O]*2**16+Y*2**24;return BigInt(ne)+(BigInt(le)<<BigInt(32))}),i.prototype.readBigUInt64BE=be(function(O){O=O>>>0,re(O,"offset");const M=this[O],Y=this[O+7];(M===void 0||Y===void 0)&&oe(O,this.length-8);const ne=M*2**24+this[++O]*2**16+this[++O]*2**8+this[++O],le=this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+Y;return(BigInt(ne)<<BigInt(32))+BigInt(le)}),i.prototype.readIntLE=function(O,M,Y){O=O>>>0,M=M>>>0,Y||T(O,M,this.length);let ne=this[O],le=1,fe=0;for(;++fe<M&&(le*=256);)ne+=this[O+fe]*le;return le*=128,ne>=le&&(ne-=Math.pow(2,8*M)),ne},i.prototype.readIntBE=function(O,M,Y){O=O>>>0,M=M>>>0,Y||T(O,M,this.length);let ne=M,le=1,fe=this[O+--ne];for(;ne>0&&(le*=256);)fe+=this[O+--ne]*le;return le*=128,fe>=le&&(fe-=Math.pow(2,8*M)),fe},i.prototype.readInt8=function(O,M){return O=O>>>0,M||T(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},i.prototype.readInt16LE=function(O,M){O=O>>>0,M||T(O,2,this.length);const Y=this[O]|this[O+1]<<8;return Y&32768?Y|4294901760:Y},i.prototype.readInt16BE=function(O,M){O=O>>>0,M||T(O,2,this.length);const Y=this[O+1]|this[O]<<8;return Y&32768?Y|4294901760:Y},i.prototype.readInt32LE=function(O,M){return O=O>>>0,M||T(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},i.prototype.readInt32BE=function(O,M){return O=O>>>0,M||T(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},i.prototype.readBigInt64LE=be(function(O){O=O>>>0,re(O,"offset");const M=this[O],Y=this[O+7];(M===void 0||Y===void 0)&&oe(O,this.length-8);const ne=this[O+4]+this[O+5]*2**8+this[O+6]*2**16+(Y<<24);return(BigInt(ne)<<BigInt(32))+BigInt(M+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24)}),i.prototype.readBigInt64BE=be(function(O){O=O>>>0,re(O,"offset");const M=this[O],Y=this[O+7];(M===void 0||Y===void 0)&&oe(O,this.length-8);const ne=(M<<24)+this[++O]*2**16+this[++O]*2**8+this[++O];return(BigInt(ne)<<BigInt(32))+BigInt(this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+Y)}),i.prototype.readFloatLE=function(O,M){return O=O>>>0,M||T(O,4,this.length),t.read(this,O,!0,23,4)},i.prototype.readFloatBE=function(O,M){return O=O>>>0,M||T(O,4,this.length),t.read(this,O,!1,23,4)},i.prototype.readDoubleLE=function(O,M){return O=O>>>0,M||T(O,8,this.length),t.read(this,O,!0,52,8)},i.prototype.readDoubleBE=function(O,M){return O=O>>>0,M||T(O,8,this.length),t.read(this,O,!1,52,8)};function W(G,O,M,Y,ne,le){if(!i.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>ne||O<le)throw new RangeError('"value" argument is out of bounds');if(M+Y>G.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(O,M,Y,ne){if(O=+O,M=M>>>0,Y=Y>>>0,!ne){const ve=Math.pow(2,8*Y)-1;W(this,O,M,Y,ve,0)}let le=1,fe=0;for(this[M]=O&255;++fe<Y&&(le*=256);)this[M+fe]=O/le&255;return M+Y},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(O,M,Y,ne){if(O=+O,M=M>>>0,Y=Y>>>0,!ne){const ve=Math.pow(2,8*Y)-1;W(this,O,M,Y,ve,0)}let le=Y-1,fe=1;for(this[M+le]=O&255;--le>=0&&(fe*=256);)this[M+le]=O/fe&255;return M+Y},i.prototype.writeUint8=i.prototype.writeUInt8=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,1,255,0),this[M]=O&255,M+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,2,65535,0),this[M]=O&255,this[M+1]=O>>>8,M+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,2,65535,0),this[M]=O>>>8,this[M+1]=O&255,M+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,4,4294967295,0),this[M+3]=O>>>24,this[M+2]=O>>>16,this[M+1]=O>>>8,this[M]=O&255,M+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,4,4294967295,0),this[M]=O>>>24,this[M+1]=O>>>16,this[M+2]=O>>>8,this[M+3]=O&255,M+4};function F(G,O,M,Y,ne){Q(O,Y,ne,G,M,7);let le=Number(O&BigInt(4294967295));G[M++]=le,le=le>>8,G[M++]=le,le=le>>8,G[M++]=le,le=le>>8,G[M++]=le;let fe=Number(O>>BigInt(32)&BigInt(4294967295));return G[M++]=fe,fe=fe>>8,G[M++]=fe,fe=fe>>8,G[M++]=fe,fe=fe>>8,G[M++]=fe,M}function D(G,O,M,Y,ne){Q(O,Y,ne,G,M,7);let le=Number(O&BigInt(4294967295));G[M+7]=le,le=le>>8,G[M+6]=le,le=le>>8,G[M+5]=le,le=le>>8,G[M+4]=le;let fe=Number(O>>BigInt(32)&BigInt(4294967295));return G[M+3]=fe,fe=fe>>8,G[M+2]=fe,fe=fe>>8,G[M+1]=fe,fe=fe>>8,G[M]=fe,M+8}i.prototype.writeBigUInt64LE=be(function(O,M=0){return F(this,O,M,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=be(function(O,M=0){return D(this,O,M,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(O,M,Y,ne){if(O=+O,M=M>>>0,!ne){const Se=Math.pow(2,8*Y-1);W(this,O,M,Y,Se-1,-Se)}let le=0,fe=1,ve=0;for(this[M]=O&255;++le<Y&&(fe*=256);)O<0&&ve===0&&this[M+le-1]!==0&&(ve=1),this[M+le]=(O/fe>>0)-ve&255;return M+Y},i.prototype.writeIntBE=function(O,M,Y,ne){if(O=+O,M=M>>>0,!ne){const Se=Math.pow(2,8*Y-1);W(this,O,M,Y,Se-1,-Se)}let le=Y-1,fe=1,ve=0;for(this[M+le]=O&255;--le>=0&&(fe*=256);)O<0&&ve===0&&this[M+le+1]!==0&&(ve=1),this[M+le]=(O/fe>>0)-ve&255;return M+Y},i.prototype.writeInt8=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,1,127,-128),O<0&&(O=255+O+1),this[M]=O&255,M+1},i.prototype.writeInt16LE=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,2,32767,-32768),this[M]=O&255,this[M+1]=O>>>8,M+2},i.prototype.writeInt16BE=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,2,32767,-32768),this[M]=O>>>8,this[M+1]=O&255,M+2},i.prototype.writeInt32LE=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,4,2147483647,-2147483648),this[M]=O&255,this[M+1]=O>>>8,this[M+2]=O>>>16,this[M+3]=O>>>24,M+4},i.prototype.writeInt32BE=function(O,M,Y){return O=+O,M=M>>>0,Y||W(this,O,M,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[M]=O>>>24,this[M+1]=O>>>16,this[M+2]=O>>>8,this[M+3]=O&255,M+4},i.prototype.writeBigInt64LE=be(function(O,M=0){return F(this,O,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=be(function(O,M=0){return D(this,O,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(G,O,M,Y,ne,le){if(M+Y>G.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Z(G,O,M,Y,ne){return O=+O,M=M>>>0,ne||V(G,O,M,4),t.write(G,O,M,Y,23,4),M+4}i.prototype.writeFloatLE=function(O,M,Y){return Z(this,O,M,!0,Y)},i.prototype.writeFloatBE=function(O,M,Y){return Z(this,O,M,!1,Y)};function te(G,O,M,Y,ne){return O=+O,M=M>>>0,ne||V(G,O,M,8),t.write(G,O,M,Y,52,8),M+8}i.prototype.writeDoubleLE=function(O,M,Y){return te(this,O,M,!0,Y)},i.prototype.writeDoubleBE=function(O,M,Y){return te(this,O,M,!1,Y)},i.prototype.copy=function(O,M,Y,ne){if(!i.isBuffer(O))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!ne&&ne!==0&&(ne=this.length),M>=O.length&&(M=O.length),M||(M=0),ne>0&&ne<Y&&(ne=Y),ne===Y||O.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),O.length-M<ne-Y&&(ne=O.length-M+Y);const le=ne-Y;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,Y,ne):Uint8Array.prototype.set.call(O,this.subarray(Y,ne),M),le},i.prototype.fill=function(O,M,Y,ne){if(typeof O=="string"){if(typeof M=="string"?(ne=M,M=0,Y=this.length):typeof Y=="string"&&(ne=Y,Y=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!i.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(O.length===1){const fe=O.charCodeAt(0);(ne==="utf8"&&fe<128||ne==="latin1")&&(O=fe)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;M=M>>>0,Y=Y===void 0?this.length:Y>>>0,O||(O=0);let le;if(typeof O=="number")for(le=M;le<Y;++le)this[le]=O;else{const fe=i.isBuffer(O)?O:i.from(O,ne),ve=fe.length;if(ve===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(le=0;le<Y-M;++le)this[le+M]=fe[le%ve]}return this};const ee={};function H(G,O,M){ee[G]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}H("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(G,O){return`The "${G}" argument must be of type number. Received type ${typeof O}`},TypeError),H("ERR_OUT_OF_RANGE",function(G,O,M){let Y=`The value of "${G}" is out of range.`,ne=M;return Number.isInteger(M)&&Math.abs(M)>2**32?ne=z(String(M)):typeof M=="bigint"&&(ne=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(ne=z(ne)),ne+="n"),Y+=` It must be ${O}. Received ${ne}`,Y},RangeError);function z(G){let O="",M=G.length;const Y=G[0]==="-"?1:0;for(;M>=Y+4;M-=3)O=`_${G.slice(M-3,M)}${O}`;return`${G.slice(0,M)}${O}`}function X(G,O,M){re(O,"offset"),(G[O]===void 0||G[O+M]===void 0)&&oe(O,G.length-(M+1))}function Q(G,O,M,Y,ne,le){if(G>M||G<O){const fe=typeof O=="bigint"?"n":"";let ve;throw O===0||O===BigInt(0)?ve=`>= 0${fe} and < 2${fe} ** ${(le+1)*8}${fe}`:ve=`>= -(2${fe} ** ${(le+1)*8-1}${fe}) and < 2 ** ${(le+1)*8-1}${fe}`,new ee.ERR_OUT_OF_RANGE("value",ve,G)}X(Y,ne,le)}function re(G,O){if(typeof G!="number")throw new ee.ERR_INVALID_ARG_TYPE(O,"number",G)}function oe(G,O,M){throw Math.floor(G)!==G?(re(G,M),new ee.ERR_OUT_OF_RANGE("offset","an integer",G)):O<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${O}`,G)}const se=/[^+/0-9A-Za-z-_]/g;function ae(G){if(G=G.split("=")[0],G=G.trim().replace(se,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function ce(G,O){O=O||1/0;let M;const Y=G.length;let ne=null;const le=[];for(let fe=0;fe<Y;++fe){if(M=G.charCodeAt(fe),M>55295&&M<57344){if(!ne){if(M>56319){(O-=3)>-1&&le.push(239,191,189);continue}else if(fe+1===Y){(O-=3)>-1&&le.push(239,191,189);continue}ne=M;continue}if(M<56320){(O-=3)>-1&&le.push(239,191,189),ne=M;continue}M=(ne-55296<<10|M-56320)+65536}else ne&&(O-=3)>-1&&le.push(239,191,189);if(ne=null,M<128){if((O-=1)<0)break;le.push(M)}else if(M<2048){if((O-=2)<0)break;le.push(M>>6|192,M&63|128)}else if(M<65536){if((O-=3)<0)break;le.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((O-=4)<0)break;le.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return le}function ue(G){const O=[];for(let M=0;M<G.length;++M)O.push(G.charCodeAt(M)&255);return O}function ie(G,O){let M,Y,ne;const le=[];for(let fe=0;fe<G.length&&!((O-=2)<0);++fe)M=G.charCodeAt(fe),Y=M>>8,ne=M%256,le.push(ne),le.push(Y);return le}function he(G){return r.toByteArray(ae(G))}function de(G,O,M,Y){let ne;for(ne=0;ne<Y&&!(ne+M>=O.length||ne>=G.length);++ne)O[ne+M]=G[ne];return ne}function $e(G,O){return G instanceof O||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===O.name}function pe(G){return G!==G}const ye=function(){const G="0123456789abcdef",O=new Array(256);for(let M=0;M<16;++M){const Y=M*16;for(let ne=0;ne<16;++ne)O[Y+ne]=G[M]+G[ne]}return O}();function be(G){return typeof BigInt>"u"?_e:G}function _e(){throw new Error("BigInt not supported")}}(buffer$1)),buffer$1}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var e=requireReact();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)c+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(r(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},u=Symbol.for("react.portal");function a(o,c,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:f==null?null:""+f,children:o,containerInfo:c,implementation:l}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function i(o,c){if(o==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,reactDom_production.createPortal=function(o,c){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(r(299));return a(o,c,null,l)},reactDom_production.flushSync=function(o){var c=s.T,l=n.p;try{if(s.T=null,n.p=2,o)return o()}finally{s.T=c,n.p=l,n.d.f()}},reactDom_production.preconnect=function(o,c){typeof o=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(o,c))},reactDom_production.prefetchDNS=function(o){typeof o=="string"&&n.d.D(o)},reactDom_production.preinit=function(o,c){if(typeof o=="string"&&c&&typeof c.as=="string"){var l=c.as,f=i(l,c.crossOrigin),d=typeof c.integrity=="string"?c.integrity:void 0,h=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;l==="style"?n.d.S(o,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:d,fetchPriority:h}):l==="script"&&n.d.X(o,{crossOrigin:f,integrity:d,fetchPriority:h,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},reactDom_production.preinitModule=function(o,c){if(typeof o=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var l=i(c.as,c.crossOrigin);n.d.M(o,{crossOrigin:l,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(o)},reactDom_production.preload=function(o,c){if(typeof o=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var l=c.as,f=i(l,c.crossOrigin);n.d.L(o,l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},reactDom_production.preloadModule=function(o,c){if(typeof o=="string")if(c){var l=i(c.as,c.crossOrigin);n.d.m(o,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:l,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(o)},reactDom_production.requestFormReset=function(o){n.d.r(o)},reactDom_production.unstable_batchedUpdates=function(o,c){return o(c)},reactDom_production.useFormState=function(o,c,l){return s.H.useFormState(o,c,l)},reactDom_production.useFormStatus=function(){return s.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),reactDom.exports=requireReactDom_production(),reactDom.exports}var browserIndex$4={},browserIndex$3={},keystore$3={},commonjs$j={},in_memory_key_store$3={},commonjs$i={},constants$5={},hasRequiredConstants$5;function requireConstants$5(){if(hasRequiredConstants$5)return constants$5;hasRequiredConstants$5=1,Object.defineProperty(constants$5,"__esModule",{value:!0}),constants$5.KeySize=constants$5.KeyType=void 0;var e;return function(r){r[r.ED25519=0]="ED25519",r[r.SECP256K1=1]="SECP256K1"}(e||(constants$5.KeyType=e={})),constants$5.KeySize={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64},constants$5}var key_pair$3={},key_pair_base$1={},hasRequiredKey_pair_base$1;function requireKey_pair_base$1(){if(hasRequiredKey_pair_base$1)return key_pair_base$1;hasRequiredKey_pair_base$1=1,Object.defineProperty(key_pair_base$1,"__esModule",{value:!0}),key_pair_base$1.KeyPairBase=void 0;class e{}return key_pair_base$1.KeyPairBase=e,key_pair_base$1}var key_pair_ed25519$1={},commonjs$h={},constants$4={},hasRequiredConstants$4;function requireConstants$4(){return hasRequiredConstants$4||(hasRequiredConstants$4=1,Object.defineProperty(constants$4,"__esModule",{value:!0}),constants$4.DEFAULT_FUNCTION_CALL_GAS=void 0,constants$4.DEFAULT_FUNCTION_CALL_GAS=30000000000000n),constants$4}var errors$7={},errors$6={};const GasLimitExceeded$1="Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName$1="Method name is empty",WasmerCompileError$1="Wasmer compilation error: {{msg}}",GuestPanic$1="Smart contract panicked: {{panic_msg}}",Memory$1="Error creating Wasm memory",GasExceeded$1="Exceeded the prepaid gas",MethodUTF8Error$1="Method name is not valid UTF8 string",BadUTF16$1="String encoding is bad UTF-16 sequence",WasmTrap$1="WebAssembly trap: {{msg}}",GasInstrumentation$1="Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex$1="{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex$1="Accessed invalid promise result index: {{result_idx}}",Deserialization$1="Error happened while deserializing the module",MethodNotFound$1="Contract method is not found",InvalidRegisterId$1="Accessed invalid register id: {{register_id}}",InvalidReceiptIndex$1="VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName$1="Method name is empty in contract call",CannotReturnJointPromise$1="Returning joint promise is currently prohibited",StackHeightInstrumentation$1="Stack instrumentation failed",CodeDoesNotExist$1="Cannot find contract code for account {{account_id}}",MethodInvalidSignature$1="Invalid method signature",IntegerOverflow$1="Integer overflow happened during contract execution",MemoryAccessViolation$1="MemoryAccessViolation",InvalidIteratorIndex$1="Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated$1="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId$1="VM Logic returned an invalid account id",Serialization$1="Error happened while serializing the module",CannotAppendActionToJointPromise$1="Actions can only be appended to non-joint promise.",InternalMemoryDeclared$1="Internal memory declaration has been found in the module",Instantiate$1="Error happened during instantiation",ProhibitedInView$1="{{method_name}} is not allowed in view calls",InvalidMethodName$1="VM Logic returned an invalid method name",BadUTF8$1="String encoding is bad UTF-8 sequence",BalanceExceeded$1="Exceeded the account balance",LinkError$1="Wasm contract link error: {{msg}}",InvalidPublicKey$1="VM Logic provided an invalid public key",ActorNoPermission$1="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState$1="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch$1="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow$1="Transaction gas or balance cost is too high",InvalidSignature$1="Transaction is not signed with the given public key",AccessKeyNotFound$1=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance$1="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance$1="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired$1="Transaction has expired",DeleteAccountStaking$1="Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist$1="Signer {{signer_id}} does not exist",TriesToStake$1="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists$1="The public key {{public_key}} is already used for an existing access key",InvalidSigner$1="Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed$1="The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess$1="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake$1="Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce$1="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists$1="Can't create a new account {{account_id}}, because it already exists",InvalidChain$1="Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist$1="Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist$1="Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch$1="Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent$1="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance$1="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver$1="Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist$1="Account {{account_id}} tries to remove an access key that doesn't exist",Timeout$1="Timeout exceeded",Closed$1="Connection closed",ShardCongested$1="Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later",ShardStuck$1="Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later",require$$0$4={GasLimitExceeded:GasLimitExceeded$1,MethodEmptyName:MethodEmptyName$1,WasmerCompileError:WasmerCompileError$1,GuestPanic:GuestPanic$1,Memory:Memory$1,GasExceeded:GasExceeded$1,MethodUTF8Error:MethodUTF8Error$1,BadUTF16:BadUTF16$1,WasmTrap:WasmTrap$1,GasInstrumentation:GasInstrumentation$1,InvalidPromiseIndex:InvalidPromiseIndex$1,InvalidPromiseResultIndex:InvalidPromiseResultIndex$1,Deserialization:Deserialization$1,MethodNotFound:MethodNotFound$1,InvalidRegisterId:InvalidRegisterId$1,InvalidReceiptIndex:InvalidReceiptIndex$1,EmptyMethodName:EmptyMethodName$1,CannotReturnJointPromise:CannotReturnJointPromise$1,StackHeightInstrumentation:StackHeightInstrumentation$1,CodeDoesNotExist:CodeDoesNotExist$1,MethodInvalidSignature:MethodInvalidSignature$1,IntegerOverflow:IntegerOverflow$1,MemoryAccessViolation:MemoryAccessViolation$1,InvalidIteratorIndex:InvalidIteratorIndex$1,IteratorWasInvalidated:IteratorWasInvalidated$1,InvalidAccountId:InvalidAccountId$1,Serialization:Serialization$1,CannotAppendActionToJointPromise:CannotAppendActionToJointPromise$1,InternalMemoryDeclared:InternalMemoryDeclared$1,Instantiate:Instantiate$1,ProhibitedInView:ProhibitedInView$1,InvalidMethodName:InvalidMethodName$1,BadUTF8:BadUTF8$1,BalanceExceeded:BalanceExceeded$1,LinkError:LinkError$1,InvalidPublicKey:InvalidPublicKey$1,ActorNoPermission:ActorNoPermission$1,LackBalanceForState:LackBalanceForState$1,ReceiverMismatch:ReceiverMismatch$1,CostOverflow:CostOverflow$1,InvalidSignature:InvalidSignature$1,AccessKeyNotFound:AccessKeyNotFound$1,NotEnoughBalance:NotEnoughBalance$1,NotEnoughAllowance:NotEnoughAllowance$1,Expired:Expired$1,DeleteAccountStaking:DeleteAccountStaking$1,SignerDoesNotExist:SignerDoesNotExist$1,TriesToStake:TriesToStake$1,AddKeyAlreadyExists:AddKeyAlreadyExists$1,InvalidSigner:InvalidSigner$1,CreateAccountNotAllowed:CreateAccountNotAllowed$1,RequiresFullAccess:RequiresFullAccess$1,TriesToUnstake:TriesToUnstake$1,InvalidNonce:InvalidNonce$1,AccountAlreadyExists:AccountAlreadyExists$1,InvalidChain:InvalidChain$1,AccountDoesNotExist:AccountDoesNotExist$1,AccessKeyDoesNotExist:AccessKeyDoesNotExist$1,MethodNameMismatch:MethodNameMismatch$1,DeleteAccountHasRent:DeleteAccountHasRent$1,DeleteAccountHasEnoughBalance:DeleteAccountHasEnoughBalance$1,InvalidReceiver:InvalidReceiver$1,DeleteKeyDoesNotExist:DeleteKeyDoesNotExist$1,Timeout:Timeout$1,Closed:Closed$1,ShardCongested:ShardCongested$1,ShardStuck:ShardStuck$1};var hasRequiredErrors$7;function requireErrors$7(){if(hasRequiredErrors$7)return errors$6;hasRequiredErrors$7=1;var e=errors$6&&errors$6.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(errors$6,"__esModule",{value:!0}),errors$6.ErrorMessages=void 0;const r=e(require$$0$4);return errors$6.ErrorMessages=r.default,errors$6}var rpc_errors$3={},commonjs$g={},assignable$1={},hasRequiredAssignable$1;function requireAssignable$1(){if(hasRequiredAssignable$1)return assignable$1;hasRequiredAssignable$1=1,Object.defineProperty(assignable$1,"__esModule",{value:!0}),assignable$1.Assignable=void 0;class e{constructor(t){Object.keys(t).map(n=>{this[n]=t[n]})}}return assignable$1.Assignable=e,assignable$1}var _enum$1={},hasRequired_enum$1;function require_enum$1(){if(hasRequired_enum$1)return _enum$1;hasRequired_enum$1=1,Object.defineProperty(_enum$1,"__esModule",{value:!0}),_enum$1.Enum=void 0;class e{constructor(t){if(Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(n=>{this[n]=t[n]})}}return _enum$1.Enum=e,_enum$1}var errors$5={},hasRequiredErrors$6;function requireErrors$6(){if(hasRequiredErrors$6)return errors$5;hasRequiredErrors$6=1,Object.defineProperty(errors$5,"__esModule",{value:!0}),errors$5.ErrorContext=errors$5.TypedError=errors$5.ArgumentTypeError=errors$5.PositionalArgsError=void 0;class e extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}errors$5.PositionalArgsError=e;class r extends Error{constructor(a,s,i){super(`Expected ${s} for '${a}' argument, but got '${JSON.stringify(i)}'`)}}errors$5.ArgumentTypeError=r;class t extends Error{constructor(s,i,o){super(s);J(this,"type");J(this,"context");this.type=i||"UntypedError",this.context=o}}errors$5.TypedError=t;class n{constructor(a){J(this,"transactionHash");this.transactionHash=a}}return errors$5.ErrorContext=n,errors$5}var provider$7={},light_client$1={},hasRequiredLight_client$1;function requireLight_client$1(){if(hasRequiredLight_client$1)return light_client$1;hasRequiredLight_client$1=1,Object.defineProperty(light_client$1,"__esModule",{value:!0}),light_client$1.IdType=void 0;var e;return function(r){r.Transaction="transaction",r.Receipt="receipt"}(e||(light_client$1.IdType=e={})),light_client$1}var response$1={},hasRequiredResponse$1;function requireResponse$1(){if(hasRequiredResponse$1)return response$1;hasRequiredResponse$1=1,Object.defineProperty(response$1,"__esModule",{value:!0}),response$1.FinalExecutionStatusBasic=response$1.ExecutionStatusBasic=void 0;var e;(function(t){t.Unknown="Unknown",t.Pending="Pending",t.Failure="Failure"})(e||(response$1.ExecutionStatusBasic=e={}));var r;return function(t){t.NotStarted="NotStarted",t.Started="Started",t.Failure="Failure"}(r||(response$1.FinalExecutionStatusBasic=r={})),response$1}var hasRequiredProvider$7;function requireProvider$7(){return hasRequiredProvider$7||(hasRequiredProvider$7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var r=requireLight_client$1();Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return r.IdType}});var t=requireResponse$1();Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return t.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return t.FinalExecutionStatusBasic}})}(provider$7)),provider$7}var hasRequiredCommonjs$j;function requireCommonjs$j(){return hasRequiredCommonjs$j||(hasRequiredCommonjs$j=1,function(e){var r=commonjs$g&&commonjs$g.__createBinding||(Object.create?function(n,u,a,s){s===void 0&&(s=a);var i=Object.getOwnPropertyDescriptor(u,a);(!i||("get"in i?!u.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return u[a]}}),Object.defineProperty(n,s,i)}:function(n,u,a,s){s===void 0&&(s=a),n[s]=u[a]}),t=commonjs$g&&commonjs$g.__exportStar||function(n,u){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&r(u,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(requireAssignable$1(),e),t(require_enum$1(),e),t(requireErrors$6(),e),t(requireProvider$7(),e)}(commonjs$g)),commonjs$g}var mustache$1={exports:{}},mustache=mustache$1.exports,hasRequiredMustache;function requireMustache(){return hasRequiredMustache||(hasRequiredMustache=1,function(e,r){(function(t,n){e.exports=n()})(mustache,function(){/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var t=Object.prototype.toString,n=Array.isArray||function(_){return t.call(_)==="[object Array]"};function u(y){return typeof y=="function"}function a(y){return n(y)?"array":typeof y}function s(y){return y.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(y,_){return y!=null&&typeof y=="object"&&_ in y}function o(y,_){return y!=null&&typeof y!="object"&&y.hasOwnProperty&&y.hasOwnProperty(_)}var c=RegExp.prototype.test;function l(y,_){return c.call(y,_)}var f=/\S/;function d(y){return!l(f,y)}var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function v(y){return String(y).replace(/[&<>"'`=\/]/g,function(b){return h[b]})}var p=/\s*/,g=/\s+/,E=/\s*=/,A=/\s*\}/,C=/#|\^|\/|>|\{|&|=|!/;function P(y,_){if(!y)return[];var b=!1,w=[],I=[],q=[],U=!1,x=!1,m="",T=0;function W(){if(U&&!x)for(;q.length;)delete I[q.pop()];else q=[];U=!1,x=!1}var F,D,V;function Z(ae){if(typeof ae=="string"&&(ae=ae.split(g,2)),!n(ae)||ae.length!==2)throw new Error("Invalid tags: "+ae);F=new RegExp(s(ae[0])+"\\s*"),D=new RegExp("\\s*"+s(ae[1])),V=new RegExp("\\s*"+s("}"+ae[1]))}Z(_||L.tags);for(var te=new j(y),ee,H,z,X,Q,re;!te.eos();){if(ee=te.pos,z=te.scanUntil(F),z)for(var oe=0,se=z.length;oe<se;++oe)X=z.charAt(oe),d(X)?(q.push(I.length),m+=X):(x=!0,b=!0,m+=" "),I.push(["text",X,ee,ee+1]),ee+=1,X===`
`&&(W(),m="",T=0,b=!1);if(!te.scan(F))break;if(U=!0,H=te.scan(C)||"name",te.scan(p),H==="="?(z=te.scanUntil(E),te.scan(E),te.scanUntil(D)):H==="{"?(z=te.scanUntil(V),te.scan(A),te.scanUntil(D),H="&"):z=te.scanUntil(D),!te.scan(D))throw new Error("Unclosed tag at "+te.pos);if(H==">"?Q=[H,z,ee,te.pos,m,T,b]:Q=[H,z,ee,te.pos],T++,I.push(Q),H==="#"||H==="^")w.push(Q);else if(H==="/"){if(re=w.pop(),!re)throw new Error('Unopened section "'+z+'" at '+ee);if(re[1]!==z)throw new Error('Unclosed section "'+re[1]+'" at '+ee)}else H==="name"||H==="{"||H==="&"?x=!0:H==="="&&Z(z)}if(W(),re=w.pop(),re)throw new Error('Unclosed section "'+re[1]+'" at '+te.pos);return N(S(I))}function S(y){for(var _=[],b,w,I=0,q=y.length;I<q;++I)b=y[I],b&&(b[0]==="text"&&w&&w[0]==="text"?(w[1]+=b[1],w[3]=b[3]):(_.push(b),w=b));return _}function N(y){for(var _=[],b=_,w=[],I,q,U=0,x=y.length;U<x;++U)switch(I=y[U],I[0]){case"#":case"^":b.push(I),w.push(I),b=I[4]=[];break;case"/":q=w.pop(),q[5]=I[2],b=w.length>0?w[w.length-1][4]:_;break;default:b.push(I)}return _}function j(y){this.string=y,this.tail=y,this.pos=0}j.prototype.eos=function(){return this.tail===""},j.prototype.scan=function(_){var b=this.tail.match(_);if(!b||b.index!==0)return"";var w=b[0];return this.tail=this.tail.substring(w.length),this.pos+=w.length,w},j.prototype.scanUntil=function(_){var b=this.tail.search(_),w;switch(b){case-1:w=this.tail,this.tail="";break;case 0:w="";break;default:w=this.tail.substring(0,b),this.tail=this.tail.substring(b)}return this.pos+=w.length,w};function k(y,_){this.view=y,this.cache={".":this.view},this.parent=_}k.prototype.push=function(_){return new k(_,this)},k.prototype.lookup=function(_){var b=this.cache,w;if(b.hasOwnProperty(_))w=b[_];else{for(var I=this,q,U,x,m=!1;I;){if(_.indexOf(".")>0)for(q=I.view,U=_.split("."),x=0;q!=null&&x<U.length;)x===U.length-1&&(m=i(q,U[x])||o(q,U[x])),q=q[U[x++]];else q=I.view[_],m=i(I.view,_);if(m){w=q;break}I=I.parent}b[_]=w}return u(w)&&(w=w.call(this.view)),w};function B(){this.templateCache={_cache:{},set:function(_,b){this._cache[_]=b},get:function(_){return this._cache[_]},clear:function(){this._cache={}}}}B.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},B.prototype.parse=function(_,b){var w=this.templateCache,I=_+":"+(b||L.tags).join(":"),q=typeof w<"u",U=q?w.get(I):void 0;return U==null&&(U=P(_,b),q&&w.set(I,U)),U},B.prototype.render=function(_,b,w,I){var q=this.parse(_,I),U=b instanceof k?b:new k(b,void 0);return this.renderTokens(q,U,w,_,I)},B.prototype.renderTokens=function(_,b,w,I,q){for(var U="",x,m,T,W=0,F=_.length;W<F;++W)T=void 0,x=_[W],m=x[0],m==="#"?T=this.renderSection(x,b,w,I):m==="^"?T=this.renderInverted(x,b,w,I):m===">"?T=this.renderPartial(x,b,w,q):m==="&"?T=this.unescapedValue(x,b):m==="name"?T=this.escapedValue(x,b):m==="text"&&(T=this.rawValue(x)),T!==void 0&&(U+=T);return U},B.prototype.renderSection=function(_,b,w,I){var q=this,U="",x=b.lookup(_[1]);function m(F){return q.render(F,b,w)}if(x){if(n(x))for(var T=0,W=x.length;T<W;++T)U+=this.renderTokens(_[4],b.push(x[T]),w,I);else if(typeof x=="object"||typeof x=="string"||typeof x=="number")U+=this.renderTokens(_[4],b.push(x),w,I);else if(u(x)){if(typeof I!="string")throw new Error("Cannot use higher-order sections without the original template");x=x.call(b.view,I.slice(_[3],_[5]),m),x!=null&&(U+=x)}else U+=this.renderTokens(_[4],b,w,I);return U}},B.prototype.renderInverted=function(_,b,w,I){var q=b.lookup(_[1]);if(!q||n(q)&&q.length===0)return this.renderTokens(_[4],b,w,I)},B.prototype.indentPartial=function(_,b,w){for(var I=b.replace(/[^ \t]/g,""),q=_.split(`
`),U=0;U<q.length;U++)q[U].length&&(U>0||!w)&&(q[U]=I+q[U]);return q.join(`
`)},B.prototype.renderPartial=function(_,b,w,I){if(w){var q=u(w)?w(_[1]):w[_[1]];if(q!=null){var U=_[6],x=_[5],m=_[4],T=q;return x==0&&m&&(T=this.indentPartial(q,m,U)),this.renderTokens(this.parse(T,I),b,w,T)}}},B.prototype.unescapedValue=function(_,b){var w=b.lookup(_[1]);if(w!=null)return w},B.prototype.escapedValue=function(_,b){var w=b.lookup(_[1]);if(w!=null)return L.escape(w)},B.prototype.rawValue=function(_){return _[1]};var L={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(y){R.templateCache=y},get templateCache(){return R.templateCache}},R=new B;return L.clearCache=function(){return R.clearCache()},L.parse=function(_,b){return R.parse(_,b)},L.render=function(_,b,w,I){if(typeof _!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+a(_)+'" was given as the first argument for mustache#render(template, view, partials)');return R.render(_,b,w,I)},L.escape=v,L.Scanner=j,L.Context=k,L.Writer=B,L})}(mustache$1)),mustache$1.exports}var format$3={},lib$4={},hasRequiredLib$4;function requireLib$4(){return hasRequiredLib$4||(hasRequiredLib$4=1,function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hexnopad=e.base32hex=e.base32nopad=e.base32=e.base16=e.utils=void 0;function r(D){return D instanceof Uint8Array||ArrayBuffer.isView(D)&&D.constructor.name==="Uint8Array"}function t(D,...V){if(!r(D))throw new Error("Uint8Array expected");if(V.length>0&&!V.includes(D.length))throw new Error("Uint8Array expected of length "+V+", got length="+D.length)}function n(D,V){return Array.isArray(V)?V.length===0?!0:D?V.every(Z=>typeof Z=="string"):V.every(Z=>Number.isSafeInteger(Z)):!1}function u(D){if(typeof D!="function")throw new Error("function expected");return!0}function a(D,V){if(typeof V!="string")throw new Error(`${D}: string expected`);return!0}function s(D){if(!Number.isSafeInteger(D))throw new Error(`invalid integer: ${D}`)}function i(D){if(!Array.isArray(D))throw new Error("array expected")}function o(D,V){if(!n(!0,V))throw new Error(`${D}: array of strings expected`)}function c(D,V){if(!n(!1,V))throw new Error(`${D}: array of numbers expected`)}function l(...D){const V=H=>H,Z=(H,z)=>X=>H(z(X)),te=D.map(H=>H.encode).reduceRight(Z,V),ee=D.map(H=>H.decode).reduce(Z,V);return{encode:te,decode:ee}}function f(D){const V=typeof D=="string"?D.split(""):D,Z=V.length;o("alphabet",V);const te=new Map(V.map((ee,H)=>[ee,H]));return{encode:ee=>(i(ee),ee.map(H=>{if(!Number.isSafeInteger(H)||H<0||H>=Z)throw new Error(`alphabet.encode: digit index outside alphabet "${H}". Allowed: ${D}`);return V[H]})),decode:ee=>(i(ee),ee.map(H=>{a("alphabet.decode",H);const z=te.get(H);if(z===void 0)throw new Error(`Unknown letter: "${H}". Allowed: ${D}`);return z}))}}function d(D=""){return a("join",D),{encode:V=>(o("join.decode",V),V.join(D)),decode:V=>(a("join.decode",V),V.split(D))}}function h(D,V="="){return s(D),a("padding",V),{encode(Z){for(o("padding.encode",Z);Z.length*D%8;)Z.push(V);return Z},decode(Z){o("padding.decode",Z);let te=Z.length;if(te*D%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;te>0&&Z[te-1]===V;te--)if((te-1)*D%8===0)throw new Error("padding: invalid, string has too much padding");return Z.slice(0,te)}}}function v(D){return u(D),{encode:V=>V,decode:V=>D(V)}}function p(D,V,Z){if(V<2)throw new Error(`convertRadix: invalid from=${V}, base cannot be less than 2`);if(Z<2)throw new Error(`convertRadix: invalid to=${Z}, base cannot be less than 2`);if(i(D),!D.length)return[];let te=0;const ee=[],H=Array.from(D,X=>{if(s(X),X<0||X>=V)throw new Error(`invalid integer: ${X}`);return X}),z=H.length;for(;;){let X=0,Q=!0;for(let re=te;re<z;re++){const oe=H[re],se=V*X,ae=se+oe;if(!Number.isSafeInteger(ae)||se/V!==X||ae-oe!==se)throw new Error("convertRadix: carry overflow");const ce=ae/Z;X=ae%Z;const ue=Math.floor(ce);if(H[re]=ue,!Number.isSafeInteger(ue)||ue*Z+X!==ae)throw new Error("convertRadix: carry overflow");if(Q)ue?Q=!1:te=re;else continue}if(ee.push(X),Q)break}for(let X=0;X<D.length-1&&D[X]===0;X++)ee.push(0);return ee.reverse()}const g=(D,V)=>V===0?D:g(V,D%V),E=(D,V)=>D+(V-g(D,V)),A=(()=>{let D=[];for(let V=0;V<40;V++)D.push(2**V);return D})();function C(D,V,Z,te){if(i(D),V<=0||V>32)throw new Error(`convertRadix2: wrong from=${V}`);if(Z<=0||Z>32)throw new Error(`convertRadix2: wrong to=${Z}`);if(E(V,Z)>32)throw new Error(`convertRadix2: carry overflow from=${V} to=${Z} carryBits=${E(V,Z)}`);let ee=0,H=0;const z=A[V],X=A[Z]-1,Q=[];for(const re of D){if(s(re),re>=z)throw new Error(`convertRadix2: invalid data word=${re} from=${V}`);if(ee=ee<<V|re,H+V>32)throw new Error(`convertRadix2: carry overflow pos=${H} from=${V}`);for(H+=V;H>=Z;H-=Z)Q.push((ee>>H-Z&X)>>>0);const oe=A[H];if(oe===void 0)throw new Error("invalid carry");ee&=oe-1}if(ee=ee<<Z-H&X,!te&&H>=V)throw new Error("Excess padding");if(!te&&ee>0)throw new Error(`Non-zero padding: ${ee}`);return te&&H>0&&Q.push(ee>>>0),Q}function P(D){s(D);const V=2**8;return{encode:Z=>{if(!r(Z))throw new Error("radix.encode input should be Uint8Array");return p(Array.from(Z),V,D)},decode:Z=>(c("radix.decode",Z),Uint8Array.from(p(Z,D,V)))}}function S(D,V=!1){if(s(D),D<=0||D>32)throw new Error("radix2: bits should be in (0..32]");if(E(8,D)>32||E(D,8)>32)throw new Error("radix2: carry overflow");return{encode:Z=>{if(!r(Z))throw new Error("radix2.encode input should be Uint8Array");return C(Array.from(Z),8,D,!V)},decode:Z=>(c("radix2.decode",Z),Uint8Array.from(C(Z,D,8,V)))}}function N(D){return u(D),function(...V){try{return D.apply(null,V)}catch{}}}function j(D,V){return s(D),u(V),{encode(Z){if(!r(Z))throw new Error("checksum.encode: input should be Uint8Array");const te=V(Z).slice(0,D),ee=new Uint8Array(Z.length+D);return ee.set(Z),ee.set(te,Z.length),ee},decode(Z){if(!r(Z))throw new Error("checksum.decode: input should be Uint8Array");const te=Z.slice(0,-D),ee=Z.slice(-D),H=V(te).slice(0,D);for(let z=0;z<D;z++)if(H[z]!==ee[z])throw new Error("Invalid checksum");return te}}}e.utils={alphabet:f,chain:l,checksum:j,convertRadix:p,convertRadix2:C,radix:P,radix2:S,join:d,padding:h},e.base16=l(S(4),f("0123456789ABCDEF"),d("")),e.base32=l(S(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),h(5),d("")),e.base32nopad=l(S(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),d("")),e.base32hex=l(S(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),h(5),d("")),e.base32hexnopad=l(S(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),d("")),e.base32crockford=l(S(5),f("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),d(""),v(D=>D.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const k=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",B=(D,V)=>{a("base64",D);const Z=V?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,te=V?"base64url":"base64";if(D.length>0&&!Z.test(D))throw new Error("invalid base64");return Uint8Array.fromBase64(D,{alphabet:te,lastChunkHandling:"strict"})};e.base64=k?{encode(D){return t(D),D.toBase64()},decode(D){return B(D,!1)}}:l(S(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),h(6),d("")),e.base64nopad=l(S(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),d("")),e.base64url=k?{encode(D){return t(D),D.toBase64({alphabet:"base64url"})},decode(D){return B(D,!0)}}:l(S(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),h(6),d("")),e.base64urlnopad=l(S(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),d(""));const L=D=>l(P(58),f(D),d(""));e.base58=L("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=L("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=L("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const R=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(D){let V="";for(let Z=0;Z<D.length;Z+=8){const te=D.subarray(Z,Z+8);V+=e.base58.encode(te).padStart(R[te.length],"1")}return V},decode(D){let V=[];for(let Z=0;Z<D.length;Z+=11){const te=D.slice(Z,Z+11),ee=R.indexOf(te.length),H=e.base58.decode(te);for(let z=0;z<H.length-ee;z++)if(H[z]!==0)throw new Error("base58xmr: wrong padding");V=V.concat(Array.from(H.slice(H.length-ee)))}return Uint8Array.from(V)}};const y=D=>l(j(4,V=>D(D(V))),e.base58);e.createBase58check=y,e.base58check=e.createBase58check;const _=l(f("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),d("")),b=[996825010,642813549,513874426,1027748829,705979059];function w(D){const V=D>>25;let Z=(D&33554431)<<5;for(let te=0;te<b.length;te++)(V>>te&1)===1&&(Z^=b[te]);return Z}function I(D,V,Z=1){const te=D.length;let ee=1;for(let H=0;H<te;H++){const z=D.charCodeAt(H);if(z<33||z>126)throw new Error(`Invalid prefix (${D})`);ee=w(ee)^z>>5}ee=w(ee);for(let H=0;H<te;H++)ee=w(ee)^D.charCodeAt(H)&31;for(let H of V)ee=w(ee)^H;for(let H=0;H<6;H++)ee=w(ee);return ee^=Z,_.encode(C([ee%A[30]],30,5,!1))}function q(D){const V=D==="bech32"?1:734539939,Z=S(5),te=Z.decode,ee=Z.encode,H=N(te);function z(se,ae,ce=90){a("bech32.encode prefix",se),r(ae)&&(ae=Array.from(ae)),c("bech32.encode",ae);const ue=se.length;if(ue===0)throw new TypeError(`Invalid prefix length ${ue}`);const ie=ue+7+ae.length;if(ce!==!1&&ie>ce)throw new TypeError(`Length ${ie} exceeds limit ${ce}`);const he=se.toLowerCase(),de=I(he,ae,V);return`${he}1${_.encode(ae)}${de}`}function X(se,ae=90){a("bech32.decode input",se);const ce=se.length;if(ce<8||ae!==!1&&ce>ae)throw new TypeError(`invalid string length: ${ce} (${se}). Expected (8..${ae})`);const ue=se.toLowerCase();if(se!==ue&&se!==se.toUpperCase())throw new Error("String must be lowercase or uppercase");const ie=ue.lastIndexOf("1");if(ie===0||ie===-1)throw new Error('Letter "1" must be present between prefix and data only');const he=ue.slice(0,ie),de=ue.slice(ie+1);if(de.length<6)throw new Error("Data must be at least 6 characters long");const $e=_.decode(de).slice(0,-6),pe=I(he,$e,V);if(!de.endsWith(pe))throw new Error(`Invalid checksum in ${se}: expected "${pe}"`);return{prefix:he,words:$e}}const Q=N(X);function re(se){const{prefix:ae,words:ce}=X(se,!1);return{prefix:ae,words:ce,bytes:te(ce)}}function oe(se,ae){return z(se,ee(ae))}return{encode:z,decode:X,encodeFromBytes:oe,decodeToBytes:re,decodeUnsafe:Q,fromWords:te,fromWordsUnsafe:H,toWords:ee}}e.bech32=q("bech32"),e.bech32m=q("bech32m"),e.utf8={encode:D=>new TextDecoder().decode(D),decode:D=>new TextEncoder().encode(D)};const U=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",x={encode(D){return t(D),D.toHex()},decode(D){return a("hex",D),Uint8Array.fromHex(D)}};e.hex=U?x:l(S(4),f("0123456789abcdef"),d(""),v(D=>{if(typeof D!="string"||D.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof D} with length ${D.length}`);return D.toLowerCase()}));const m={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},T="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",W=(D,V)=>{if(typeof D!="string"||!m.hasOwnProperty(D))throw new TypeError(T);if(!r(V))throw new TypeError("bytesToString() expects Uint8Array");return m[D].encode(V)};e.bytesToString=W,e.str=e.bytesToString;const F=(D,V)=>{if(!m.hasOwnProperty(D))throw new TypeError(T);if(typeof V!="string")throw new TypeError("stringToBytes() expects string");return m[D].decode(V)};e.stringToBytes=F,e.bytes=e.stringToBytes}(lib$4)),lib$4}var hasRequiredFormat$3;function requireFormat$3(){return hasRequiredFormat$3||(hasRequiredFormat$3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.baseDecode=e.baseEncode=e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const r=requireLib$4();e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=10n**BigInt(e.NEAR_NOMINATION_EXP);const t=[],n=10n;for(let d=0,h=5n;d<e.NEAR_NOMINATION_EXP;d++,h=h*n)t[d]=h;function u(d,h=e.NEAR_NOMINATION_EXP){let v=BigInt(d);if(h!==e.NEAR_NOMINATION_EXP){const E=e.NEAR_NOMINATION_EXP-h-1;E>0&&(v+=t[E])}d=v.toString();const p=d.substring(0,d.length-e.NEAR_NOMINATION_EXP)||"0",g=d.substring(d.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,h);return i(`${c(p)}.${g}`)}e.formatNearAmount=u;function a(d){if(!d)return null;d=s(d);const h=d.split("."),v=h[0],p=h[1]||"";if(h.length>2||p.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${d}' as NEAR amount`);return o(v+p.padEnd(e.NEAR_NOMINATION_EXP,"0"))}e.parseNearAmount=a;function s(d){return d.replace(/,/g,"").trim()}function i(d){return d.replace(/\.?0*$/,"")}function o(d){return d=d.replace(/^0+/,""),d===""?"0":d}function c(d){const h=/(-?\d+)(\d{3})/;for(;h.test(d);)d=d.replace(h,"$1,$2");return d}function l(d){if(typeof d=="string"){const h=[];for(let v=0;v<d.length;v++)h.push(d.charCodeAt(v));d=new Uint8Array(h)}return r.base58.encode(d)}e.baseEncode=l;function f(d){return r.base58.decode(d)}e.baseDecode=f}(format$3)),format$3}const schema$3=JSON.parse('{"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"AltBn128InvalidInput":{"name":"AltBn128InvalidInput","subtypes":[],"props":{"msg":""}},"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","forwarded_buffered_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_buffered_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DelegateActionExpired":{"name":"DelegateActionExpired","subtypes":[],"props":{}},"DelegateActionInvalidNonce":{"name":"DelegateActionInvalidNonce","subtypes":[],"props":{"ak_nonce":"","delegate_nonce":""}},"DelegateActionInvalidSignature":{"name":"DelegateActionInvalidSignature","subtypes":[],"props":{}},"DelegateActionMustBeOnlyOne":{"name":"DelegateActionMustBeOnlyOne","subtypes":[],"props":{}},"DelegateActionNonceTooLarge":{"name":"DelegateActionNonceTooLarge","subtypes":[],"props":{"delegate_nonce":"","upper_bound":""}},"DelegateActionSenderDoesNotMatchTxReceiver":{"name":"DelegateActionSenderDoesNotMatchTxReceiver","subtypes":[],"props":{"receiver_id":"","sender_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteAccountWithLargeState":{"name":"DeleteAccountWithLargeState","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"ECRecoverError":{"name":"ECRecoverError","subtypes":[],"props":{"msg":""}},"Ed25519VerifyInvalidInput":{"name":"Ed25519VerifyInvalidInput","subtypes":[],"props":{"msg":""}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"IndirectCallToNull":{"name":"IndirectCallToNull","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],"props":{}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NonceTooLarge":{"name":"NonceTooLarge","subtypes":[],"props":{"tx_nonce":"","upper_bound":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReceiptSizeExceeded":{"name":"ReceiptSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"ShardCongested":{"name":"ShardCongested","subtypes":[],"props":{"congestion_level":"","shard_id":""}},"ShardStuck":{"name":"ShardStuck","subtypes":[],"props":{"missed_chunks":"","shard_id":""}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TooManyFunctions":{"name":"TooManyFunctions","subtypes":[],"props":{}},"TooManyLocals":{"name":"TooManyLocals","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TransactionSizeExceeded":{"name":"TransactionSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"UnsupportedProtocolFeature":{"name":"UnsupportedProtocolFeature","subtypes":[],"props":{"protocol_feature":"","version":""}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}'),require$$4$1={schema:schema$3};var hasRequiredRpc_errors$3;function requireRpc_errors$3(){if(hasRequiredRpc_errors$3)return rpc_errors$3;hasRequiredRpc_errors$3=1;var e=rpc_errors$3&&rpc_errors$3.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(rpc_errors$3,"__esModule",{value:!0}),rpc_errors$3.getErrorTypeFromErrorMessage=rpc_errors$3.formatError=rpc_errors$3.parseResultError=rpc_errors$3.parseRpcError=rpc_errors$3.ServerError=void 0;const r=requireCommonjs$j(),t=e(requireMustache()),n=requireFormat$3(),u=requireErrors$7(),a=e(require$$4$1),s={formatNear:()=>(g,E)=>(0,n.formatNearAmount)(E(g))};class i extends r.TypedError{}rpc_errors$3.ServerError=i;class o extends i{constructor(){super(...arguments);J(this,"transaction_outcome")}}function c(g){const E={},A=d(g,a.default.schema,E,""),C=new i(f(A,E),A);return Object.assign(C,E),C}rpc_errors$3.parseRpcError=c;function l(g){const E=c(g.status.Failure),A=new o;return Object.assign(A,E),A.type=E.type,A.message=E.message,A.transaction_outcome=g.transaction_outcome,A}rpc_errors$3.parseResultError=l;function f(g,E){return typeof u.ErrorMessages[g]=="string"?t.default.render(u.ErrorMessages[g],{...E,...s}):JSON.stringify(E)}rpc_errors$3.formatError=f;function d(g,E,A,C){let P,S,N;for(const j in E){if(p(g[j]))return g[j];if(v(g[j]))P=g[j],S=E[j],N=j;else if(v(g.kind)&&v(g.kind[j]))P=g.kind[j],S=E[j],N=j;else continue}if(P&&S){for(const j of Object.keys(S.props))A[j]=P[j];return d(P,E,A,N)}else return A.kind=g,C}function h(g,E){switch(!0){case/^account .*? does not exist while viewing$/.test(g):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(g):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(g):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(g):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(g):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(g):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(g):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(g):return"InvalidNonce";default:return E}}rpc_errors$3.getErrorTypeFromErrorMessage=h;function v(g){return Object.prototype.toString.call(g)==="[object Object]"}function p(g){return Object.prototype.toString.call(g)==="[object String]"}return rpc_errors$3}var hasRequiredErrors$5;function requireErrors$5(){return hasRequiredErrors$5||(hasRequiredErrors$5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseRpcError=e.parseResultError=e.getErrorTypeFromErrorMessage=e.formatError=e.ServerError=e.ErrorMessages=void 0;var r=requireErrors$7();Object.defineProperty(e,"ErrorMessages",{enumerable:!0,get:function(){return r.ErrorMessages}});var t=requireRpc_errors$3();Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return t.ServerError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return t.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return t.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return t.parseResultError}}),Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return t.parseRpcError}})}(errors$7)),errors$7}var logging$1={},logger$6={},console_logger$1={},hasRequiredConsole_logger$1;function requireConsole_logger$1(){if(hasRequiredConsole_logger$1)return console_logger$1;hasRequiredConsole_logger$1=1,Object.defineProperty(console_logger$1,"__esModule",{value:!0}),console_logger$1.ConsoleLogger=void 0;class e{constructor(t){J(this,"logLevels");J(this,"isLevelEnabled",t=>this.logLevels.includes(t));this.logLevels=t}print(t,n,...u){switch(t){case"error":case"fatal":return console.error(n,...u);case"warn":return console.warn(n,...u);case"log":return console.log(n,...u);case"debug":case"verbose":return console.debug(n,...u)}}verbose(t,...n){this.isLevelEnabled("verbose")&&this.print("verbose",t,...n)}debug(t,...n){this.isLevelEnabled("debug")&&this.print("debug",t,...n)}log(t,...n){this.isLevelEnabled("log")&&this.print("log",t,...n)}warn(t,...n){this.isLevelEnabled("warn")&&this.print("warn",t,...n)}error(t,...n){this.isLevelEnabled("error")&&this.print("error",t,...n)}fatal(t,...n){this.isLevelEnabled("fatal")&&this.print("fatal",t,...n)}}return console_logger$1.ConsoleLogger=e,console_logger$1}var logger$5={},hasRequiredLogger$5;function requireLogger$5(){if(hasRequiredLogger$5)return logger$5;hasRequiredLogger$5=1,Object.defineProperty(logger$5,"__esModule",{value:!0}),logger$5.Logger=void 0;const e=requireConsole_logger$1(),r=["verbose","debug","log","warn","error","fatal"],t=new e.ConsoleLogger(r),u=class u{static error(s,...i){var o;(o=this.instanceRef)==null||o.error(s,...i)}static log(s,...i){var o;(o=this.instanceRef)==null||o.log(s,...i)}static warn(s,...i){var o;(o=this.instanceRef)==null||o.warn(s,...i)}static debug(s,...i){var o,c;(c=(o=this.instanceRef)==null?void 0:o.debug)==null||c.call(o,s,...i)}static verbose(s,...i){var o,c;(c=(o=this.instanceRef)==null?void 0:o.verbose)==null||c.call(o,s,...i)}static fatal(s,...i){var o,c;(c=(o=this.instanceRef)==null?void 0:o.fatal)==null||c.call(o,s,...i)}};J(u,"instanceRef",t),J(u,"overrideLogger",s=>{u.instanceRef=s});let n=u;return logger$5.Logger=n,logger$5}var hasRequiredLogger$4;function requireLogger$4(){return hasRequiredLogger$4||(hasRequiredLogger$4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.ConsoleLogger=void 0;var r=requireConsole_logger$1();Object.defineProperty(e,"ConsoleLogger",{enumerable:!0,get:function(){return r.ConsoleLogger}});var t=requireLogger$5();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})}(logger$6)),logger$6}var hasRequiredLogging$1;function requireLogging$1(){if(hasRequiredLogging$1)return logging$1;hasRequiredLogging$1=1,Object.defineProperty(logging$1,"__esModule",{value:!0}),logging$1.printTxOutcomeLogs=logging$1.printTxOutcomeLogsAndFailures=void 0;const e=requireErrors$5(),r=requireLogger$4();function t({contractId:u,outcome:a}){const s=[a.transaction_outcome,...a.receipts_outcome].reduce((i,o)=>{const c=typeof o.outcome.status=="object"&&typeof o.outcome.status.Failure=="object";return o.outcome.logs.length||c?i.concat({receiptIds:o.outcome.receipt_ids,logs:o.outcome.logs,failure:typeof o.outcome.status=="object"&&o.outcome.status.Failure!==void 0?(0,e.parseRpcError)(o.outcome.status.Failure):null}):i},[]);for(const i of s)r.Logger.log(`Receipt${i.receiptIds.length>1?"s":""}: ${i.receiptIds.join(", ")}`),n({contractId:u,logs:i.logs,prefix:"	"}),i.failure&&r.Logger.warn(`	Failure [${u}]: ${i.failure}`)}logging$1.printTxOutcomeLogsAndFailures=t;function n({contractId:u,logs:a,prefix:s=""}){for(const i of a)r.Logger.log(`${s}Log [${u}]: ${i}`)}return logging$1.printTxOutcomeLogs=n,logging$1}var provider$6={},hasRequiredProvider$6;function requireProvider$6(){if(hasRequiredProvider$6)return provider$6;hasRequiredProvider$6=1,Object.defineProperty(provider$6,"__esModule",{value:!0}),provider$6.getTransactionLastResult=void 0;function e(r){if(typeof r.status=="object"&&typeof r.status.SuccessValue=="string"){const t=Buffer.from(r.status.SuccessValue,"base64").toString();try{return JSON.parse(t)}catch{return t}}return null}return provider$6.getTransactionLastResult=e,provider$6}var validators$3={};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1,browser$2=e;function e(n){if(!n)throw new TypeError("argument namespace is required");function u(a){}return u._file=void 0,u._ignored=!0,u._namespace=n,u._traced=!1,u._warned=Object.create(null),u.function=r,u.property=t,u}function r(n,u){if(typeof n!="function")throw new TypeError("argument fn must be a function");return n}function t(n,u,a){if(!n||typeof n!="object"&&typeof n!="function")throw new TypeError("argument obj must be object");var s=Object.getOwnPropertyDescriptor(n,u);if(!s)throw new TypeError("must call property on owner object");if(!s.configurable)throw new TypeError("property must be configurable")}return browser$2}var utils$f={},hasRequiredUtils$e;function requireUtils$e(){if(hasRequiredUtils$e)return utils$f;hasRequiredUtils$e=1,Object.defineProperty(utils$f,"__esModule",{value:!0}),utils$f.sortBigIntAsc=void 0;function e(r,t){return r<t?-1:r>t?1:0}return utils$f.sortBigIntAsc=e,utils$f}var hasRequiredValidators$3;function requireValidators$3(){if(hasRequiredValidators$3)return validators$3;hasRequiredValidators$3=1;var e=validators$3&&validators$3.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(validators$3,"__esModule",{value:!0}),validators$3.diffEpochValidators=validators$3.findSeatPrice=void 0;const r=e(requireBrowser$2()),t=requireUtils$e();function n(i,o,c,l){return l&&l<49?u(i,o):(c||((0,r.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),c=[1,6250]),a(i,o,c))}validators$3.findSeatPrice=n;function u(i,o){const c=i.map(v=>BigInt(v.stake)).sort(t.sortBigIntAsc),l=BigInt(o),f=c.reduce((v,p)=>v+p);if(f<l)throw new Error("Stakes are below seats");let d=1n,h=f+1n;for(;d!==h-1n;){const v=(d+h)/2n;let p=!1,g=0n;for(let E=0;E<c.length;++E)if(g=g+c[E]/v,g>=l){d=v,p=!0;break}p||(h=v)}return d}function a(i,o,c){if(c.length!=2)throw Error("minimumStakeRatio should have 2 elements");const l=i.map(d=>BigInt(d.stake)).sort(t.sortBigIntAsc),f=l.reduce((d,h)=>d+h);return i.length<o?f*BigInt(c[0])/BigInt(c[1]):l[0]+1n}function s(i,o){const c=new Map;i.forEach(f=>c.set(f.account_id,f));const l=new Set(o.map(f=>f.account_id));return{newValidators:o.filter(f=>!c.has(f.account_id)),removedValidators:i.filter(f=>!l.has(f.account_id)),changedValidators:o.filter(f=>c.has(f.account_id)&&c.get(f.account_id).stake!=f.stake).map(f=>({current:c.get(f.account_id),next:f}))}}return validators$3.diffEpochValidators=s,validators$3}var hasRequiredCommonjs$i;function requireCommonjs$i(){return hasRequiredCommonjs$i||(hasRequiredCommonjs$i=1,function(e){var r=commonjs$h&&commonjs$h.__createBinding||(Object.create?function(n,u,a,s){s===void 0&&(s=a);var i=Object.getOwnPropertyDescriptor(u,a);(!i||("get"in i?!u.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return u[a]}}),Object.defineProperty(n,s,i)}:function(n,u,a,s){s===void 0&&(s=a),n[s]=u[a]}),t=commonjs$h&&commonjs$h.__exportStar||function(n,u){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&r(u,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(requireConstants$4(),e),t(requireErrors$5(),e),t(requireFormat$3(),e),t(requireLogging$1(),e),t(requireProvider$6(),e),t(requireValidators$3(),e),t(requireLogger$4(),e),t(requireUtils$e(),e)}(commonjs$h)),commonjs$h}var ed25519$1={},sha512$1={},_md={},_assert$2={},hasRequired_assert$2;function require_assert$2(){if(hasRequired_assert$2)return _assert$2;hasRequired_assert$2=1,Object.defineProperty(_assert$2,"__esModule",{value:!0}),_assert$2.anumber=e,_assert$2.abytes=t,_assert$2.ahash=n,_assert$2.aexists=u,_assert$2.aoutput=a;function e(s){if(!Number.isSafeInteger(s)||s<0)throw new Error("positive integer expected, got "+s)}function r(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function t(s,...i){if(!r(s))throw new Error("Uint8Array expected");if(i.length>0&&!i.includes(s.length))throw new Error("Uint8Array expected of length "+i+", got length="+s.length)}function n(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");e(s.outputLen),e(s.blockLen)}function u(s,i=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(i&&s.finished)throw new Error("Hash#digest() has already been called")}function a(s,i){t(s);const o=i.outputLen;if(s.length<o)throw new Error("digestInto() expects output buffer of length at least "+o)}return _assert$2}var utils$e={},crypto$2={},hasRequiredCrypto$2;function requireCrypto$2(){return hasRequiredCrypto$2||(hasRequiredCrypto$2=1,Object.defineProperty(crypto$2,"__esModule",{value:!0}),crypto$2.crypto=void 0,crypto$2.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),crypto$2}var hasRequiredUtils$d;function requireUtils$d(){return hasRequiredUtils$d||(hasRequiredUtils$d=1,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.isLE=void 0,e.isBytes=n,e.u8=u,e.u32=a,e.createView=s,e.rotr=i,e.rotl=o,e.byteSwap=c,e.byteSwap32=l,e.bytesToHex=d,e.hexToBytes=p,e.asyncLoop=E,e.utf8ToBytes=A,e.toBytes=C,e.concatBytes=P,e.checkOpts=N,e.wrapConstructor=j,e.wrapConstructorWithOpts=k,e.wrapXOFConstructorWithOpts=B,e.randomBytes=L;const r=requireCrypto$2(),t=require_assert$2();function n(R){return R instanceof Uint8Array||ArrayBuffer.isView(R)&&R.constructor.name==="Uint8Array"}function u(R){return new Uint8Array(R.buffer,R.byteOffset,R.byteLength)}function a(R){return new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4))}function s(R){return new DataView(R.buffer,R.byteOffset,R.byteLength)}function i(R,y){return R<<32-y|R>>>y}function o(R,y){return R<<y|R>>>32-y>>>0}e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function c(R){return R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255}e.byteSwapIfBE=e.isLE?R=>R:R=>c(R);function l(R){for(let y=0;y<R.length;y++)R[y]=c(R[y])}const f=Array.from({length:256},(R,y)=>y.toString(16).padStart(2,"0"));function d(R){(0,t.abytes)(R);let y="";for(let _=0;_<R.length;_++)y+=f[R[_]];return y}const h={_0:48,_9:57,A:65,F:70,a:97,f:102};function v(R){if(R>=h._0&&R<=h._9)return R-h._0;if(R>=h.A&&R<=h.F)return R-(h.A-10);if(R>=h.a&&R<=h.f)return R-(h.a-10)}function p(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const y=R.length,_=y/2;if(y%2)throw new Error("hex string expected, got unpadded hex of length "+y);const b=new Uint8Array(_);for(let w=0,I=0;w<_;w++,I+=2){const q=v(R.charCodeAt(I)),U=v(R.charCodeAt(I+1));if(q===void 0||U===void 0){const x=R[I]+R[I+1];throw new Error('hex string expected, got non-hex character "'+x+'" at index '+I)}b[w]=q*16+U}return b}const g=async()=>{};e.nextTick=g;async function E(R,y,_){let b=Date.now();for(let w=0;w<R;w++){_(w);const I=Date.now()-b;I>=0&&I<y||(await(0,e.nextTick)(),b+=I)}}function A(R){if(typeof R!="string")throw new Error("utf8ToBytes expected string, got "+typeof R);return new Uint8Array(new TextEncoder().encode(R))}function C(R){return typeof R=="string"&&(R=A(R)),(0,t.abytes)(R),R}function P(...R){let y=0;for(let b=0;b<R.length;b++){const w=R[b];(0,t.abytes)(w),y+=w.length}const _=new Uint8Array(y);for(let b=0,w=0;b<R.length;b++){const I=R[b];_.set(I,w),w+=I.length}return _}class S{clone(){return this._cloneInto()}}e.Hash=S;function N(R,y){if(y!==void 0&&{}.toString.call(y)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,y)}function j(R){const y=b=>R().update(C(b)).digest(),_=R();return y.outputLen=_.outputLen,y.blockLen=_.blockLen,y.create=()=>R(),y}function k(R){const y=(b,w)=>R(w).update(C(b)).digest(),_=R({});return y.outputLen=_.outputLen,y.blockLen=_.blockLen,y.create=b=>R(b),y}function B(R){const y=(b,w)=>R(w).update(C(b)).digest(),_=R({});return y.outputLen=_.outputLen,y.blockLen=_.blockLen,y.create=b=>R(b),y}function L(R=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(R));if(r.crypto&&typeof r.crypto.randomBytes=="function")return r.crypto.randomBytes(R);throw new Error("crypto.getRandomValues must be defined")}}(utils$e)),utils$e}var hasRequired_md;function require_md(){if(hasRequired_md)return _md;hasRequired_md=1,Object.defineProperty(_md,"__esModule",{value:!0}),_md.HashMD=void 0,_md.setBigUint64=t,_md.Chi=n,_md.Maj=u;const e=require_assert$2(),r=requireUtils$d();function t(s,i,o,c){if(typeof s.setBigUint64=="function")return s.setBigUint64(i,o,c);const l=BigInt(32),f=BigInt(4294967295),d=Number(o>>l&f),h=Number(o&f),v=c?4:0,p=c?0:4;s.setUint32(i+v,d,c),s.setUint32(i+p,h,c)}function n(s,i,o){return s&i^~s&o}function u(s,i,o){return s&i^s&o^i&o}class a extends r.Hash{constructor(i,o,c,l){super(),this.blockLen=i,this.outputLen=o,this.padOffset=c,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=(0,r.createView)(this.buffer)}update(i){(0,e.aexists)(this);const{view:o,buffer:c,blockLen:l}=this;i=(0,r.toBytes)(i);const f=i.length;for(let d=0;d<f;){const h=Math.min(l-this.pos,f-d);if(h===l){const v=(0,r.createView)(i);for(;l<=f-d;d+=l)this.process(v,d);continue}c.set(i.subarray(d,d+h),this.pos),this.pos+=h,d+=h,this.pos===l&&(this.process(o,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){(0,e.aexists)(this),(0,e.aoutput)(i,this),this.finished=!0;const{buffer:o,view:c,blockLen:l,isLE:f}=this;let{pos:d}=this;o[d++]=128,this.buffer.subarray(d).fill(0),this.padOffset>l-d&&(this.process(c,0),d=0);for(let E=d;E<l;E++)o[E]=0;t(c,l-8,BigInt(this.length*8),f),this.process(c,0);const h=(0,r.createView)(i),v=this.outputLen;if(v%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=v/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<p;E++)h.setUint32(4*E,g[E],f)}digest(){const{buffer:i,outputLen:o}=this;this.digestInto(i);const c=i.slice(0,o);return this.destroy(),c}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:o,buffer:c,length:l,finished:f,destroyed:d,pos:h}=this;return i.length=l,i.pos=h,i.finished=f,i.destroyed=d,l%o&&i.buffer.set(c),i}}return _md.HashMD=a,_md}var _u64$1={},hasRequired_u64$1;function require_u64$1(){if(hasRequired_u64$1)return _u64$1;hasRequired_u64$1=1,Object.defineProperty(_u64$1,"__esModule",{value:!0}),_u64$1.add5L=_u64$1.add5H=_u64$1.add4H=_u64$1.add4L=_u64$1.add3H=_u64$1.add3L=_u64$1.rotlBL=_u64$1.rotlBH=_u64$1.rotlSL=_u64$1.rotlSH=_u64$1.rotr32L=_u64$1.rotr32H=_u64$1.rotrBL=_u64$1.rotrBH=_u64$1.rotrSL=_u64$1.rotrSH=_u64$1.shrSL=_u64$1.shrSH=_u64$1.toBig=void 0,_u64$1.fromBig=t,_u64$1.split=n,_u64$1.add=E;const e=BigInt(2**32-1),r=BigInt(32);function t(B,L=!1){return L?{h:Number(B&e),l:Number(B>>r&e)}:{h:Number(B>>r&e)|0,l:Number(B&e)|0}}function n(B,L=!1){let R=new Uint32Array(B.length),y=new Uint32Array(B.length);for(let _=0;_<B.length;_++){const{h:b,l:w}=t(B[_],L);[R[_],y[_]]=[b,w]}return[R,y]}const u=(B,L)=>BigInt(B>>>0)<<r|BigInt(L>>>0);_u64$1.toBig=u;const a=(B,L,R)=>B>>>R;_u64$1.shrSH=a;const s=(B,L,R)=>B<<32-R|L>>>R;_u64$1.shrSL=s;const i=(B,L,R)=>B>>>R|L<<32-R;_u64$1.rotrSH=i;const o=(B,L,R)=>B<<32-R|L>>>R;_u64$1.rotrSL=o;const c=(B,L,R)=>B<<64-R|L>>>R-32;_u64$1.rotrBH=c;const l=(B,L,R)=>B>>>R-32|L<<64-R;_u64$1.rotrBL=l;const f=(B,L)=>L;_u64$1.rotr32H=f;const d=(B,L)=>B;_u64$1.rotr32L=d;const h=(B,L,R)=>B<<R|L>>>32-R;_u64$1.rotlSH=h;const v=(B,L,R)=>L<<R|B>>>32-R;_u64$1.rotlSL=v;const p=(B,L,R)=>L<<R-32|B>>>64-R;_u64$1.rotlBH=p;const g=(B,L,R)=>B<<R-32|L>>>64-R;_u64$1.rotlBL=g;function E(B,L,R,y){const _=(L>>>0)+(y>>>0);return{h:B+R+(_/2**32|0)|0,l:_|0}}const A=(B,L,R)=>(B>>>0)+(L>>>0)+(R>>>0);_u64$1.add3L=A;const C=(B,L,R,y)=>L+R+y+(B/2**32|0)|0;_u64$1.add3H=C;const P=(B,L,R,y)=>(B>>>0)+(L>>>0)+(R>>>0)+(y>>>0);_u64$1.add4L=P;const S=(B,L,R,y,_)=>L+R+y+_+(B/2**32|0)|0;_u64$1.add4H=S;const N=(B,L,R,y,_)=>(B>>>0)+(L>>>0)+(R>>>0)+(y>>>0)+(_>>>0);_u64$1.add5L=N;const j=(B,L,R,y,_,b)=>L+R+y+_+b+(B/2**32|0)|0;_u64$1.add5H=j;const k={fromBig:t,split:n,toBig:u,shrSH:a,shrSL:s,rotrSH:i,rotrSL:o,rotrBH:c,rotrBL:l,rotr32H:f,rotr32L:d,rotlSH:h,rotlSL:v,rotlBH:p,rotlBL:g,add:E,add3L:A,add3H:C,add4L:P,add4H:S,add5H:j,add5L:N};return _u64$1.default=k,_u64$1}var hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$1;hasRequiredSha512$1=1,Object.defineProperty(sha512$1,"__esModule",{value:!0}),sha512$1.sha384=sha512$1.sha512_256=sha512$1.sha512_224=sha512$1.sha512=sha512$1.SHA384=sha512$1.SHA512_256=sha512$1.SHA512_224=sha512$1.SHA512=void 0;const e=require_md(),r=require_u64$1(),t=requireUtils$d(),[n,u]=r.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(f=>BigInt(f))),a=new Uint32Array(80),s=new Uint32Array(80);class i extends e.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:d,Al:h,Bh:v,Bl:p,Ch:g,Cl:E,Dh:A,Dl:C,Eh:P,El:S,Fh:N,Fl:j,Gh:k,Gl:B,Hh:L,Hl:R}=this;return[d,h,v,p,g,E,A,C,P,S,N,j,k,B,L,R]}set(d,h,v,p,g,E,A,C,P,S,N,j,k,B,L,R){this.Ah=d|0,this.Al=h|0,this.Bh=v|0,this.Bl=p|0,this.Ch=g|0,this.Cl=E|0,this.Dh=A|0,this.Dl=C|0,this.Eh=P|0,this.El=S|0,this.Fh=N|0,this.Fl=j|0,this.Gh=k|0,this.Gl=B|0,this.Hh=L|0,this.Hl=R|0}process(d,h){for(let b=0;b<16;b++,h+=4)a[b]=d.getUint32(h),s[b]=d.getUint32(h+=4);for(let b=16;b<80;b++){const w=a[b-15]|0,I=s[b-15]|0,q=r.default.rotrSH(w,I,1)^r.default.rotrSH(w,I,8)^r.default.shrSH(w,I,7),U=r.default.rotrSL(w,I,1)^r.default.rotrSL(w,I,8)^r.default.shrSL(w,I,7),x=a[b-2]|0,m=s[b-2]|0,T=r.default.rotrSH(x,m,19)^r.default.rotrBH(x,m,61)^r.default.shrSH(x,m,6),W=r.default.rotrSL(x,m,19)^r.default.rotrBL(x,m,61)^r.default.shrSL(x,m,6),F=r.default.add4L(U,W,s[b-7],s[b-16]),D=r.default.add4H(F,q,T,a[b-7],a[b-16]);a[b]=D|0,s[b]=F|0}let{Ah:v,Al:p,Bh:g,Bl:E,Ch:A,Cl:C,Dh:P,Dl:S,Eh:N,El:j,Fh:k,Fl:B,Gh:L,Gl:R,Hh:y,Hl:_}=this;for(let b=0;b<80;b++){const w=r.default.rotrSH(N,j,14)^r.default.rotrSH(N,j,18)^r.default.rotrBH(N,j,41),I=r.default.rotrSL(N,j,14)^r.default.rotrSL(N,j,18)^r.default.rotrBL(N,j,41),q=N&k^~N&L,U=j&B^~j&R,x=r.default.add5L(_,I,U,u[b],s[b]),m=r.default.add5H(x,y,w,q,n[b],a[b]),T=x|0,W=r.default.rotrSH(v,p,28)^r.default.rotrBH(v,p,34)^r.default.rotrBH(v,p,39),F=r.default.rotrSL(v,p,28)^r.default.rotrBL(v,p,34)^r.default.rotrBL(v,p,39),D=v&g^v&A^g&A,V=p&E^p&C^E&C;y=L|0,_=R|0,L=k|0,R=B|0,k=N|0,B=j|0,{h:N,l:j}=r.default.add(P|0,S|0,m|0,T|0),P=A|0,S=C|0,A=g|0,C=E|0,g=v|0,E=p|0;const Z=r.default.add3L(T,F,V);v=r.default.add3H(Z,m,W,D),p=Z|0}({h:v,l:p}=r.default.add(this.Ah|0,this.Al|0,v|0,p|0)),{h:g,l:E}=r.default.add(this.Bh|0,this.Bl|0,g|0,E|0),{h:A,l:C}=r.default.add(this.Ch|0,this.Cl|0,A|0,C|0),{h:P,l:S}=r.default.add(this.Dh|0,this.Dl|0,P|0,S|0),{h:N,l:j}=r.default.add(this.Eh|0,this.El|0,N|0,j|0),{h:k,l:B}=r.default.add(this.Fh|0,this.Fl|0,k|0,B|0),{h:L,l:R}=r.default.add(this.Gh|0,this.Gl|0,L|0,R|0),{h:y,l:_}=r.default.add(this.Hh|0,this.Hl|0,y|0,_|0),this.set(v,p,g,E,A,C,P,S,N,j,k,B,L,R,y,_)}roundClean(){a.fill(0),s.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha512$1.SHA512=i;class o extends i{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}sha512$1.SHA512_224=o;class c extends i{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}sha512$1.SHA512_256=c;class l extends i{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}return sha512$1.SHA384=l,sha512$1.sha512=(0,t.wrapConstructor)(()=>new i),sha512$1.sha512_224=(0,t.wrapConstructor)(()=>new o),sha512$1.sha512_256=(0,t.wrapConstructor)(()=>new c),sha512$1.sha384=(0,t.wrapConstructor)(()=>new l),sha512$1}var curve$2={},modular$1={},utils$d={},hasRequiredUtils$c;function requireUtils$c(){if(hasRequiredUtils$c)return utils$d;hasRequiredUtils$c=1;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(utils$d,"__esModule",{value:!0}),utils$d.notImplemented=utils$d.bitMask=void 0,utils$d.isBytes=n,utils$d.abytes=u,utils$d.abool=a,utils$d.bytesToHex=i,utils$d.numberToHexUnpadded=o,utils$d.hexToNumber=c,utils$d.hexToBytes=d,utils$d.bytesToNumberBE=h,utils$d.bytesToNumberLE=v,utils$d.numberToBytesBE=p,utils$d.numberToBytesLE=g,utils$d.numberToVarBytesBE=E,utils$d.ensureBytes=A,utils$d.concatBytes=C,utils$d.equalBytes=P,utils$d.utf8ToBytes=S,utils$d.inRange=j,utils$d.aInRange=k,utils$d.bitLen=B,utils$d.bitGet=L,utils$d.bitSet=R,utils$d.createHmacDrbg=w,utils$d.validateObject=q,utils$d.memoized=x;const e=BigInt(0),r=BigInt(1),t=BigInt(2);function n(m){return m instanceof Uint8Array||ArrayBuffer.isView(m)&&m.constructor.name==="Uint8Array"}function u(m){if(!n(m))throw new Error("Uint8Array expected")}function a(m,T){if(typeof T!="boolean")throw new Error(m+" boolean expected, got "+T)}const s=Array.from({length:256},(m,T)=>T.toString(16).padStart(2,"0"));function i(m){u(m);let T="";for(let W=0;W<m.length;W++)T+=s[m[W]];return T}function o(m){const T=m.toString(16);return T.length&1?"0"+T:T}function c(m){if(typeof m!="string")throw new Error("hex string expected, got "+typeof m);return m===""?e:BigInt("0x"+m)}const l={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(m){if(m>=l._0&&m<=l._9)return m-l._0;if(m>=l.A&&m<=l.F)return m-(l.A-10);if(m>=l.a&&m<=l.f)return m-(l.a-10)}function d(m){if(typeof m!="string")throw new Error("hex string expected, got "+typeof m);const T=m.length,W=T/2;if(T%2)throw new Error("hex string expected, got unpadded hex of length "+T);const F=new Uint8Array(W);for(let D=0,V=0;D<W;D++,V+=2){const Z=f(m.charCodeAt(V)),te=f(m.charCodeAt(V+1));if(Z===void 0||te===void 0){const ee=m[V]+m[V+1];throw new Error('hex string expected, got non-hex character "'+ee+'" at index '+V)}F[D]=Z*16+te}return F}function h(m){return c(i(m))}function v(m){return u(m),c(i(Uint8Array.from(m).reverse()))}function p(m,T){return d(m.toString(16).padStart(T*2,"0"))}function g(m,T){return p(m,T).reverse()}function E(m){return d(o(m))}function A(m,T,W){let F;if(typeof T=="string")try{F=d(T)}catch(V){throw new Error(m+" must be hex string or Uint8Array, cause: "+V)}else if(n(T))F=Uint8Array.from(T);else throw new Error(m+" must be hex string or Uint8Array");const D=F.length;if(typeof W=="number"&&D!==W)throw new Error(m+" of length "+W+" expected, got "+D);return F}function C(...m){let T=0;for(let F=0;F<m.length;F++){const D=m[F];u(D),T+=D.length}const W=new Uint8Array(T);for(let F=0,D=0;F<m.length;F++){const V=m[F];W.set(V,D),D+=V.length}return W}function P(m,T){if(m.length!==T.length)return!1;let W=0;for(let F=0;F<m.length;F++)W|=m[F]^T[F];return W===0}function S(m){if(typeof m!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(m))}const N=m=>typeof m=="bigint"&&e<=m;function j(m,T,W){return N(m)&&N(T)&&N(W)&&T<=m&&m<W}function k(m,T,W,F){if(!j(T,W,F))throw new Error("expected valid "+m+": "+W+" <= n < "+F+", got "+T)}function B(m){let T;for(T=0;m>e;m>>=r,T+=1);return T}function L(m,T){return m>>BigInt(T)&r}function R(m,T,W){return m|(W?r:e)<<BigInt(T)}const y=m=>(t<<BigInt(m-1))-r;utils$d.bitMask=y;const _=m=>new Uint8Array(m),b=m=>Uint8Array.from(m);function w(m,T,W){if(typeof m!="number"||m<2)throw new Error("hashLen must be a number");if(typeof T!="number"||T<2)throw new Error("qByteLen must be a number");if(typeof W!="function")throw new Error("hmacFn must be a function");let F=_(m),D=_(m),V=0;const Z=()=>{F.fill(1),D.fill(0),V=0},te=(...X)=>W(D,F,...X),ee=(X=_())=>{D=te(b([0]),X),F=te(),X.length!==0&&(D=te(b([1]),X),F=te())},H=()=>{if(V++>=1e3)throw new Error("drbg: tried 1000 values");let X=0;const Q=[];for(;X<T;){F=te();const re=F.slice();Q.push(re),X+=F.length}return C(...Q)};return(X,Q)=>{Z(),ee(X);let re;for(;!(re=Q(H()));)ee();return Z(),re}}const I={bigint:m=>typeof m=="bigint",function:m=>typeof m=="function",boolean:m=>typeof m=="boolean",string:m=>typeof m=="string",stringOrUint8Array:m=>typeof m=="string"||n(m),isSafeInteger:m=>Number.isSafeInteger(m),array:m=>Array.isArray(m),field:(m,T)=>T.Fp.isValid(m),hash:m=>typeof m=="function"&&Number.isSafeInteger(m.outputLen)};function q(m,T,W={}){const F=(D,V,Z)=>{const te=I[V];if(typeof te!="function")throw new Error("invalid validator function");const ee=m[D];if(!(Z&&ee===void 0)&&!te(ee,m))throw new Error("param "+String(D)+" is invalid. Expected "+V+", got "+ee)};for(const[D,V]of Object.entries(T))F(D,V,!1);for(const[D,V]of Object.entries(W))F(D,V,!0);return m}const U=()=>{throw new Error("not implemented")};utils$d.notImplemented=U;function x(m){const T=new WeakMap;return(W,...F)=>{const D=T.get(W);if(D!==void 0)return D;const V=m(W,...F);return T.set(W,V),V}}return utils$d}var hasRequiredModular$1;function requireModular$1(){if(hasRequiredModular$1)return modular$1;hasRequiredModular$1=1,Object.defineProperty(modular$1,"__esModule",{value:!0}),modular$1.isNegativeLE=void 0,modular$1.mod=o,modular$1.pow=c,modular$1.pow2=l,modular$1.invert=f,modular$1.tonelliShanks=d,modular$1.FpSqrt=h,modular$1.validateField=g,modular$1.FpPow=E,modular$1.FpInvertBatch=A,modular$1.FpDiv=C,modular$1.FpLegendre=P,modular$1.FpIsSquare=S,modular$1.nLength=N,modular$1.Field=j,modular$1.FpSqrtOdd=k,modular$1.FpSqrtEven=B,modular$1.hashToPrivateScalar=L,modular$1.getFieldBytesLength=R,modular$1.getMinHashLength=y,modular$1.mapHashToField=_;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=requireUtils$c(),r=BigInt(0),t=BigInt(1),n=BigInt(2),u=BigInt(3),a=BigInt(4),s=BigInt(5),i=BigInt(8);function o(b,w){const I=b%w;return I>=r?I:w+I}function c(b,w,I){if(w<r)throw new Error("invalid exponent, negatives unsupported");if(I<=r)throw new Error("invalid modulus");if(I===t)return r;let q=t;for(;w>r;)w&t&&(q=q*b%I),b=b*b%I,w>>=t;return q}function l(b,w,I){let q=b;for(;w-- >r;)q*=q,q%=I;return q}function f(b,w){if(b===r)throw new Error("invert: expected non-zero number");if(w<=r)throw new Error("invert: expected positive modulus, got "+w);let I=o(b,w),q=w,U=r,x=t;for(;I!==r;){const T=q/I,W=q%I,F=U-x*T;q=I,I=W,U=x,x=F}if(q!==t)throw new Error("invert: does not exist");return o(U,w)}function d(b){const w=(b-t)/n;let I,q,U;for(I=b-t,q=0;I%n===r;I/=n,q++);for(U=n;U<b&&c(U,w,b)!==b-t;U++)if(U>1e3)throw new Error("Cannot find square root: likely non-prime P");if(q===1){const m=(b+t)/a;return function(W,F){const D=W.pow(F,m);if(!W.eql(W.sqr(D),F))throw new Error("Cannot find square root");return D}}const x=(I+t)/n;return function(T,W){if(T.pow(W,w)===T.neg(T.ONE))throw new Error("Cannot find square root");let F=q,D=T.pow(T.mul(T.ONE,U),I),V=T.pow(W,x),Z=T.pow(W,I);for(;!T.eql(Z,T.ONE);){if(T.eql(Z,T.ZERO))return T.ZERO;let te=1;for(let H=T.sqr(Z);te<F&&!T.eql(H,T.ONE);te++)H=T.sqr(H);const ee=T.pow(D,t<<BigInt(F-te-1));D=T.sqr(ee),V=T.mul(V,ee),Z=T.mul(Z,D),F=te}return V}}function h(b){if(b%a===u){const w=(b+t)/a;return function(q,U){const x=q.pow(U,w);if(!q.eql(q.sqr(x),U))throw new Error("Cannot find square root");return x}}if(b%i===s){const w=(b-s)/i;return function(q,U){const x=q.mul(U,n),m=q.pow(x,w),T=q.mul(U,m),W=q.mul(q.mul(T,n),m),F=q.mul(T,q.sub(W,q.ONE));if(!q.eql(q.sqr(F),U))throw new Error("Cannot find square root");return F}}return d(b)}const v=(b,w)=>(o(b,w)&t)===t;modular$1.isNegativeLE=v;const p=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(b){const w={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},I=p.reduce((q,U)=>(q[U]="function",q),w);return(0,e.validateObject)(b,I)}function E(b,w,I){if(I<r)throw new Error("invalid exponent, negatives unsupported");if(I===r)return b.ONE;if(I===t)return w;let q=b.ONE,U=w;for(;I>r;)I&t&&(q=b.mul(q,U)),U=b.sqr(U),I>>=t;return q}function A(b,w){const I=new Array(w.length),q=w.reduce((x,m,T)=>b.is0(m)?x:(I[T]=x,b.mul(x,m)),b.ONE),U=b.inv(q);return w.reduceRight((x,m,T)=>b.is0(m)?x:(I[T]=b.mul(x,I[T]),b.mul(x,m)),U),I}function C(b,w,I){return b.mul(w,typeof I=="bigint"?f(I,b.ORDER):b.inv(I))}function P(b){const w=(b-t)/n;return(I,q)=>I.pow(q,w)}function S(b){const w=P(b.ORDER);return I=>{const q=w(b,I);return b.eql(q,b.ZERO)||b.eql(q,b.ONE)}}function N(b,w){const I=w!==void 0?w:b.toString(2).length,q=Math.ceil(I/8);return{nBitLength:I,nByteLength:q}}function j(b,w,I=!1,q={}){if(b<=r)throw new Error("invalid field: expected ORDER > 0, got "+b);const{nBitLength:U,nByteLength:x}=N(b,w);if(x>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let m;const T=Object.freeze({ORDER:b,isLE:I,BITS:U,BYTES:x,MASK:(0,e.bitMask)(U),ZERO:r,ONE:t,create:W=>o(W,b),isValid:W=>{if(typeof W!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof W);return r<=W&&W<b},is0:W=>W===r,isOdd:W=>(W&t)===t,neg:W=>o(-W,b),eql:(W,F)=>W===F,sqr:W=>o(W*W,b),add:(W,F)=>o(W+F,b),sub:(W,F)=>o(W-F,b),mul:(W,F)=>o(W*F,b),pow:(W,F)=>E(T,W,F),div:(W,F)=>o(W*f(F,b),b),sqrN:W=>W*W,addN:(W,F)=>W+F,subN:(W,F)=>W-F,mulN:(W,F)=>W*F,inv:W=>f(W,b),sqrt:q.sqrt||(W=>(m||(m=h(b)),m(T,W))),invertBatch:W=>A(T,W),cmov:(W,F,D)=>D?F:W,toBytes:W=>I?(0,e.numberToBytesLE)(W,x):(0,e.numberToBytesBE)(W,x),fromBytes:W=>{if(W.length!==x)throw new Error("Field.fromBytes: expected "+x+" bytes, got "+W.length);return I?(0,e.bytesToNumberLE)(W):(0,e.bytesToNumberBE)(W)}});return Object.freeze(T)}function k(b,w){if(!b.isOdd)throw new Error("Field doesn't have isOdd");const I=b.sqrt(w);return b.isOdd(I)?I:b.neg(I)}function B(b,w){if(!b.isOdd)throw new Error("Field doesn't have isOdd");const I=b.sqrt(w);return b.isOdd(I)?b.neg(I):I}function L(b,w,I=!1){b=(0,e.ensureBytes)("privateHash",b);const q=b.length,U=N(w).nByteLength+8;if(U<24||q<U||q>1024)throw new Error("hashToPrivateScalar: expected "+U+"-1024 bytes of input, got "+q);const x=I?(0,e.bytesToNumberLE)(b):(0,e.bytesToNumberBE)(b);return o(x,w-t)+t}function R(b){if(typeof b!="bigint")throw new Error("field order must be bigint");const w=b.toString(2).length;return Math.ceil(w/8)}function y(b){const w=R(b);return w+Math.ceil(w/2)}function _(b,w,I=!1){const q=b.length,U=R(w),x=y(w);if(q<16||q<x||q>1024)throw new Error("expected "+x+"-1024 bytes of input, got "+q);const m=I?(0,e.bytesToNumberLE)(b):(0,e.bytesToNumberBE)(b),T=o(m,w-t)+t;return I?(0,e.numberToBytesLE)(T,U):(0,e.numberToBytesBE)(T,U)}return modular$1}var hasRequiredCurve$2;function requireCurve$2(){if(hasRequiredCurve$2)return curve$2;hasRequiredCurve$2=1,Object.defineProperty(curve$2,"__esModule",{value:!0}),curve$2.wNAF=d,curve$2.pippenger=h,curve$2.precomputeMSMUnsafe=v,curve$2.validateBasic=p;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=requireModular$1(),r=requireUtils$c(),t=BigInt(0),n=BigInt(1);function u(g,E){const A=E.negate();return g?A:E}function a(g,E){if(!Number.isSafeInteger(g)||g<=0||g>E)throw new Error("invalid window size, expected [1.."+E+"], got W="+g)}function s(g,E){a(g,E);const A=Math.ceil(E/g)+1,C=2**(g-1);return{windows:A,windowSize:C}}function i(g,E){if(!Array.isArray(g))throw new Error("array expected");g.forEach((A,C)=>{if(!(A instanceof E))throw new Error("invalid point at index "+C)})}function o(g,E){if(!Array.isArray(g))throw new Error("array of scalars expected");g.forEach((A,C)=>{if(!E.isValid(A))throw new Error("invalid scalar at index "+C)})}const c=new WeakMap,l=new WeakMap;function f(g){return l.get(g)||1}function d(g,E){return{constTimeNegate:u,hasPrecomputes(A){return f(A)!==1},unsafeLadder(A,C,P=g.ZERO){let S=A;for(;C>t;)C&n&&(P=P.add(S)),S=S.double(),C>>=n;return P},precomputeWindow(A,C){const{windows:P,windowSize:S}=s(C,E),N=[];let j=A,k=j;for(let B=0;B<P;B++){k=j,N.push(k);for(let L=1;L<S;L++)k=k.add(j),N.push(k);j=k.double()}return N},wNAF(A,C,P){const{windows:S,windowSize:N}=s(A,E);let j=g.ZERO,k=g.BASE;const B=BigInt(2**A-1),L=2**A,R=BigInt(A);for(let y=0;y<S;y++){const _=y*N;let b=Number(P&B);P>>=R,b>N&&(b-=L,P+=n);const w=_,I=_+Math.abs(b)-1,q=y%2!==0,U=b<0;b===0?k=k.add(u(q,C[w])):j=j.add(u(U,C[I]))}return{p:j,f:k}},wNAFUnsafe(A,C,P,S=g.ZERO){const{windows:N,windowSize:j}=s(A,E),k=BigInt(2**A-1),B=2**A,L=BigInt(A);for(let R=0;R<N;R++){const y=R*j;if(P===t)break;let _=Number(P&k);if(P>>=L,_>j&&(_-=B,P+=n),_===0)continue;let b=C[y+Math.abs(_)-1];_<0&&(b=b.negate()),S=S.add(b)}return S},getPrecomputes(A,C,P){let S=c.get(C);return S||(S=this.precomputeWindow(C,A),A!==1&&c.set(C,P(S))),S},wNAFCached(A,C,P){const S=f(A);return this.wNAF(S,this.getPrecomputes(S,A,P),C)},wNAFCachedUnsafe(A,C,P,S){const N=f(A);return N===1?this.unsafeLadder(A,C,S):this.wNAFUnsafe(N,this.getPrecomputes(N,A,P),C,S)},setWindowSize(A,C){a(C,E),l.set(A,C),c.delete(A)}}}function h(g,E,A,C){if(i(A,g),o(C,E),A.length!==C.length)throw new Error("arrays of points and scalars must have equal length");const P=g.ZERO,S=(0,r.bitLen)(BigInt(A.length)),N=S>12?S-3:S>4?S-2:S?2:1,j=(1<<N)-1,k=new Array(j+1).fill(P),B=Math.floor((E.BITS-1)/N)*N;let L=P;for(let R=B;R>=0;R-=N){k.fill(P);for(let _=0;_<C.length;_++){const b=C[_],w=Number(b>>BigInt(R)&BigInt(j));k[w]=k[w].add(A[_])}let y=P;for(let _=k.length-1,b=P;_>0;_--)b=b.add(k[_]),y=y.add(b);if(L=L.add(y),R!==0)for(let _=0;_<N;_++)L=L.double()}return L}function v(g,E,A,C){a(C,E.BITS),i(A,g);const P=g.ZERO,S=2**C-1,N=Math.ceil(E.BITS/C),j=BigInt((1<<C)-1),k=A.map(B=>{const L=[];for(let R=0,y=B;R<S;R++)L.push(y),y=y.add(B);return L});return B=>{if(o(B,E),B.length>A.length)throw new Error("array of scalars must be smaller than array of points");let L=P;for(let R=0;R<N;R++){if(L!==P)for(let _=0;_<C;_++)L=L.double();const y=BigInt(N*C-(R+1)*C);for(let _=0;_<B.length;_++){const b=B[_],w=Number(b>>y&j);w&&(L=L.add(k[_][w-1]))}}return L}}function p(g){return(0,e.validateField)(g.Fp),(0,r.validateObject)(g,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,e.nLength)(g.n,g.nBitLength),...g,p:g.Fp.ORDER})}return curve$2}var edwards$2={},hasRequiredEdwards$2;function requireEdwards$2(){if(hasRequiredEdwards$2)return edwards$2;hasRequiredEdwards$2=1,Object.defineProperty(edwards$2,"__esModule",{value:!0}),edwards$2.twistedEdwards=l;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=requireCurve$2(),r=requireModular$1(),t=requireUtils$c(),n=requireUtils$c(),u=BigInt(0),a=BigInt(1),s=BigInt(2),i=BigInt(8),o={zip215:!0};function c(f){const d=(0,e.validateBasic)(f);return t.validateObject(f,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...d})}function l(f){const d=c(f),{Fp:h,n:v,prehash:p,hash:g,randomBytes:E,nByteLength:A,h:C}=d,P=s<<BigInt(A*8)-a,S=h.create,N=(0,r.Field)(d.n,d.nBitLength),j=d.uvRatio||((te,ee)=>{try{return{isValid:!0,value:h.sqrt(te*h.inv(ee))}}catch{return{isValid:!1,value:u}}}),k=d.adjustScalarBytes||(te=>te),B=d.domain||((te,ee,H)=>{if((0,n.abool)("phflag",H),ee.length||H)throw new Error("Contexts/pre-hash are not supported");return te});function L(te,ee){t.aInRange("coordinate "+te,ee,u,P)}function R(te){if(!(te instanceof b))throw new Error("ExtendedPoint expected")}const y=(0,n.memoized)((te,ee)=>{const{ex:H,ey:z,ez:X}=te,Q=te.is0();ee==null&&(ee=Q?i:h.inv(X));const re=S(H*ee),oe=S(z*ee),se=S(X*ee);if(Q)return{x:u,y:a};if(se!==a)throw new Error("invZ was invalid");return{x:re,y:oe}}),_=(0,n.memoized)(te=>{const{a:ee,d:H}=d;if(te.is0())throw new Error("bad point: ZERO");const{ex:z,ey:X,ez:Q,et:re}=te,oe=S(z*z),se=S(X*X),ae=S(Q*Q),ce=S(ae*ae),ue=S(oe*ee),ie=S(ae*S(ue+se)),he=S(ce+S(H*S(oe*se)));if(ie!==he)throw new Error("bad point: equation left != right (1)");const de=S(z*X),$e=S(Q*re);if(de!==$e)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(ee,H,z,X){this.ex=ee,this.ey=H,this.ez=z,this.et=X,L("x",ee),L("y",H),L("z",z),L("t",X),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(ee){if(ee instanceof b)throw new Error("extended point not allowed");const{x:H,y:z}=ee||{};return L("x",H),L("y",z),new b(H,z,a,S(H*z))}static normalizeZ(ee){const H=h.invertBatch(ee.map(z=>z.ez));return ee.map((z,X)=>z.toAffine(H[X])).map(b.fromAffine)}static msm(ee,H){return(0,e.pippenger)(b,N,ee,H)}_setWindowSize(ee){q.setWindowSize(this,ee)}assertValidity(){_(this)}equals(ee){R(ee);const{ex:H,ey:z,ez:X}=this,{ex:Q,ey:re,ez:oe}=ee,se=S(H*oe),ae=S(Q*X),ce=S(z*oe),ue=S(re*X);return se===ae&&ce===ue}is0(){return this.equals(b.ZERO)}negate(){return new b(S(-this.ex),this.ey,this.ez,S(-this.et))}double(){const{a:ee}=d,{ex:H,ey:z,ez:X}=this,Q=S(H*H),re=S(z*z),oe=S(s*S(X*X)),se=S(ee*Q),ae=H+z,ce=S(S(ae*ae)-Q-re),ue=se+re,ie=ue-oe,he=se-re,de=S(ce*ie),$e=S(ue*he),pe=S(ce*he),ye=S(ie*ue);return new b(de,$e,ye,pe)}add(ee){R(ee);const{a:H,d:z}=d,{ex:X,ey:Q,ez:re,et:oe}=this,{ex:se,ey:ae,ez:ce,et:ue}=ee;if(H===BigInt(-1)){const ne=S((Q-X)*(ae+se)),le=S((Q+X)*(ae-se)),fe=S(le-ne);if(fe===u)return this.double();const ve=S(re*s*ue),Se=S(oe*s*ce),ge=Se+ve,me=le+ne,Ee=Se-ve,we=S(ge*fe),Ae=S(me*Ee),ke=S(ge*Ee),Ie=S(fe*me);return new b(we,Ae,Ie,ke)}const ie=S(X*se),he=S(Q*ae),de=S(oe*z*ue),$e=S(re*ce),pe=S((X+Q)*(se+ae)-ie-he),ye=$e-de,be=$e+de,_e=S(he-H*ie),G=S(pe*ye),O=S(be*_e),M=S(pe*_e),Y=S(ye*be);return new b(G,O,Y,M)}subtract(ee){return this.add(ee.negate())}wNAF(ee){return q.wNAFCached(this,ee,b.normalizeZ)}multiply(ee){const H=ee;t.aInRange("scalar",H,a,v);const{p:z,f:X}=this.wNAF(H);return b.normalizeZ([z,X])[0]}multiplyUnsafe(ee,H=b.ZERO){const z=ee;return t.aInRange("scalar",z,u,v),z===u?I:this.is0()||z===a?this:q.wNAFCachedUnsafe(this,z,b.normalizeZ,H)}isSmallOrder(){return this.multiplyUnsafe(C).is0()}isTorsionFree(){return q.unsafeLadder(this,v).is0()}toAffine(ee){return y(this,ee)}clearCofactor(){const{h:ee}=d;return ee===a?this:this.multiplyUnsafe(ee)}static fromHex(ee,H=!1){const{d:z,a:X}=d,Q=h.BYTES;ee=(0,n.ensureBytes)("pointHex",ee,Q),(0,n.abool)("zip215",H);const re=ee.slice(),oe=ee[Q-1];re[Q-1]=oe&-129;const se=t.bytesToNumberLE(re),ae=H?P:h.ORDER;t.aInRange("pointHex.y",se,u,ae);const ce=S(se*se),ue=S(ce-a),ie=S(z*ce-X);let{isValid:he,value:de}=j(ue,ie);if(!he)throw new Error("Point.fromHex: invalid y coordinate");const $e=(de&a)===a,pe=(oe&128)!==0;if(!H&&de===u&&pe)throw new Error("Point.fromHex: x=0 and x_0=1");return pe!==$e&&(de=S(-de)),b.fromAffine({x:de,y:se})}static fromPrivateKey(ee){return m(ee).point}toRawBytes(){const{x:ee,y:H}=this.toAffine(),z=t.numberToBytesLE(H,h.BYTES);return z[z.length-1]|=ee&a?128:0,z}toHex(){return t.bytesToHex(this.toRawBytes())}}b.BASE=new b(d.Gx,d.Gy,a,S(d.Gx*d.Gy)),b.ZERO=new b(u,a,a,u);const{BASE:w,ZERO:I}=b,q=(0,e.wNAF)(b,A*8);function U(te){return(0,r.mod)(te,v)}function x(te){return U(t.bytesToNumberLE(te))}function m(te){const ee=h.BYTES;te=(0,n.ensureBytes)("private key",te,ee);const H=(0,n.ensureBytes)("hashed private key",g(te),2*ee),z=k(H.slice(0,ee)),X=H.slice(ee,2*ee),Q=x(z),re=w.multiply(Q),oe=re.toRawBytes();return{head:z,prefix:X,scalar:Q,point:re,pointBytes:oe}}function T(te){return m(te).pointBytes}function W(te=new Uint8Array,...ee){const H=t.concatBytes(...ee);return x(g(B(H,(0,n.ensureBytes)("context",te),!!p)))}function F(te,ee,H={}){te=(0,n.ensureBytes)("message",te),p&&(te=p(te));const{prefix:z,scalar:X,pointBytes:Q}=m(ee),re=W(H.context,z,te),oe=w.multiply(re).toRawBytes(),se=W(H.context,oe,Q,te),ae=U(re+se*X);t.aInRange("signature.s",ae,u,v);const ce=t.concatBytes(oe,t.numberToBytesLE(ae,h.BYTES));return(0,n.ensureBytes)("result",ce,h.BYTES*2)}const D=o;function V(te,ee,H,z=D){const{context:X,zip215:Q}=z,re=h.BYTES;te=(0,n.ensureBytes)("signature",te,2*re),ee=(0,n.ensureBytes)("message",ee),H=(0,n.ensureBytes)("publicKey",H,re),Q!==void 0&&(0,n.abool)("zip215",Q),p&&(ee=p(ee));const oe=t.bytesToNumberLE(te.slice(re,2*re));let se,ae,ce;try{se=b.fromHex(H,Q),ae=b.fromHex(te.slice(0,re),Q),ce=w.multiplyUnsafe(oe)}catch{return!1}if(!Q&&se.isSmallOrder())return!1;const ue=W(X,ae.toRawBytes(),se.toRawBytes(),ee);return ae.add(se.multiplyUnsafe(ue)).subtract(ce).clearCofactor().equals(b.ZERO)}return w._setWindowSize(8),{CURVE:d,getPublicKey:T,sign:F,verify:V,ExtendedPoint:b,utils:{getExtendedPublicKey:m,randomPrivateKey:()=>E(h.BYTES),precompute(te=8,ee=b.BASE){return ee._setWindowSize(te),ee.multiply(BigInt(3)),ee}}}}return edwards$2}var hashToCurve$1={},hasRequiredHashToCurve$1;function requireHashToCurve$1(){if(hasRequiredHashToCurve$1)return hashToCurve$1;hasRequiredHashToCurve$1=1,Object.defineProperty(hashToCurve$1,"__esModule",{value:!0}),hashToCurve$1.expand_message_xmd=s,hashToCurve$1.expand_message_xof=i,hashToCurve$1.hash_to_field=o,hashToCurve$1.isogenyMap=c,hashToCurve$1.createHasher=l;const e=requireModular$1(),r=requireUtils$c(),t=r.bytesToNumberBE;function n(f,d){if(a(f),a(d),f<0||f>=1<<8*d)throw new Error("invalid I2OSP input: "+f);const h=Array.from({length:d}).fill(0);for(let v=d-1;v>=0;v--)h[v]=f&255,f>>>=8;return new Uint8Array(h)}function u(f,d){const h=new Uint8Array(f.length);for(let v=0;v<f.length;v++)h[v]=f[v]^d[v];return h}function a(f){if(!Number.isSafeInteger(f))throw new Error("number expected")}function s(f,d,h,v){(0,r.abytes)(f),(0,r.abytes)(d),a(h),d.length>255&&(d=v((0,r.concatBytes)((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-"),d)));const{outputLen:p,blockLen:g}=v,E=Math.ceil(h/p);if(h>65535||E>255)throw new Error("expand_message_xmd: invalid lenInBytes");const A=(0,r.concatBytes)(d,n(d.length,1)),C=n(0,g),P=n(h,2),S=new Array(E),N=v((0,r.concatBytes)(C,f,P,n(0,1),A));S[0]=v((0,r.concatBytes)(N,n(1,1),A));for(let k=1;k<=E;k++){const B=[u(N,S[k-1]),n(k+1,1),A];S[k]=v((0,r.concatBytes)(...B))}return(0,r.concatBytes)(...S).slice(0,h)}function i(f,d,h,v,p){if((0,r.abytes)(f),(0,r.abytes)(d),a(h),d.length>255){const g=Math.ceil(2*v/8);d=p.create({dkLen:g}).update((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(d).digest()}if(h>65535||d.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return p.create({dkLen:h}).update(f).update(n(h,2)).update(d).update(n(d.length,1)).digest()}function o(f,d,h){(0,r.validateObject)(h,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:v,k:p,m:g,hash:E,expand:A,DST:C}=h;(0,r.abytes)(f),a(d);const P=typeof C=="string"?(0,r.utf8ToBytes)(C):C,S=v.toString(2).length,N=Math.ceil((S+p)/8),j=d*g*N;let k;if(A==="xmd")k=s(f,P,j,E);else if(A==="xof")k=i(f,P,j,p,E);else if(A==="_internal_pass")k=f;else throw new Error('expand must be "xmd" or "xof"');const B=new Array(d);for(let L=0;L<d;L++){const R=new Array(g);for(let y=0;y<g;y++){const _=N*(y+L*g),b=k.subarray(_,_+N);R[y]=(0,e.mod)(t(b),v)}B[L]=R}return B}function c(f,d){const h=d.map(v=>Array.from(v).reverse());return(v,p)=>{const[g,E,A,C]=h.map(P=>P.reduce((S,N)=>f.add(f.mul(S,v),N)));return v=f.div(g,E),p=f.mul(p,f.div(A,C)),{x:v,y:p}}}function l(f,d,h){if(typeof d!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(v,p){const g=o(v,2,{...h,DST:h.DST,...p}),E=f.fromAffine(d(g[0])),A=f.fromAffine(d(g[1])),C=E.add(A).clearCofactor();return C.assertValidity(),C},encodeToCurve(v,p){const g=o(v,1,{...h,DST:h.encodeDST,...p}),E=f.fromAffine(d(g[0])).clearCofactor();return E.assertValidity(),E},mapToCurve(v){if(!Array.isArray(v))throw new Error("mapToCurve: expected array of bigints");for(const g of v)if(typeof g!="bigint")throw new Error("mapToCurve: expected array of bigints");const p=f.fromAffine(d(v)).clearCofactor();return p.assertValidity(),p}}}return hashToCurve$1}var montgomery$1={},hasRequiredMontgomery$1;function requireMontgomery$1(){if(hasRequiredMontgomery$1)return montgomery$1;hasRequiredMontgomery$1=1,Object.defineProperty(montgomery$1,"__esModule",{value:!0}),montgomery$1.montgomery=a;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=requireModular$1(),r=requireUtils$c(),t=BigInt(0),n=BigInt(1);function u(s){return(0,r.validateObject)(s,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...s})}function a(s){const i=u(s),{P:o}=i,c=k=>(0,e.mod)(k,o),l=i.montgomeryBits,f=Math.ceil(l/8),d=i.nByteLength,h=i.adjustScalarBytes||(k=>k),v=i.powPminus2||(k=>(0,e.pow)(k,o-BigInt(2),o));function p(k,B,L){const R=c(k*(B-L));return B=c(B-R),L=c(L+R),[B,L]}const g=(i.a-BigInt(2))/BigInt(4);function E(k,B){(0,r.aInRange)("u",k,t,o),(0,r.aInRange)("scalar",B,t,o);const L=B,R=k;let y=n,_=t,b=k,w=n,I=t,q;for(let x=BigInt(l-1);x>=t;x--){const m=L>>x&n;I^=m,q=p(I,y,b),y=q[0],b=q[1],q=p(I,_,w),_=q[0],w=q[1],I=m;const T=y+_,W=c(T*T),F=y-_,D=c(F*F),V=W-D,Z=b+w,te=b-w,ee=c(te*T),H=c(Z*F),z=ee+H,X=ee-H;b=c(z*z),w=c(R*c(X*X)),y=c(W*D),_=c(V*(W+c(g*V)))}q=p(I,y,b),y=q[0],b=q[1],q=p(I,_,w),_=q[0],w=q[1];const U=v(_);return c(y*U)}function A(k){return(0,r.numberToBytesLE)(c(k),f)}function C(k){const B=(0,r.ensureBytes)("u coordinate",k,f);return d===32&&(B[31]&=127),(0,r.bytesToNumberLE)(B)}function P(k){const B=(0,r.ensureBytes)("scalar",k),L=B.length;if(L!==f&&L!==d){let R=""+f+" or "+d;throw new Error("invalid scalar, expected "+R+" bytes, got "+L)}return(0,r.bytesToNumberLE)(h(B))}function S(k,B){const L=C(B),R=P(k),y=E(L,R);if(y===t)throw new Error("invalid private or public key received");return A(y)}const N=A(i.Gu);function j(k){return S(k,N)}return{scalarMult:S,scalarMultBase:j,getSharedSecret:(k,B)=>S(k,B),getPublicKey:k=>j(k),utils:{randomPrivateKey:()=>i.randomBytes(i.nByteLength)},GuBytes:N}}return montgomery$1}var hasRequiredEd25519$1;function requireEd25519$1(){return hasRequiredEd25519$1||(hasRequiredEd25519$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomery=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0,e.edwardsToMontgomeryPub=j,e.edwardsToMontgomeryPriv=k;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r=requireSha512$1(),t=requireUtils$d(),n=requireCurve$2(),u=requireEdwards$2(),a=requireHashToCurve$1(),s=requireModular$1(),i=requireMontgomery$1(),o=requireUtils$c(),c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),f=BigInt(0),d=BigInt(1),h=BigInt(2),v=BigInt(3),p=BigInt(5),g=BigInt(8);function E(ee){const H=BigInt(10),z=BigInt(20),X=BigInt(40),Q=BigInt(80),re=c,se=ee*ee%re*ee%re,ae=(0,s.pow2)(se,h,re)*se%re,ce=(0,s.pow2)(ae,d,re)*ee%re,ue=(0,s.pow2)(ce,p,re)*ce%re,ie=(0,s.pow2)(ue,H,re)*ue%re,he=(0,s.pow2)(ie,z,re)*ie%re,de=(0,s.pow2)(he,X,re)*he%re,$e=(0,s.pow2)(de,Q,re)*de%re,pe=(0,s.pow2)($e,Q,re)*de%re,ye=(0,s.pow2)(pe,H,re)*ue%re;return{pow_p_5_8:(0,s.pow2)(ye,h,re)*ee%re,b2:se}}function A(ee){return ee[0]&=248,ee[31]&=127,ee[31]|=64,ee}function C(ee,H){const z=c,X=(0,s.mod)(H*H*H,z),Q=(0,s.mod)(X*X*H,z),re=E(ee*Q).pow_p_5_8;let oe=(0,s.mod)(ee*X*re,z);const se=(0,s.mod)(H*oe*oe,z),ae=oe,ce=(0,s.mod)(oe*l,z),ue=se===ee,ie=se===(0,s.mod)(-ee,z),he=se===(0,s.mod)(-ee*l,z);return ue&&(oe=ae),(ie||he)&&(oe=ce),(0,s.isNegativeLE)(oe,z)&&(oe=(0,s.mod)(-oe,z)),{isValid:ue||ie,value:oe}}e.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const P=(0,s.Field)(c,void 0,!0),S={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:P,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:g,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:r.sha512,randomBytes:t.randomBytes,adjustScalarBytes:A,uvRatio:C};e.ed25519=(0,u.twistedEdwards)(S);function N(ee,H,z){if(H.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([z?1:0,H.length]),H,ee)}e.ed25519ctx=(0,u.twistedEdwards)({...S,domain:N}),e.ed25519ph=(0,u.twistedEdwards)(Object.assign({},S,{domain:N,prehash:r.sha512})),e.x25519=(0,i.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:ee=>{const H=c,{pow_p_5_8:z,b2:X}=E(ee);return(0,s.mod)((0,s.pow2)(z,v,H)*X,H)},adjustScalarBytes:A,randomBytes:t.randomBytes});function j(ee){const{y:H}=e.ed25519.ExtendedPoint.fromHex(ee),z=BigInt(1);return P.toBytes(P.create((z+H)*P.inv(z-H)))}e.edwardsToMontgomery=j;function k(ee){const H=S.hash(ee.subarray(0,32));return S.adjustScalarBytes(H).subarray(0,32)}const B=(P.ORDER+v)/g,L=P.pow(h,B),R=P.sqrt(P.neg(P.ONE));function y(ee){const H=(P.ORDER-p)/g,z=BigInt(486662);let X=P.sqr(ee);X=P.mul(X,h);let Q=P.add(X,P.ONE),re=P.neg(z),oe=P.sqr(Q),se=P.mul(oe,Q),ae=P.mul(X,z);ae=P.mul(ae,re),ae=P.add(ae,oe),ae=P.mul(ae,re);let ce=P.sqr(se);oe=P.sqr(ce),ce=P.mul(ce,se),ce=P.mul(ce,ae),oe=P.mul(oe,ce);let ue=P.pow(oe,H);ue=P.mul(ue,ce);let ie=P.mul(ue,R);oe=P.sqr(ue),oe=P.mul(oe,se);let he=P.eql(oe,ae),de=P.cmov(ie,ue,he),$e=P.mul(re,X),pe=P.mul(ue,ee);pe=P.mul(pe,L);let ye=P.mul(pe,R),be=P.mul(ae,X);oe=P.sqr(pe),oe=P.mul(oe,se);let _e=P.eql(oe,be),G=P.cmov(ye,pe,_e);oe=P.sqr(de),oe=P.mul(oe,se);let O=P.eql(oe,ae),M=P.cmov($e,re,O),Y=P.cmov(G,de,O),ne=P.isOdd(Y);return Y=P.cmov(Y,P.neg(Y),O!==ne),{xMn:M,xMd:Q,yMn:Y,yMd:d}}const _=(0,s.FpSqrtEven)(P,P.neg(BigInt(486664)));function b(ee){const{xMn:H,xMd:z,yMn:X,yMd:Q}=y(ee);let re=P.mul(H,Q);re=P.mul(re,_);let oe=P.mul(z,X),se=P.sub(H,z),ae=P.add(H,z),ce=P.mul(oe,ae),ue=P.eql(ce,P.ZERO);re=P.cmov(re,P.ZERO,ue),oe=P.cmov(oe,P.ONE,ue),se=P.cmov(se,P.ONE,ue),ae=P.cmov(ae,P.ONE,ue);const ie=P.invertBatch([oe,ae]);return{x:P.mul(re,ie[0]),y:P.mul(se,ie[1])}}const w=(0,a.createHasher)(e.ed25519.ExtendedPoint,ee=>b(ee[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:P.ORDER,m:1,k:128,expand:"xmd",hash:r.sha512});e.hashToCurve=w.hashToCurve,e.encodeToCurve=w.encodeToCurve;function I(ee){if(!(ee instanceof Z))throw new Error("RistrettoPoint expected")}const q=l,U=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),x=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),m=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),T=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),W=ee=>C(d,ee),F=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),D=ee=>e.ed25519.CURVE.Fp.create((0,o.bytesToNumberLE)(ee)&F);function V(ee){const{d:H}=e.ed25519.CURVE,z=e.ed25519.CURVE.Fp.ORDER,X=e.ed25519.CURVE.Fp.create,Q=X(q*ee*ee),re=X((Q+d)*m);let oe=BigInt(-1);const se=X((oe-H*Q)*X(Q+H));let{isValid:ae,value:ce}=C(re,se),ue=X(ce*ee);(0,s.isNegativeLE)(ue,z)||(ue=X(-ue)),ae||(ce=ue),ae||(oe=Q);const ie=X(oe*(Q-d)*T-se),he=ce*ce,de=X((ce+ce)*se),$e=X(ie*U),pe=X(d-he),ye=X(d+he);return new e.ed25519.ExtendedPoint(X(de*ye),X(pe*$e),X($e*ye),X(de*pe))}class Z{constructor(H){this.ep=H}static fromAffine(H){return new Z(e.ed25519.ExtendedPoint.fromAffine(H))}static hashToCurve(H){H=(0,o.ensureBytes)("ristrettoHash",H,64);const z=D(H.slice(0,32)),X=V(z),Q=D(H.slice(32,64)),re=V(Q);return new Z(X.add(re))}static fromHex(H){H=(0,o.ensureBytes)("ristrettoHex",H,32);const{a:z,d:X}=e.ed25519.CURVE,Q=e.ed25519.CURVE.Fp.ORDER,re=e.ed25519.CURVE.Fp.create,oe="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",se=D(H);if(!(0,o.equalBytes)((0,o.numberToBytesLE)(se,32),H)||(0,s.isNegativeLE)(se,Q))throw new Error(oe);const ae=re(se*se),ce=re(d+z*ae),ue=re(d-z*ae),ie=re(ce*ce),he=re(ue*ue),de=re(z*X*ie-he),{isValid:$e,value:pe}=W(re(de*he)),ye=re(pe*ue),be=re(pe*ye*de);let _e=re((se+se)*ye);(0,s.isNegativeLE)(_e,Q)&&(_e=re(-_e));const G=re(ce*be),O=re(_e*G);if(!$e||(0,s.isNegativeLE)(O,Q)||G===f)throw new Error(oe);return new Z(new e.ed25519.ExtendedPoint(_e,G,d,O))}static msm(H,z){const X=(0,s.Field)(e.ed25519.CURVE.n,e.ed25519.CURVE.nBitLength);return(0,n.pippenger)(Z,X,H,z)}toRawBytes(){let{ex:H,ey:z,ez:X,et:Q}=this.ep;const re=e.ed25519.CURVE.Fp.ORDER,oe=e.ed25519.CURVE.Fp.create,se=oe(oe(X+z)*oe(X-z)),ae=oe(H*z),ce=oe(ae*ae),{value:ue}=W(oe(se*ce)),ie=oe(ue*se),he=oe(ue*ae),de=oe(ie*he*Q);let $e;if((0,s.isNegativeLE)(Q*de,re)){let ye=oe(z*q),be=oe(H*q);H=ye,z=be,$e=oe(ie*x)}else $e=he;(0,s.isNegativeLE)(H*de,re)&&(z=oe(-z));let pe=oe((X-z)*$e);return(0,s.isNegativeLE)(pe,re)&&(pe=oe(-pe)),(0,o.numberToBytesLE)(pe,32)}toHex(){return(0,o.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(H){I(H);const{ex:z,ey:X}=this.ep,{ex:Q,ey:re}=H.ep,oe=e.ed25519.CURVE.Fp.create,se=oe(z*re)===oe(X*Q),ae=oe(X*re)===oe(z*Q);return se||ae}add(H){return I(H),new Z(this.ep.add(H.ep))}subtract(H){return I(H),new Z(this.ep.subtract(H.ep))}multiply(H){return new Z(this.ep.multiply(H))}multiplyUnsafe(H){return new Z(this.ep.multiplyUnsafe(H))}double(){return new Z(this.ep.double())}negate(){return new Z(this.ep.negate())}}e.RistrettoPoint=(Z.BASE||(Z.BASE=new Z(e.ed25519.ExtendedPoint.BASE)),Z.ZERO||(Z.ZERO=new Z(e.ed25519.ExtendedPoint.ZERO)),Z);const te=(ee,H)=>{const z=H.DST,X=typeof z=="string"?(0,t.utf8ToBytes)(z):z,Q=(0,a.expand_message_xmd)(ee,X,64,r.sha512);return Z.hashToCurve(Q)};e.hashToRistretto255=te,e.hash_to_ristretto255=e.hashToRistretto255}(ed25519$1)),ed25519$1}var browser$1={exports:{}},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(e,r){var t=requireBuffer$1(),n=t.Buffer;function u(s,i){for(var o in s)i[o]=s[o]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=t:(u(t,r),r.Buffer=a);function a(s,i,o){return n(s,i,o)}a.prototype=Object.create(n.prototype),u(n,a),a.from=function(s,i,o){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,i,o)},a.alloc=function(s,i,o){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return i!==void 0?typeof o=="string"?c.fill(i,o):c.fill(i):c.fill(0),c},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1.exports;hasRequiredBrowser$1=1;var e=65536,r=4294967295;function t(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=requireSafeBuffer().Buffer,u=globalThis.crypto||globalThis.msCrypto;u&&u.getRandomValues?browser$1.exports=a:browser$1.exports=t;function a(s,i){if(s>r)throw new RangeError("requested too many random bytes");var o=n.allocUnsafe(s);if(s>0)if(s>e)for(var c=0;c<s;c+=e)u.getRandomValues(o.slice(c,c+e));else u.getRandomValues(o);return typeof i=="function"?process.nextTick(function(){i(null,o)}):o}return browser$1.exports}var public_key$1={},lib$3,hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$3;hasRequiredLib$3=1;const e={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function r(s,i){if(!s)throw new Error(i)}function t(s,i,o){if(r(i instanceof Uint8Array,`Expected ${s} to be an Uint8Array`),o!==void 0)if(Array.isArray(o)){const c=o.join(", "),l=`Expected ${s} to be an Uint8Array with length [${c}]`;r(o.includes(i.length),l)}else{const c=`Expected ${s} to be an Uint8Array with length ${o}`;r(i.length===o,c)}}function n(s){r(a(s)==="Boolean","Expected compressed to be a Boolean")}function u(s=o=>new Uint8Array(o),i){return typeof s=="function"&&(s=s(i)),t("output",s,i),s}function a(s){return Object.prototype.toString.call(s).slice(8,-1)}return lib$3=s=>({contextRandomize(i){switch(r(i===null||i instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),i!==null&&t("seed",i,32),s.contextRandomize(i)){case 1:throw new Error(e.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(i){return t("private key",i,32),s.privateKeyVerify(i)===0},privateKeyNegate(i){switch(t("private key",i,32),s.privateKeyNegate(i)){case 0:return i;case 1:throw new Error(e.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(i,o){switch(t("private key",i,32),t("tweak",o,32),s.privateKeyTweakAdd(i,o)){case 0:return i;case 1:throw new Error(e.TWEAK_ADD)}},privateKeyTweakMul(i,o){switch(t("private key",i,32),t("tweak",o,32),s.privateKeyTweakMul(i,o)){case 0:return i;case 1:throw new Error(e.TWEAK_MUL)}},publicKeyVerify(i){return t("public key",i,[33,65]),s.publicKeyVerify(i)===0},publicKeyCreate(i,o=!0,c){switch(t("private key",i,32),n(o),c=u(c,o?33:65),s.publicKeyCreate(c,i)){case 0:return c;case 1:throw new Error(e.SECKEY_INVALID);case 2:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyConvert(i,o=!0,c){switch(t("public key",i,[33,65]),n(o),c=u(c,o?33:65),s.publicKeyConvert(c,i)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyNegate(i,o=!0,c){switch(t("public key",i,[33,65]),n(o),c=u(c,o?33:65),s.publicKeyNegate(c,i)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE);case 3:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyCombine(i,o=!0,c){r(Array.isArray(i),"Expected public keys to be an Array"),r(i.length>0,"Expected public keys array will have more than zero items");for(const l of i)t("public key",l,[33,65]);switch(n(o),c=u(c,o?33:65),s.publicKeyCombine(c,i)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.PUBKEY_COMBINE);case 3:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(i,o,c=!0,l){switch(t("public key",i,[33,65]),t("tweak",o,32),n(c),l=u(l,c?33:65),s.publicKeyTweakAdd(l,i,o)){case 0:return l;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.TWEAK_ADD)}},publicKeyTweakMul(i,o,c=!0,l){switch(t("public key",i,[33,65]),t("tweak",o,32),n(c),l=u(l,c?33:65),s.publicKeyTweakMul(l,i,o)){case 0:return l;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.TWEAK_MUL)}},signatureNormalize(i){switch(t("signature",i,64),s.signatureNormalize(i)){case 0:return i;case 1:throw new Error(e.SIG_PARSE)}},signatureExport(i,o){t("signature",i,64),o=u(o,72);const c={output:o,outputlen:72};switch(s.signatureExport(c,i)){case 0:return o.slice(0,c.outputlen);case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},signatureImport(i,o){switch(t("signature",i),o=u(o,64),s.signatureImport(o,i)){case 0:return o;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},ecdsaSign(i,o,c={},l){t("message",i,32),t("private key",o,32),r(a(c)==="Object","Expected options to be an Object"),c.data!==void 0&&t("options.data",c.data),c.noncefn!==void 0&&r(a(c.noncefn)==="Function","Expected options.noncefn to be a Function"),l=u(l,64);const f={signature:l,recid:null};switch(s.ecdsaSign(f,i,o,c.data,c.noncefn)){case 0:return f;case 1:throw new Error(e.SIGN);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},ecdsaVerify(i,o,c){switch(t("signature",i,64),t("message",o,32),t("public key",c,[33,65]),s.ecdsaVerify(i,o,c)){case 0:return!0;case 3:return!1;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.PUBKEY_PARSE)}},ecdsaRecover(i,o,c,l=!0,f){switch(t("signature",i,64),r(a(o)==="Number"&&o>=0&&o<=3,"Expected recovery id to be a Number within interval [0, 3]"),t("message",c,32),n(l),f=u(f,l?33:65),s.ecdsaRecover(f,i,o,c)){case 0:return f;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.RECOVER);case 3:throw new Error(e.IMPOSSIBLE_CASE)}},ecdh(i,o,c={},l){switch(t("public key",i,[33,65]),t("private key",o,32),r(a(c)==="Object","Expected options to be an Object"),c.data!==void 0&&t("options.data",c.data),c.hashfn!==void 0?(r(a(c.hashfn)==="Function","Expected options.hashfn to be a Function"),c.xbuf!==void 0&&t("options.xbuf",c.xbuf,32),c.ybuf!==void 0&&t("options.ybuf",c.ybuf,32),t("output",l)):l=u(l,32),s.ecdh(l,i,o,c.data,c.hashfn,c.xbuf,c.ybuf)){case 0:return l;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.ECDH)}}}),lib$3}var elliptic$4={};const version$3="6.6.1",require$$0$3={version:version$3};var utils$c={},bn$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(__viteBrowserExternal$1);var bn=bn$1.exports,hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(e){(function(r,t){function n(R,y){if(!R)throw new Error(y||"Assertion failed")}function u(R,y){R.super_=y;var _=function(){};_.prototype=y.prototype,R.prototype=new _,R.prototype.constructor=R}function a(R,y,_){if(a.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((y==="le"||y==="be")&&(_=y,y=10),this._init(R||0,y||10,_||"be"))}typeof r=="object"?r.exports=a:t.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=require$$0$2.Buffer}catch{}a.isBN=function(y){return y instanceof a?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===a.wordSize&&Array.isArray(y.words)},a.max=function(y,_){return y.cmp(_)>0?y:_},a.min=function(y,_){return y.cmp(_)<0?y:_},a.prototype._init=function(y,_,b){if(typeof y=="number")return this._initNumber(y,_,b);if(typeof y=="object")return this._initArray(y,_,b);_==="hex"&&(_=16),n(_===(_|0)&&_>=2&&_<=36),y=y.toString().replace(/\s+/g,"");var w=0;y[0]==="-"&&(w++,this.negative=1),w<y.length&&(_===16?this._parseHex(y,w,b):(this._parseBase(y,_,w),b==="le"&&this._initArray(this.toArray(),_,b)))},a.prototype._initNumber=function(y,_,b){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(n(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),_,b)},a.prototype._initArray=function(y,_,b){if(n(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var I,q,U=0;if(b==="be")for(w=y.length-1,I=0;w>=0;w-=3)q=y[w]|y[w-1]<<8|y[w-2]<<16,this.words[I]|=q<<U&67108863,this.words[I+1]=q>>>26-U&67108863,U+=24,U>=26&&(U-=26,I++);else if(b==="le")for(w=0,I=0;w<y.length;w+=3)q=y[w]|y[w+1]<<8|y[w+2]<<16,this.words[I]|=q<<U&67108863,this.words[I+1]=q>>>26-U&67108863,U+=24,U>=26&&(U-=26,I++);return this.strip()};function i(R,y){var _=R.charCodeAt(y);return _>=65&&_<=70?_-55:_>=97&&_<=102?_-87:_-48&15}function o(R,y,_){var b=i(R,_);return _-1>=y&&(b|=i(R,_-1)<<4),b}a.prototype._parseHex=function(y,_,b){this.length=Math.ceil((y.length-_)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var I=0,q=0,U;if(b==="be")for(w=y.length-1;w>=_;w-=2)U=o(y,_,w)<<I,this.words[q]|=U&67108863,I>=18?(I-=18,q+=1,this.words[q]|=U>>>26):I+=8;else{var x=y.length-_;for(w=x%2===0?_+1:_;w<y.length;w+=2)U=o(y,_,w)<<I,this.words[q]|=U&67108863,I>=18?(I-=18,q+=1,this.words[q]|=U>>>26):I+=8}this.strip()};function c(R,y,_,b){for(var w=0,I=Math.min(R.length,_),q=y;q<I;q++){var U=R.charCodeAt(q)-48;w*=b,U>=49?w+=U-49+10:U>=17?w+=U-17+10:w+=U}return w}a.prototype._parseBase=function(y,_,b){this.words=[0],this.length=1;for(var w=0,I=1;I<=67108863;I*=_)w++;w--,I=I/_|0;for(var q=y.length-b,U=q%w,x=Math.min(q,q-U)+b,m=0,T=b;T<x;T+=w)m=c(y,T,T+w,_),this.imuln(I),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(U!==0){var W=1;for(m=c(y,T,y.length,_),T=0;T<U;T++)W*=_;this.imuln(W),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this.strip()},a.prototype.copy=function(y){y.words=new Array(this.length);for(var _=0;_<this.length;_++)y.words[_]=this.words[_];y.length=this.length,y.negative=this.negative,y.red=this.red},a.prototype.clone=function(){var y=new a(null);return this.copy(y),y},a.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(y,_){y=y||10,_=_|0||1;var b;if(y===16||y==="hex"){b="";for(var w=0,I=0,q=0;q<this.length;q++){var U=this.words[q],x=((U<<w|I)&16777215).toString(16);I=U>>>24-w&16777215,w+=2,w>=26&&(w-=26,q--),I!==0||q!==this.length-1?b=l[6-x.length]+x+b:b=x+b}for(I!==0&&(b=I.toString(16)+b);b.length%_!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(y===(y|0)&&y>=2&&y<=36){var m=f[y],T=d[y];b="";var W=this.clone();for(W.negative=0;!W.isZero();){var F=W.modn(T).toString(y);W=W.idivn(T),W.isZero()?b=F+b:b=l[m-F.length]+F+b}for(this.isZero()&&(b="0"+b);b.length%_!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(y,_){return n(typeof s<"u"),this.toArrayLike(s,y,_)},a.prototype.toArray=function(y,_){return this.toArrayLike(Array,y,_)},a.prototype.toArrayLike=function(y,_,b){var w=this.byteLength(),I=b||Math.max(1,w);n(w<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0"),this.strip();var q=_==="le",U=new y(I),x,m,T=this.clone();if(q){for(m=0;!T.isZero();m++)x=T.andln(255),T.iushrn(8),U[m]=x;for(;m<I;m++)U[m]=0}else{for(m=0;m<I-w;m++)U[m]=0;for(m=0;!T.isZero();m++)x=T.andln(255),T.iushrn(8),U[I-m-1]=x}return U},Math.clz32?a.prototype._countBits=function(y){return 32-Math.clz32(y)}:a.prototype._countBits=function(y){var _=y,b=0;return _>=4096&&(b+=13,_>>>=13),_>=64&&(b+=7,_>>>=7),_>=8&&(b+=4,_>>>=4),_>=2&&(b+=2,_>>>=2),b+_},a.prototype._zeroBits=function(y){if(y===0)return 26;var _=y,b=0;return(_&8191)===0&&(b+=13,_>>>=13),(_&127)===0&&(b+=7,_>>>=7),(_&15)===0&&(b+=4,_>>>=4),(_&3)===0&&(b+=2,_>>>=2),(_&1)===0&&b++,b},a.prototype.bitLength=function(){var y=this.words[this.length-1],_=this._countBits(y);return(this.length-1)*26+_};function h(R){for(var y=new Array(R.bitLength()),_=0;_<y.length;_++){var b=_/26|0,w=_%26;y[_]=(R.words[b]&1<<w)>>>w}return y}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,_=0;_<this.length;_++){var b=this._zeroBits(this.words[_]);if(y+=b,b!==26)break}return y},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},a.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var _=0;_<y.length;_++)this.words[_]=this.words[_]|y.words[_];return this.strip()},a.prototype.ior=function(y){return n((this.negative|y.negative)===0),this.iuor(y)},a.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},a.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},a.prototype.iuand=function(y){var _;this.length>y.length?_=y:_=this;for(var b=0;b<_.length;b++)this.words[b]=this.words[b]&y.words[b];return this.length=_.length,this.strip()},a.prototype.iand=function(y){return n((this.negative|y.negative)===0),this.iuand(y)},a.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},a.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},a.prototype.iuxor=function(y){var _,b;this.length>y.length?(_=this,b=y):(_=y,b=this);for(var w=0;w<b.length;w++)this.words[w]=_.words[w]^b.words[w];if(this!==_)for(;w<_.length;w++)this.words[w]=_.words[w];return this.length=_.length,this.strip()},a.prototype.ixor=function(y){return n((this.negative|y.negative)===0),this.iuxor(y)},a.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},a.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},a.prototype.inotn=function(y){n(typeof y=="number"&&y>=0);var _=Math.ceil(y/26)|0,b=y%26;this._expand(_),b>0&&_--;for(var w=0;w<_;w++)this.words[w]=~this.words[w]&67108863;return b>0&&(this.words[w]=~this.words[w]&67108863>>26-b),this.strip()},a.prototype.notn=function(y){return this.clone().inotn(y)},a.prototype.setn=function(y,_){n(typeof y=="number"&&y>=0);var b=y/26|0,w=y%26;return this._expand(b+1),_?this.words[b]=this.words[b]|1<<w:this.words[b]=this.words[b]&~(1<<w),this.strip()},a.prototype.iadd=function(y){var _;if(this.negative!==0&&y.negative===0)return this.negative=0,_=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,_=this.isub(y),y.negative=1,_._normSign();var b,w;this.length>y.length?(b=this,w=y):(b=y,w=this);for(var I=0,q=0;q<w.length;q++)_=(b.words[q]|0)+(w.words[q]|0)+I,this.words[q]=_&67108863,I=_>>>26;for(;I!==0&&q<b.length;q++)_=(b.words[q]|0)+I,this.words[q]=_&67108863,I=_>>>26;if(this.length=b.length,I!==0)this.words[this.length]=I,this.length++;else if(b!==this)for(;q<b.length;q++)this.words[q]=b.words[q];return this},a.prototype.add=function(y){var _;return y.negative!==0&&this.negative===0?(y.negative=0,_=this.sub(y),y.negative^=1,_):y.negative===0&&this.negative!==0?(this.negative=0,_=y.sub(this),this.negative=1,_):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},a.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var _=this.iadd(y);return y.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var b=this.cmp(y);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,I;b>0?(w=this,I=y):(w=y,I=this);for(var q=0,U=0;U<I.length;U++)_=(w.words[U]|0)-(I.words[U]|0)+q,q=_>>26,this.words[U]=_&67108863;for(;q!==0&&U<w.length;U++)_=(w.words[U]|0)+q,q=_>>26,this.words[U]=_&67108863;if(q===0&&U<w.length&&w!==this)for(;U<w.length;U++)this.words[U]=w.words[U];return this.length=Math.max(this.length,U),w!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(y){return this.clone().isub(y)};function v(R,y,_){_.negative=y.negative^R.negative;var b=R.length+y.length|0;_.length=b,b=b-1|0;var w=R.words[0]|0,I=y.words[0]|0,q=w*I,U=q&67108863,x=q/67108864|0;_.words[0]=U;for(var m=1;m<b;m++){for(var T=x>>>26,W=x&67108863,F=Math.min(m,y.length-1),D=Math.max(0,m-R.length+1);D<=F;D++){var V=m-D|0;w=R.words[V]|0,I=y.words[D]|0,q=w*I+W,T+=q/67108864|0,W=q&67108863}_.words[m]=W|0,x=T|0}return x!==0?_.words[m]=x|0:_.length--,_.strip()}var p=function(y,_,b){var w=y.words,I=_.words,q=b.words,U=0,x,m,T,W=w[0]|0,F=W&8191,D=W>>>13,V=w[1]|0,Z=V&8191,te=V>>>13,ee=w[2]|0,H=ee&8191,z=ee>>>13,X=w[3]|0,Q=X&8191,re=X>>>13,oe=w[4]|0,se=oe&8191,ae=oe>>>13,ce=w[5]|0,ue=ce&8191,ie=ce>>>13,he=w[6]|0,de=he&8191,$e=he>>>13,pe=w[7]|0,ye=pe&8191,be=pe>>>13,_e=w[8]|0,G=_e&8191,O=_e>>>13,M=w[9]|0,Y=M&8191,ne=M>>>13,le=I[0]|0,fe=le&8191,ve=le>>>13,Se=I[1]|0,ge=Se&8191,me=Se>>>13,Ee=I[2]|0,we=Ee&8191,Ae=Ee>>>13,ke=I[3]|0,Ie=ke&8191,Re=ke>>>13,Ue=I[4]|0,Te=Ue&8191,Oe=Ue>>>13,sr=I[5]|0,Pe=sr&8191,Ce=sr>>>13,cr=I[6]|0,Ne=cr&8191,Me=cr>>>13,ur=I[7]|0,qe=ur&8191,Be=ur>>>13,lr=I[8]|0,je=lr&8191,xe=lr>>>13,fr=I[9]|0,Le=fr&8191,De=fr>>>13;b.negative=y.negative^_.negative,b.length=19,x=Math.imul(F,fe),m=Math.imul(F,ve),m=m+Math.imul(D,fe)|0,T=Math.imul(D,ve);var Ke=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,x=Math.imul(Z,fe),m=Math.imul(Z,ve),m=m+Math.imul(te,fe)|0,T=Math.imul(te,ve),x=x+Math.imul(F,ge)|0,m=m+Math.imul(F,me)|0,m=m+Math.imul(D,ge)|0,T=T+Math.imul(D,me)|0;var Fe=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,x=Math.imul(H,fe),m=Math.imul(H,ve),m=m+Math.imul(z,fe)|0,T=Math.imul(z,ve),x=x+Math.imul(Z,ge)|0,m=m+Math.imul(Z,me)|0,m=m+Math.imul(te,ge)|0,T=T+Math.imul(te,me)|0,x=x+Math.imul(F,we)|0,m=m+Math.imul(F,Ae)|0,m=m+Math.imul(D,we)|0,T=T+Math.imul(D,Ae)|0;var Ge=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,x=Math.imul(Q,fe),m=Math.imul(Q,ve),m=m+Math.imul(re,fe)|0,T=Math.imul(re,ve),x=x+Math.imul(H,ge)|0,m=m+Math.imul(H,me)|0,m=m+Math.imul(z,ge)|0,T=T+Math.imul(z,me)|0,x=x+Math.imul(Z,we)|0,m=m+Math.imul(Z,Ae)|0,m=m+Math.imul(te,we)|0,T=T+Math.imul(te,Ae)|0,x=x+Math.imul(F,Ie)|0,m=m+Math.imul(F,Re)|0,m=m+Math.imul(D,Ie)|0,T=T+Math.imul(D,Re)|0;var He=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(se,fe),m=Math.imul(se,ve),m=m+Math.imul(ae,fe)|0,T=Math.imul(ae,ve),x=x+Math.imul(Q,ge)|0,m=m+Math.imul(Q,me)|0,m=m+Math.imul(re,ge)|0,T=T+Math.imul(re,me)|0,x=x+Math.imul(H,we)|0,m=m+Math.imul(H,Ae)|0,m=m+Math.imul(z,we)|0,T=T+Math.imul(z,Ae)|0,x=x+Math.imul(Z,Ie)|0,m=m+Math.imul(Z,Re)|0,m=m+Math.imul(te,Ie)|0,T=T+Math.imul(te,Re)|0,x=x+Math.imul(F,Te)|0,m=m+Math.imul(F,Oe)|0,m=m+Math.imul(D,Te)|0,T=T+Math.imul(D,Oe)|0;var Ve=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,x=Math.imul(ue,fe),m=Math.imul(ue,ve),m=m+Math.imul(ie,fe)|0,T=Math.imul(ie,ve),x=x+Math.imul(se,ge)|0,m=m+Math.imul(se,me)|0,m=m+Math.imul(ae,ge)|0,T=T+Math.imul(ae,me)|0,x=x+Math.imul(Q,we)|0,m=m+Math.imul(Q,Ae)|0,m=m+Math.imul(re,we)|0,T=T+Math.imul(re,Ae)|0,x=x+Math.imul(H,Ie)|0,m=m+Math.imul(H,Re)|0,m=m+Math.imul(z,Ie)|0,T=T+Math.imul(z,Re)|0,x=x+Math.imul(Z,Te)|0,m=m+Math.imul(Z,Oe)|0,m=m+Math.imul(te,Te)|0,T=T+Math.imul(te,Oe)|0,x=x+Math.imul(F,Pe)|0,m=m+Math.imul(F,Ce)|0,m=m+Math.imul(D,Pe)|0,T=T+Math.imul(D,Ce)|0;var We=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(We>>>26)|0,We&=67108863,x=Math.imul(de,fe),m=Math.imul(de,ve),m=m+Math.imul($e,fe)|0,T=Math.imul($e,ve),x=x+Math.imul(ue,ge)|0,m=m+Math.imul(ue,me)|0,m=m+Math.imul(ie,ge)|0,T=T+Math.imul(ie,me)|0,x=x+Math.imul(se,we)|0,m=m+Math.imul(se,Ae)|0,m=m+Math.imul(ae,we)|0,T=T+Math.imul(ae,Ae)|0,x=x+Math.imul(Q,Ie)|0,m=m+Math.imul(Q,Re)|0,m=m+Math.imul(re,Ie)|0,T=T+Math.imul(re,Re)|0,x=x+Math.imul(H,Te)|0,m=m+Math.imul(H,Oe)|0,m=m+Math.imul(z,Te)|0,T=T+Math.imul(z,Oe)|0,x=x+Math.imul(Z,Pe)|0,m=m+Math.imul(Z,Ce)|0,m=m+Math.imul(te,Pe)|0,T=T+Math.imul(te,Ce)|0,x=x+Math.imul(F,Ne)|0,m=m+Math.imul(F,Me)|0,m=m+Math.imul(D,Ne)|0,T=T+Math.imul(D,Me)|0;var ze=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(ze>>>26)|0,ze&=67108863,x=Math.imul(ye,fe),m=Math.imul(ye,ve),m=m+Math.imul(be,fe)|0,T=Math.imul(be,ve),x=x+Math.imul(de,ge)|0,m=m+Math.imul(de,me)|0,m=m+Math.imul($e,ge)|0,T=T+Math.imul($e,me)|0,x=x+Math.imul(ue,we)|0,m=m+Math.imul(ue,Ae)|0,m=m+Math.imul(ie,we)|0,T=T+Math.imul(ie,Ae)|0,x=x+Math.imul(se,Ie)|0,m=m+Math.imul(se,Re)|0,m=m+Math.imul(ae,Ie)|0,T=T+Math.imul(ae,Re)|0,x=x+Math.imul(Q,Te)|0,m=m+Math.imul(Q,Oe)|0,m=m+Math.imul(re,Te)|0,T=T+Math.imul(re,Oe)|0,x=x+Math.imul(H,Pe)|0,m=m+Math.imul(H,Ce)|0,m=m+Math.imul(z,Pe)|0,T=T+Math.imul(z,Ce)|0,x=x+Math.imul(Z,Ne)|0,m=m+Math.imul(Z,Me)|0,m=m+Math.imul(te,Ne)|0,T=T+Math.imul(te,Me)|0,x=x+Math.imul(F,qe)|0,m=m+Math.imul(F,Be)|0,m=m+Math.imul(D,qe)|0,T=T+Math.imul(D,Be)|0;var Ye=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,x=Math.imul(G,fe),m=Math.imul(G,ve),m=m+Math.imul(O,fe)|0,T=Math.imul(O,ve),x=x+Math.imul(ye,ge)|0,m=m+Math.imul(ye,me)|0,m=m+Math.imul(be,ge)|0,T=T+Math.imul(be,me)|0,x=x+Math.imul(de,we)|0,m=m+Math.imul(de,Ae)|0,m=m+Math.imul($e,we)|0,T=T+Math.imul($e,Ae)|0,x=x+Math.imul(ue,Ie)|0,m=m+Math.imul(ue,Re)|0,m=m+Math.imul(ie,Ie)|0,T=T+Math.imul(ie,Re)|0,x=x+Math.imul(se,Te)|0,m=m+Math.imul(se,Oe)|0,m=m+Math.imul(ae,Te)|0,T=T+Math.imul(ae,Oe)|0,x=x+Math.imul(Q,Pe)|0,m=m+Math.imul(Q,Ce)|0,m=m+Math.imul(re,Pe)|0,T=T+Math.imul(re,Ce)|0,x=x+Math.imul(H,Ne)|0,m=m+Math.imul(H,Me)|0,m=m+Math.imul(z,Ne)|0,T=T+Math.imul(z,Me)|0,x=x+Math.imul(Z,qe)|0,m=m+Math.imul(Z,Be)|0,m=m+Math.imul(te,qe)|0,T=T+Math.imul(te,Be)|0,x=x+Math.imul(F,je)|0,m=m+Math.imul(F,xe)|0,m=m+Math.imul(D,je)|0,T=T+Math.imul(D,xe)|0;var Je=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(Y,fe),m=Math.imul(Y,ve),m=m+Math.imul(ne,fe)|0,T=Math.imul(ne,ve),x=x+Math.imul(G,ge)|0,m=m+Math.imul(G,me)|0,m=m+Math.imul(O,ge)|0,T=T+Math.imul(O,me)|0,x=x+Math.imul(ye,we)|0,m=m+Math.imul(ye,Ae)|0,m=m+Math.imul(be,we)|0,T=T+Math.imul(be,Ae)|0,x=x+Math.imul(de,Ie)|0,m=m+Math.imul(de,Re)|0,m=m+Math.imul($e,Ie)|0,T=T+Math.imul($e,Re)|0,x=x+Math.imul(ue,Te)|0,m=m+Math.imul(ue,Oe)|0,m=m+Math.imul(ie,Te)|0,T=T+Math.imul(ie,Oe)|0,x=x+Math.imul(se,Pe)|0,m=m+Math.imul(se,Ce)|0,m=m+Math.imul(ae,Pe)|0,T=T+Math.imul(ae,Ce)|0,x=x+Math.imul(Q,Ne)|0,m=m+Math.imul(Q,Me)|0,m=m+Math.imul(re,Ne)|0,T=T+Math.imul(re,Me)|0,x=x+Math.imul(H,qe)|0,m=m+Math.imul(H,Be)|0,m=m+Math.imul(z,qe)|0,T=T+Math.imul(z,Be)|0,x=x+Math.imul(Z,je)|0,m=m+Math.imul(Z,xe)|0,m=m+Math.imul(te,je)|0,T=T+Math.imul(te,xe)|0,x=x+Math.imul(F,Le)|0,m=m+Math.imul(F,De)|0,m=m+Math.imul(D,Le)|0,T=T+Math.imul(D,De)|0;var Xe=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,x=Math.imul(Y,ge),m=Math.imul(Y,me),m=m+Math.imul(ne,ge)|0,T=Math.imul(ne,me),x=x+Math.imul(G,we)|0,m=m+Math.imul(G,Ae)|0,m=m+Math.imul(O,we)|0,T=T+Math.imul(O,Ae)|0,x=x+Math.imul(ye,Ie)|0,m=m+Math.imul(ye,Re)|0,m=m+Math.imul(be,Ie)|0,T=T+Math.imul(be,Re)|0,x=x+Math.imul(de,Te)|0,m=m+Math.imul(de,Oe)|0,m=m+Math.imul($e,Te)|0,T=T+Math.imul($e,Oe)|0,x=x+Math.imul(ue,Pe)|0,m=m+Math.imul(ue,Ce)|0,m=m+Math.imul(ie,Pe)|0,T=T+Math.imul(ie,Ce)|0,x=x+Math.imul(se,Ne)|0,m=m+Math.imul(se,Me)|0,m=m+Math.imul(ae,Ne)|0,T=T+Math.imul(ae,Me)|0,x=x+Math.imul(Q,qe)|0,m=m+Math.imul(Q,Be)|0,m=m+Math.imul(re,qe)|0,T=T+Math.imul(re,Be)|0,x=x+Math.imul(H,je)|0,m=m+Math.imul(H,xe)|0,m=m+Math.imul(z,je)|0,T=T+Math.imul(z,xe)|0,x=x+Math.imul(Z,Le)|0,m=m+Math.imul(Z,De)|0,m=m+Math.imul(te,Le)|0,T=T+Math.imul(te,De)|0;var Ze=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(Y,we),m=Math.imul(Y,Ae),m=m+Math.imul(ne,we)|0,T=Math.imul(ne,Ae),x=x+Math.imul(G,Ie)|0,m=m+Math.imul(G,Re)|0,m=m+Math.imul(O,Ie)|0,T=T+Math.imul(O,Re)|0,x=x+Math.imul(ye,Te)|0,m=m+Math.imul(ye,Oe)|0,m=m+Math.imul(be,Te)|0,T=T+Math.imul(be,Oe)|0,x=x+Math.imul(de,Pe)|0,m=m+Math.imul(de,Ce)|0,m=m+Math.imul($e,Pe)|0,T=T+Math.imul($e,Ce)|0,x=x+Math.imul(ue,Ne)|0,m=m+Math.imul(ue,Me)|0,m=m+Math.imul(ie,Ne)|0,T=T+Math.imul(ie,Me)|0,x=x+Math.imul(se,qe)|0,m=m+Math.imul(se,Be)|0,m=m+Math.imul(ae,qe)|0,T=T+Math.imul(ae,Be)|0,x=x+Math.imul(Q,je)|0,m=m+Math.imul(Q,xe)|0,m=m+Math.imul(re,je)|0,T=T+Math.imul(re,xe)|0,x=x+Math.imul(H,Le)|0,m=m+Math.imul(H,De)|0,m=m+Math.imul(z,Le)|0,T=T+Math.imul(z,De)|0;var Qe=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(Y,Ie),m=Math.imul(Y,Re),m=m+Math.imul(ne,Ie)|0,T=Math.imul(ne,Re),x=x+Math.imul(G,Te)|0,m=m+Math.imul(G,Oe)|0,m=m+Math.imul(O,Te)|0,T=T+Math.imul(O,Oe)|0,x=x+Math.imul(ye,Pe)|0,m=m+Math.imul(ye,Ce)|0,m=m+Math.imul(be,Pe)|0,T=T+Math.imul(be,Ce)|0,x=x+Math.imul(de,Ne)|0,m=m+Math.imul(de,Me)|0,m=m+Math.imul($e,Ne)|0,T=T+Math.imul($e,Me)|0,x=x+Math.imul(ue,qe)|0,m=m+Math.imul(ue,Be)|0,m=m+Math.imul(ie,qe)|0,T=T+Math.imul(ie,Be)|0,x=x+Math.imul(se,je)|0,m=m+Math.imul(se,xe)|0,m=m+Math.imul(ae,je)|0,T=T+Math.imul(ae,xe)|0,x=x+Math.imul(Q,Le)|0,m=m+Math.imul(Q,De)|0,m=m+Math.imul(re,Le)|0,T=T+Math.imul(re,De)|0;var er=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,Te),m=Math.imul(Y,Oe),m=m+Math.imul(ne,Te)|0,T=Math.imul(ne,Oe),x=x+Math.imul(G,Pe)|0,m=m+Math.imul(G,Ce)|0,m=m+Math.imul(O,Pe)|0,T=T+Math.imul(O,Ce)|0,x=x+Math.imul(ye,Ne)|0,m=m+Math.imul(ye,Me)|0,m=m+Math.imul(be,Ne)|0,T=T+Math.imul(be,Me)|0,x=x+Math.imul(de,qe)|0,m=m+Math.imul(de,Be)|0,m=m+Math.imul($e,qe)|0,T=T+Math.imul($e,Be)|0,x=x+Math.imul(ue,je)|0,m=m+Math.imul(ue,xe)|0,m=m+Math.imul(ie,je)|0,T=T+Math.imul(ie,xe)|0,x=x+Math.imul(se,Le)|0,m=m+Math.imul(se,De)|0,m=m+Math.imul(ae,Le)|0,T=T+Math.imul(ae,De)|0;var rr=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(rr>>>26)|0,rr&=67108863,x=Math.imul(Y,Pe),m=Math.imul(Y,Ce),m=m+Math.imul(ne,Pe)|0,T=Math.imul(ne,Ce),x=x+Math.imul(G,Ne)|0,m=m+Math.imul(G,Me)|0,m=m+Math.imul(O,Ne)|0,T=T+Math.imul(O,Me)|0,x=x+Math.imul(ye,qe)|0,m=m+Math.imul(ye,Be)|0,m=m+Math.imul(be,qe)|0,T=T+Math.imul(be,Be)|0,x=x+Math.imul(de,je)|0,m=m+Math.imul(de,xe)|0,m=m+Math.imul($e,je)|0,T=T+Math.imul($e,xe)|0,x=x+Math.imul(ue,Le)|0,m=m+Math.imul(ue,De)|0,m=m+Math.imul(ie,Le)|0,T=T+Math.imul(ie,De)|0;var tr=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(tr>>>26)|0,tr&=67108863,x=Math.imul(Y,Ne),m=Math.imul(Y,Me),m=m+Math.imul(ne,Ne)|0,T=Math.imul(ne,Me),x=x+Math.imul(G,qe)|0,m=m+Math.imul(G,Be)|0,m=m+Math.imul(O,qe)|0,T=T+Math.imul(O,Be)|0,x=x+Math.imul(ye,je)|0,m=m+Math.imul(ye,xe)|0,m=m+Math.imul(be,je)|0,T=T+Math.imul(be,xe)|0,x=x+Math.imul(de,Le)|0,m=m+Math.imul(de,De)|0,m=m+Math.imul($e,Le)|0,T=T+Math.imul($e,De)|0;var nr=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(Y,qe),m=Math.imul(Y,Be),m=m+Math.imul(ne,qe)|0,T=Math.imul(ne,Be),x=x+Math.imul(G,je)|0,m=m+Math.imul(G,xe)|0,m=m+Math.imul(O,je)|0,T=T+Math.imul(O,xe)|0,x=x+Math.imul(ye,Le)|0,m=m+Math.imul(ye,De)|0,m=m+Math.imul(be,Le)|0,T=T+Math.imul(be,De)|0;var ir=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(Y,je),m=Math.imul(Y,xe),m=m+Math.imul(ne,je)|0,T=Math.imul(ne,xe),x=x+Math.imul(G,Le)|0,m=m+Math.imul(G,De)|0,m=m+Math.imul(O,Le)|0,T=T+Math.imul(O,De)|0;var or=(U+x|0)+((m&8191)<<13)|0;U=(T+(m>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(Y,Le),m=Math.imul(Y,De),m=m+Math.imul(ne,Le)|0,T=Math.imul(ne,De);var ar=(U+x|0)+((m&8191)<<13)|0;return U=(T+(m>>>13)|0)+(ar>>>26)|0,ar&=67108863,q[0]=Ke,q[1]=Fe,q[2]=Ge,q[3]=He,q[4]=Ve,q[5]=We,q[6]=ze,q[7]=Ye,q[8]=Je,q[9]=Xe,q[10]=Ze,q[11]=Qe,q[12]=er,q[13]=rr,q[14]=tr,q[15]=nr,q[16]=ir,q[17]=or,q[18]=ar,U!==0&&(q[19]=U,b.length++),b};Math.imul||(p=v);function g(R,y,_){_.negative=y.negative^R.negative,_.length=R.length+y.length;for(var b=0,w=0,I=0;I<_.length-1;I++){var q=w;w=0;for(var U=b&67108863,x=Math.min(I,y.length-1),m=Math.max(0,I-R.length+1);m<=x;m++){var T=I-m,W=R.words[T]|0,F=y.words[m]|0,D=W*F,V=D&67108863;q=q+(D/67108864|0)|0,V=V+U|0,U=V&67108863,q=q+(V>>>26)|0,w+=q>>>26,q&=67108863}_.words[I]=U,b=q,q=w}return b!==0?_.words[I]=b:_.length--,_.strip()}function E(R,y,_){var b=new A;return b.mulp(R,y,_)}a.prototype.mulTo=function(y,_){var b,w=this.length+y.length;return this.length===10&&y.length===10?b=p(this,y,_):w<63?b=v(this,y,_):w<1024?b=g(this,y,_):b=E(this,y,_),b};function A(R,y){this.x=R,this.y=y}A.prototype.makeRBT=function(y){for(var _=new Array(y),b=a.prototype._countBits(y)-1,w=0;w<y;w++)_[w]=this.revBin(w,b,y);return _},A.prototype.revBin=function(y,_,b){if(y===0||y===b-1)return y;for(var w=0,I=0;I<_;I++)w|=(y&1)<<_-I-1,y>>=1;return w},A.prototype.permute=function(y,_,b,w,I,q){for(var U=0;U<q;U++)w[U]=_[y[U]],I[U]=b[y[U]]},A.prototype.transform=function(y,_,b,w,I,q){this.permute(q,y,_,b,w,I);for(var U=1;U<I;U<<=1)for(var x=U<<1,m=Math.cos(2*Math.PI/x),T=Math.sin(2*Math.PI/x),W=0;W<I;W+=x)for(var F=m,D=T,V=0;V<U;V++){var Z=b[W+V],te=w[W+V],ee=b[W+V+U],H=w[W+V+U],z=F*ee-D*H;H=F*H+D*ee,ee=z,b[W+V]=Z+ee,w[W+V]=te+H,b[W+V+U]=Z-ee,w[W+V+U]=te-H,V!==x&&(z=m*F-T*D,D=m*D+T*F,F=z)}},A.prototype.guessLen13b=function(y,_){var b=Math.max(_,y)|1,w=b&1,I=0;for(b=b/2|0;b;b=b>>>1)I++;return 1<<I+1+w},A.prototype.conjugate=function(y,_,b){if(!(b<=1))for(var w=0;w<b/2;w++){var I=y[w];y[w]=y[b-w-1],y[b-w-1]=I,I=_[w],_[w]=-_[b-w-1],_[b-w-1]=-I}},A.prototype.normalize13b=function(y,_){for(var b=0,w=0;w<_/2;w++){var I=Math.round(y[2*w+1]/_)*8192+Math.round(y[2*w]/_)+b;y[w]=I&67108863,I<67108864?b=0:b=I/67108864|0}return y},A.prototype.convert13b=function(y,_,b,w){for(var I=0,q=0;q<_;q++)I=I+(y[q]|0),b[2*q]=I&8191,I=I>>>13,b[2*q+1]=I&8191,I=I>>>13;for(q=2*_;q<w;++q)b[q]=0;n(I===0),n((I&-8192)===0)},A.prototype.stub=function(y){for(var _=new Array(y),b=0;b<y;b++)_[b]=0;return _},A.prototype.mulp=function(y,_,b){var w=2*this.guessLen13b(y.length,_.length),I=this.makeRBT(w),q=this.stub(w),U=new Array(w),x=new Array(w),m=new Array(w),T=new Array(w),W=new Array(w),F=new Array(w),D=b.words;D.length=w,this.convert13b(y.words,y.length,U,w),this.convert13b(_.words,_.length,T,w),this.transform(U,q,x,m,w,I),this.transform(T,q,W,F,w,I);for(var V=0;V<w;V++){var Z=x[V]*W[V]-m[V]*F[V];m[V]=x[V]*F[V]+m[V]*W[V],x[V]=Z}return this.conjugate(x,m,w),this.transform(x,m,D,q,w,I),this.conjugate(D,q,w),this.normalize13b(D,w),b.negative=y.negative^_.negative,b.length=y.length+_.length,b.strip()},a.prototype.mul=function(y){var _=new a(null);return _.words=new Array(this.length+y.length),this.mulTo(y,_)},a.prototype.mulf=function(y){var _=new a(null);return _.words=new Array(this.length+y.length),E(this,y,_)},a.prototype.imul=function(y){return this.clone().mulTo(y,this)},a.prototype.imuln=function(y){n(typeof y=="number"),n(y<67108864);for(var _=0,b=0;b<this.length;b++){var w=(this.words[b]|0)*y,I=(w&67108863)+(_&67108863);_>>=26,_+=w/67108864|0,_+=I>>>26,this.words[b]=I&67108863}return _!==0&&(this.words[b]=_,this.length++),this.length=y===0?1:this.length,this},a.prototype.muln=function(y){return this.clone().imuln(y)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(y){var _=h(y);if(_.length===0)return new a(1);for(var b=this,w=0;w<_.length&&_[w]===0;w++,b=b.sqr());if(++w<_.length)for(var I=b.sqr();w<_.length;w++,I=I.sqr())_[w]!==0&&(b=b.mul(I));return b},a.prototype.iushln=function(y){n(typeof y=="number"&&y>=0);var _=y%26,b=(y-_)/26,w=67108863>>>26-_<<26-_,I;if(_!==0){var q=0;for(I=0;I<this.length;I++){var U=this.words[I]&w,x=(this.words[I]|0)-U<<_;this.words[I]=x|q,q=U>>>26-_}q&&(this.words[I]=q,this.length++)}if(b!==0){for(I=this.length-1;I>=0;I--)this.words[I+b]=this.words[I];for(I=0;I<b;I++)this.words[I]=0;this.length+=b}return this.strip()},a.prototype.ishln=function(y){return n(this.negative===0),this.iushln(y)},a.prototype.iushrn=function(y,_,b){n(typeof y=="number"&&y>=0);var w;_?w=(_-_%26)/26:w=0;var I=y%26,q=Math.min((y-I)/26,this.length),U=67108863^67108863>>>I<<I,x=b;if(w-=q,w=Math.max(0,w),x){for(var m=0;m<q;m++)x.words[m]=this.words[m];x.length=q}if(q!==0)if(this.length>q)for(this.length-=q,m=0;m<this.length;m++)this.words[m]=this.words[m+q];else this.words[0]=0,this.length=1;var T=0;for(m=this.length-1;m>=0&&(T!==0||m>=w);m--){var W=this.words[m]|0;this.words[m]=T<<26-I|W>>>I,T=W&U}return x&&T!==0&&(x.words[x.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(y,_,b){return n(this.negative===0),this.iushrn(y,_,b)},a.prototype.shln=function(y){return this.clone().ishln(y)},a.prototype.ushln=function(y){return this.clone().iushln(y)},a.prototype.shrn=function(y){return this.clone().ishrn(y)},a.prototype.ushrn=function(y){return this.clone().iushrn(y)},a.prototype.testn=function(y){n(typeof y=="number"&&y>=0);var _=y%26,b=(y-_)/26,w=1<<_;if(this.length<=b)return!1;var I=this.words[b];return!!(I&w)},a.prototype.imaskn=function(y){n(typeof y=="number"&&y>=0);var _=y%26,b=(y-_)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(_!==0&&b++,this.length=Math.min(b,this.length),_!==0){var w=67108863^67108863>>>_<<_;this.words[this.length-1]&=w}return this.strip()},a.prototype.maskn=function(y){return this.clone().imaskn(y)},a.prototype.iaddn=function(y){return n(typeof y=="number"),n(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},a.prototype._iaddn=function(y){this.words[0]+=y;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},a.prototype.isubn=function(y){if(n(typeof y=="number"),n(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this.strip()},a.prototype.addn=function(y){return this.clone().iaddn(y)},a.prototype.subn=function(y){return this.clone().isubn(y)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(y,_,b){var w=y.length+b,I;this._expand(w);var q,U=0;for(I=0;I<y.length;I++){q=(this.words[I+b]|0)+U;var x=(y.words[I]|0)*_;q-=x&67108863,U=(q>>26)-(x/67108864|0),this.words[I+b]=q&67108863}for(;I<this.length-b;I++)q=(this.words[I+b]|0)+U,U=q>>26,this.words[I+b]=q&67108863;if(U===0)return this.strip();for(n(U===-1),U=0,I=0;I<this.length;I++)q=-(this.words[I]|0)+U,U=q>>26,this.words[I]=q&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(y,_){var b=this.length-y.length,w=this.clone(),I=y,q=I.words[I.length-1]|0,U=this._countBits(q);b=26-U,b!==0&&(I=I.ushln(b),w.iushln(b),q=I.words[I.length-1]|0);var x=w.length-I.length,m;if(_!=="mod"){m=new a(null),m.length=x+1,m.words=new Array(m.length);for(var T=0;T<m.length;T++)m.words[T]=0}var W=w.clone()._ishlnsubmul(I,1,x);W.negative===0&&(w=W,m&&(m.words[x]=1));for(var F=x-1;F>=0;F--){var D=(w.words[I.length+F]|0)*67108864+(w.words[I.length+F-1]|0);for(D=Math.min(D/q|0,67108863),w._ishlnsubmul(I,D,F);w.negative!==0;)D--,w.negative=0,w._ishlnsubmul(I,1,F),w.isZero()||(w.negative^=1);m&&(m.words[F]=D)}return m&&m.strip(),w.strip(),_!=="div"&&b!==0&&w.iushrn(b),{div:m||null,mod:w}},a.prototype.divmod=function(y,_,b){if(n(!y.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var w,I,q;return this.negative!==0&&y.negative===0?(q=this.neg().divmod(y,_),_!=="mod"&&(w=q.div.neg()),_!=="div"&&(I=q.mod.neg(),b&&I.negative!==0&&I.iadd(y)),{div:w,mod:I}):this.negative===0&&y.negative!==0?(q=this.divmod(y.neg(),_),_!=="mod"&&(w=q.div.neg()),{div:w,mod:q.mod}):(this.negative&y.negative)!==0?(q=this.neg().divmod(y.neg(),_),_!=="div"&&(I=q.mod.neg(),b&&I.negative!==0&&I.isub(y)),{div:q.div,mod:I}):y.length>this.length||this.cmp(y)<0?{div:new a(0),mod:this}:y.length===1?_==="div"?{div:this.divn(y.words[0]),mod:null}:_==="mod"?{div:null,mod:new a(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new a(this.modn(y.words[0]))}:this._wordDiv(y,_)},a.prototype.div=function(y){return this.divmod(y,"div",!1).div},a.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},a.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},a.prototype.divRound=function(y){var _=this.divmod(y);if(_.mod.isZero())return _.div;var b=_.div.negative!==0?_.mod.isub(y):_.mod,w=y.ushrn(1),I=y.andln(1),q=b.cmp(w);return q<0||I===1&&q===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},a.prototype.modn=function(y){n(y<=67108863);for(var _=(1<<26)%y,b=0,w=this.length-1;w>=0;w--)b=(_*b+(this.words[w]|0))%y;return b},a.prototype.idivn=function(y){n(y<=67108863);for(var _=0,b=this.length-1;b>=0;b--){var w=(this.words[b]|0)+_*67108864;this.words[b]=w/y|0,_=w%y}return this.strip()},a.prototype.divn=function(y){return this.clone().idivn(y)},a.prototype.egcd=function(y){n(y.negative===0),n(!y.isZero());var _=this,b=y.clone();_.negative!==0?_=_.umod(y):_=_.clone();for(var w=new a(1),I=new a(0),q=new a(0),U=new a(1),x=0;_.isEven()&&b.isEven();)_.iushrn(1),b.iushrn(1),++x;for(var m=b.clone(),T=_.clone();!_.isZero();){for(var W=0,F=1;(_.words[0]&F)===0&&W<26;++W,F<<=1);if(W>0)for(_.iushrn(W);W-- >0;)(w.isOdd()||I.isOdd())&&(w.iadd(m),I.isub(T)),w.iushrn(1),I.iushrn(1);for(var D=0,V=1;(b.words[0]&V)===0&&D<26;++D,V<<=1);if(D>0)for(b.iushrn(D);D-- >0;)(q.isOdd()||U.isOdd())&&(q.iadd(m),U.isub(T)),q.iushrn(1),U.iushrn(1);_.cmp(b)>=0?(_.isub(b),w.isub(q),I.isub(U)):(b.isub(_),q.isub(w),U.isub(I))}return{a:q,b:U,gcd:b.iushln(x)}},a.prototype._invmp=function(y){n(y.negative===0),n(!y.isZero());var _=this,b=y.clone();_.negative!==0?_=_.umod(y):_=_.clone();for(var w=new a(1),I=new a(0),q=b.clone();_.cmpn(1)>0&&b.cmpn(1)>0;){for(var U=0,x=1;(_.words[0]&x)===0&&U<26;++U,x<<=1);if(U>0)for(_.iushrn(U);U-- >0;)w.isOdd()&&w.iadd(q),w.iushrn(1);for(var m=0,T=1;(b.words[0]&T)===0&&m<26;++m,T<<=1);if(m>0)for(b.iushrn(m);m-- >0;)I.isOdd()&&I.iadd(q),I.iushrn(1);_.cmp(b)>=0?(_.isub(b),w.isub(I)):(b.isub(_),I.isub(w))}var W;return _.cmpn(1)===0?W=w:W=I,W.cmpn(0)<0&&W.iadd(y),W},a.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var _=this.clone(),b=y.clone();_.negative=0,b.negative=0;for(var w=0;_.isEven()&&b.isEven();w++)_.iushrn(1),b.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;b.isEven();)b.iushrn(1);var I=_.cmp(b);if(I<0){var q=_;_=b,b=q}else if(I===0||b.cmpn(1)===0)break;_.isub(b)}while(!0);return b.iushln(w)},a.prototype.invm=function(y){return this.egcd(y).a.umod(y)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(y){return this.words[0]&y},a.prototype.bincn=function(y){n(typeof y=="number");var _=y%26,b=(y-_)/26,w=1<<_;if(this.length<=b)return this._expand(b+1),this.words[b]|=w,this;for(var I=w,q=b;I!==0&&q<this.length;q++){var U=this.words[q]|0;U+=I,I=U>>>26,U&=67108863,this.words[q]=U}return I!==0&&(this.words[q]=I,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(y){var _=y<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this.strip();var b;if(this.length>1)b=1;else{_&&(y=-y),n(y<=67108863,"Number is too big");var w=this.words[0]|0;b=w===y?0:w<y?-1:1}return this.negative!==0?-b|0:b},a.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var _=this.ucmp(y);return this.negative!==0?-_|0:_},a.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var _=0,b=this.length-1;b>=0;b--){var w=this.words[b]|0,I=y.words[b]|0;if(w!==I){w<I?_=-1:w>I&&(_=1);break}}return _},a.prototype.gtn=function(y){return this.cmpn(y)===1},a.prototype.gt=function(y){return this.cmp(y)===1},a.prototype.gten=function(y){return this.cmpn(y)>=0},a.prototype.gte=function(y){return this.cmp(y)>=0},a.prototype.ltn=function(y){return this.cmpn(y)===-1},a.prototype.lt=function(y){return this.cmp(y)===-1},a.prototype.lten=function(y){return this.cmpn(y)<=0},a.prototype.lte=function(y){return this.cmp(y)<=0},a.prototype.eqn=function(y){return this.cmpn(y)===0},a.prototype.eq=function(y){return this.cmp(y)===0},a.red=function(y){return new B(y)},a.prototype.toRed=function(y){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(y){return this.red=y,this},a.prototype.forceRed=function(y){return n(!this.red,"Already a number in reduction context"),this._forceRed(y)},a.prototype.redAdd=function(y){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},a.prototype.redIAdd=function(y){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},a.prototype.redSub=function(y){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},a.prototype.redISub=function(y){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},a.prototype.redShl=function(y){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},a.prototype.redMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},a.prototype.redIMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(y){return n(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var C={k256:null,p224:null,p192:null,p25519:null};function P(R,y){this.name=R,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var y=new a(null);return y.words=new Array(Math.ceil(this.n/13)),y},P.prototype.ireduce=function(y){var _=y,b;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),b=_.bitLength();while(b>this.n);var w=b<this.n?-1:_.ucmp(this.p);return w===0?(_.words[0]=0,_.length=1):w>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},P.prototype.split=function(y,_){y.iushrn(this.n,0,_)},P.prototype.imulK=function(y){return y.imul(this.k)};function S(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(S,P),S.prototype.split=function(y,_){for(var b=4194303,w=Math.min(y.length,9),I=0;I<w;I++)_.words[I]=y.words[I];if(_.length=w,y.length<=9){y.words[0]=0,y.length=1;return}var q=y.words[9];for(_.words[_.length++]=q&b,I=10;I<y.length;I++){var U=y.words[I]|0;y.words[I-10]=(U&b)<<4|q>>>22,q=U}q>>>=22,y.words[I-10]=q,q===0&&y.length>10?y.length-=10:y.length-=9},S.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var _=0,b=0;b<y.length;b++){var w=y.words[b]|0;_+=w*977,y.words[b]=_&67108863,_=w*64+(_/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function N(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(N,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(j,P);function k(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(k,P),k.prototype.imulK=function(y){for(var _=0,b=0;b<y.length;b++){var w=(y.words[b]|0)*19+_,I=w&67108863;w>>>=26,y.words[b]=I,_=w}return _!==0&&(y.words[y.length++]=_),y},a._prime=function(y){if(C[y])return C[y];var _;if(y==="k256")_=new S;else if(y==="p224")_=new N;else if(y==="p192")_=new j;else if(y==="p25519")_=new k;else throw new Error("Unknown prime "+y);return C[y]=_,_};function B(R){if(typeof R=="string"){var y=a._prime(R);this.m=y.p,this.prime=y}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}B.prototype._verify1=function(y){n(y.negative===0,"red works only with positives"),n(y.red,"red works only with red numbers")},B.prototype._verify2=function(y,_){n((y.negative|_.negative)===0,"red works only with positives"),n(y.red&&y.red===_.red,"red works only with red numbers")},B.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},B.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},B.prototype.add=function(y,_){this._verify2(y,_);var b=y.add(_);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},B.prototype.iadd=function(y,_){this._verify2(y,_);var b=y.iadd(_);return b.cmp(this.m)>=0&&b.isub(this.m),b},B.prototype.sub=function(y,_){this._verify2(y,_);var b=y.sub(_);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},B.prototype.isub=function(y,_){this._verify2(y,_);var b=y.isub(_);return b.cmpn(0)<0&&b.iadd(this.m),b},B.prototype.shl=function(y,_){return this._verify1(y),this.imod(y.ushln(_))},B.prototype.imul=function(y,_){return this._verify2(y,_),this.imod(y.imul(_))},B.prototype.mul=function(y,_){return this._verify2(y,_),this.imod(y.mul(_))},B.prototype.isqr=function(y){return this.imul(y,y.clone())},B.prototype.sqr=function(y){return this.mul(y,y)},B.prototype.sqrt=function(y){if(y.isZero())return y.clone();var _=this.m.andln(3);if(n(_%2===1),_===3){var b=this.m.add(new a(1)).iushrn(2);return this.pow(y,b)}for(var w=this.m.subn(1),I=0;!w.isZero()&&w.andln(1)===0;)I++,w.iushrn(1);n(!w.isZero());var q=new a(1).toRed(this),U=q.redNeg(),x=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new a(2*m*m).toRed(this);this.pow(m,x).cmp(U)!==0;)m.redIAdd(U);for(var T=this.pow(m,w),W=this.pow(y,w.addn(1).iushrn(1)),F=this.pow(y,w),D=I;F.cmp(q)!==0;){for(var V=F,Z=0;V.cmp(q)!==0;Z++)V=V.redSqr();n(Z<D);var te=this.pow(T,new a(1).iushln(D-Z-1));W=W.redMul(te),T=te.redSqr(),F=F.redMul(T),D=Z}return W},B.prototype.invm=function(y){var _=y._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},B.prototype.pow=function(y,_){if(_.isZero())return new a(1).toRed(this);if(_.cmpn(1)===0)return y.clone();var b=4,w=new Array(1<<b);w[0]=new a(1).toRed(this),w[1]=y;for(var I=2;I<w.length;I++)w[I]=this.mul(w[I-1],y);var q=w[0],U=0,x=0,m=_.bitLength()%26;for(m===0&&(m=26),I=_.length-1;I>=0;I--){for(var T=_.words[I],W=m-1;W>=0;W--){var F=T>>W&1;if(q!==w[0]&&(q=this.sqr(q)),F===0&&U===0){x=0;continue}U<<=1,U|=F,x++,!(x!==b&&(I!==0||W!==0))&&(q=this.mul(q,w[U]),x=0,U=0)}m=26}return q},B.prototype.convertTo=function(y){var _=y.umod(this.m);return _===y?_.clone():_},B.prototype.convertFrom=function(y){var _=y.clone();return _.red=null,_},a.mont=function(y){return new L(y)};function L(R){B.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(L,B),L.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},L.prototype.convertFrom=function(y){var _=this.imod(y.mul(this.rinv));return _.red=null,_},L.prototype.imul=function(y,_){if(y.isZero()||_.isZero())return y.words[0]=0,y.length=1,y;var b=y.imul(_),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=b.isub(w).iushrn(this.shift),q=I;return I.cmp(this.m)>=0?q=I.isub(this.m):I.cmpn(0)<0&&(q=I.iadd(this.m)),q._forceRed(this)},L.prototype.mul=function(y,_){if(y.isZero()||_.isZero())return new a(0)._forceRed(this);var b=y.mul(_),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=b.isub(w).iushrn(this.shift),q=I;return I.cmp(this.m)>=0?q=I.isub(this.m):I.cmpn(0)<0&&(q=I.iadd(this.m)),q._forceRed(this)},L.prototype.invm=function(y){var _=this.imod(y._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(e,bn)}(bn$1)),bn$1.exports}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=e;function e(r,t){if(!r)throw new Error(t||"Assertion failed")}return e.equal=function(t,n,u){if(t!=n)throw new Error(u||"Assertion failed: "+t+" != "+n)},minimalisticAssert}var utils$b={},hasRequiredUtils$b;function requireUtils$b(){return hasRequiredUtils$b||(hasRequiredUtils$b=1,function(e){var r=e;function t(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var i=[];if(typeof a!="string"){for(var o=0;o<a.length;o++)i[o]=a[o]|0;return i}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var o=0;o<a.length;o+=2)i.push(parseInt(a[o]+a[o+1],16))}else for(var o=0;o<a.length;o++){var c=a.charCodeAt(o),l=c>>8,f=c&255;l?i.push(l,f):i.push(f)}return i}r.toArray=t;function n(a){return a.length===1?"0"+a:a}r.zero2=n;function u(a){for(var s="",i=0;i<a.length;i++)s+=n(a[i].toString(16));return s}r.toHex=u,r.encode=function(s,i){return i==="hex"?u(s):s}}(utils$b)),utils$b}var hasRequiredUtils$a;function requireUtils$a(){return hasRequiredUtils$a||(hasRequiredUtils$a=1,function(e){var r=e,t=requireBn(),n=requireMinimalisticAssert(),u=requireUtils$b();r.assert=n,r.toArray=u.toArray,r.zero2=u.zero2,r.toHex=u.toHex,r.encode=u.encode;function a(l,f,d){var h=new Array(Math.max(l.bitLength(),d)+1),v;for(v=0;v<h.length;v+=1)h[v]=0;var p=1<<f+1,g=l.clone();for(v=0;v<h.length;v++){var E,A=g.andln(p-1);g.isOdd()?(A>(p>>1)-1?E=(p>>1)-A:E=A,g.isubn(E)):E=0,h[v]=E,g.iushrn(1)}return h}r.getNAF=a;function s(l,f){var d=[[],[]];l=l.clone(),f=f.clone();for(var h=0,v=0,p;l.cmpn(-h)>0||f.cmpn(-v)>0;){var g=l.andln(3)+h&3,E=f.andln(3)+v&3;g===3&&(g=-1),E===3&&(E=-1);var A;(g&1)===0?A=0:(p=l.andln(7)+h&7,(p===3||p===5)&&E===2?A=-g:A=g),d[0].push(A);var C;(E&1)===0?C=0:(p=f.andln(7)+v&7,(p===3||p===5)&&g===2?C=-E:C=E),d[1].push(C),2*h===A+1&&(h=1-h),2*v===C+1&&(v=1-v),l.iushrn(1),f.iushrn(1)}return d}r.getJSF=s;function i(l,f,d){var h="_"+f;l.prototype[f]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}}r.cachedProperty=i;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=o;function c(l){return new t(l,"hex","le")}r.intFromLE=c}(utils$c)),utils$c}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var e;brorand.exports=function(u){return e||(e=new r(null)),e.generate(u)};function r(n){this.rand=n}if(brorand.exports.Rand=r,r.prototype.generate=function(u){return this._rand(u)},r.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var a=new Uint8Array(u),s=0;s<a.length;s++)a[s]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(u){var a=new Uint8Array(u);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(u){var a=new Uint8Array(u);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var t=require$$0$2;if(typeof t.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(u){return t.randomBytes(u)}}catch{}return brorand.exports}var curve$1={},base$1,hasRequiredBase;function requireBase(){if(hasRequiredBase)return base$1;hasRequiredBase=1;var e=requireBn(),r=requireUtils$a(),t=r.getNAF,n=r.getJSF,u=r.assert;function a(i,o){this.type=i,this.p=new e(o.p,16),this.red=o.prime?e.red(o.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=o.n&&new e(o.n,16),this.g=o.g&&this.pointFromJSON(o.g,o.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=a,a.prototype.point=function(){throw new Error("Not implemented")},a.prototype.validate=function(){throw new Error("Not implemented")},a.prototype._fixedNafMul=function(o,c){u(o.precomputed);var l=o._getDoubles(),f=t(c,1,this._bitLength),d=(1<<l.step+1)-(l.step%2===0?2:1);d/=3;var h=[],v,p;for(v=0;v<f.length;v+=l.step){p=0;for(var g=v+l.step-1;g>=v;g--)p=(p<<1)+f[g];h.push(p)}for(var E=this.jpoint(null,null,null),A=this.jpoint(null,null,null),C=d;C>0;C--){for(v=0;v<h.length;v++)p=h[v],p===C?A=A.mixedAdd(l.points[v]):p===-C&&(A=A.mixedAdd(l.points[v].neg()));E=E.add(A)}return E.toP()},a.prototype._wnafMul=function(o,c){var l=4,f=o._getNAFPoints(l);l=f.wnd;for(var d=f.points,h=t(c,l,this._bitLength),v=this.jpoint(null,null,null),p=h.length-1;p>=0;p--){for(var g=0;p>=0&&h[p]===0;p--)g++;if(p>=0&&g++,v=v.dblp(g),p<0)break;var E=h[p];u(E!==0),o.type==="affine"?E>0?v=v.mixedAdd(d[E-1>>1]):v=v.mixedAdd(d[-E-1>>1].neg()):E>0?v=v.add(d[E-1>>1]):v=v.add(d[-E-1>>1].neg())}return o.type==="affine"?v.toP():v},a.prototype._wnafMulAdd=function(o,c,l,f,d){var h=this._wnafT1,v=this._wnafT2,p=this._wnafT3,g=0,E,A,C;for(E=0;E<f;E++){C=c[E];var P=C._getNAFPoints(o);h[E]=P.wnd,v[E]=P.points}for(E=f-1;E>=1;E-=2){var S=E-1,N=E;if(h[S]!==1||h[N]!==1){p[S]=t(l[S],h[S],this._bitLength),p[N]=t(l[N],h[N],this._bitLength),g=Math.max(p[S].length,g),g=Math.max(p[N].length,g);continue}var j=[c[S],null,null,c[N]];c[S].y.cmp(c[N].y)===0?(j[1]=c[S].add(c[N]),j[2]=c[S].toJ().mixedAdd(c[N].neg())):c[S].y.cmp(c[N].y.redNeg())===0?(j[1]=c[S].toJ().mixedAdd(c[N]),j[2]=c[S].add(c[N].neg())):(j[1]=c[S].toJ().mixedAdd(c[N]),j[2]=c[S].toJ().mixedAdd(c[N].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],B=n(l[S],l[N]);for(g=Math.max(B[0].length,g),p[S]=new Array(g),p[N]=new Array(g),A=0;A<g;A++){var L=B[0][A]|0,R=B[1][A]|0;p[S][A]=k[(L+1)*3+(R+1)],p[N][A]=0,v[S]=j}}var y=this.jpoint(null,null,null),_=this._wnafT4;for(E=g;E>=0;E--){for(var b=0;E>=0;){var w=!0;for(A=0;A<f;A++)_[A]=p[A][E]|0,_[A]!==0&&(w=!1);if(!w)break;b++,E--}if(E>=0&&b++,y=y.dblp(b),E<0)break;for(A=0;A<f;A++){var I=_[A];I!==0&&(I>0?C=v[A][I-1>>1]:I<0&&(C=v[A][-I-1>>1].neg()),C.type==="affine"?y=y.mixedAdd(C):y=y.add(C))}}for(E=0;E<f;E++)v[E]=null;return d?y:y.toP()};function s(i,o){this.curve=i,this.type=o,this.precomputed=null}return a.BasePoint=s,s.prototype.eq=function(){throw new Error("Not implemented")},s.prototype.validate=function(){return this.curve.validate(this)},a.prototype.decodePoint=function(o,c){o=r.toArray(o,c);var l=this.p.byteLength();if((o[0]===4||o[0]===6||o[0]===7)&&o.length-1===2*l){o[0]===6?u(o[o.length-1]%2===0):o[0]===7&&u(o[o.length-1]%2===1);var f=this.point(o.slice(1,1+l),o.slice(1+l,1+2*l));return f}else if((o[0]===2||o[0]===3)&&o.length-1===l)return this.pointFromX(o.slice(1,1+l),o[0]===3);throw new Error("Unknown point format")},s.prototype.encodeCompressed=function(o){return this.encode(o,!0)},s.prototype._encode=function(o){var c=this.curve.p.byteLength(),l=this.getX().toArray("be",c);return o?[this.getY().isEven()?2:3].concat(l):[4].concat(l,this.getY().toArray("be",c))},s.prototype.encode=function(o,c){return r.encode(this._encode(c),o)},s.prototype.precompute=function(o){if(this.precomputed)return this;var c={doubles:null,naf:null,beta:null};return c.naf=this._getNAFPoints(8),c.doubles=this._getDoubles(4,o),c.beta=this._getBeta(),this.precomputed=c,this},s.prototype._hasDoubles=function(o){if(!this.precomputed)return!1;var c=this.precomputed.doubles;return c?c.points.length>=Math.ceil((o.bitLength()+1)/c.step):!1},s.prototype._getDoubles=function(o,c){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var l=[this],f=this,d=0;d<c;d+=o){for(var h=0;h<o;h++)f=f.dbl();l.push(f)}return{step:o,points:l}},s.prototype._getNAFPoints=function(o){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var c=[this],l=(1<<o)-1,f=l===1?null:this.dbl(),d=1;d<l;d++)c[d]=c[d-1].add(f);return{wnd:o,points:c}},s.prototype._getBeta=function(){return null},s.prototype.dblp=function(o){for(var c=this,l=0;l<o;l++)c=c.dbl();return c},base$1}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(r,t){t&&(r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(r,t){if(t){r.super_=t;var n=function(){};n.prototype=t.prototype,r.prototype=new n,r.prototype.constructor=r}}),inherits_browser.exports}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var e=requireUtils$a(),r=requireBn(),t=requireInherits_browser(),n=requireBase(),u=e.assert;function a(o){n.call(this,"short",o),this.a=new r(o.a,16).toRed(this.red),this.b=new r(o.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(o),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}t(a,n),short=a,a.prototype._getEndomorphism=function(c){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var l,f;if(c.beta)l=new r(c.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);l=d[0].cmp(d[1])<0?d[0]:d[1],l=l.toRed(this.red)}if(c.lambda)f=new r(c.lambda,16);else{var h=this._getEndoRoots(this.n);this.g.mul(h[0]).x.cmp(this.g.x.redMul(l))===0?f=h[0]:(f=h[1],u(this.g.mul(f).x.cmp(this.g.x.redMul(l))===0))}var v;return c.basis?v=c.basis.map(function(p){return{a:new r(p.a,16),b:new r(p.b,16)}}):v=this._getEndoBasis(f),{beta:l,lambda:f,basis:v}}},a.prototype._getEndoRoots=function(c){var l=c===this.p?this.red:r.mont(c),f=new r(2).toRed(l).redInvm(),d=f.redNeg(),h=new r(3).toRed(l).redNeg().redSqrt().redMul(f),v=d.redAdd(h).fromRed(),p=d.redSub(h).fromRed();return[v,p]},a.prototype._getEndoBasis=function(c){for(var l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=c,d=this.n.clone(),h=new r(1),v=new r(0),p=new r(0),g=new r(1),E,A,C,P,S,N,j,k=0,B,L;f.cmpn(0)!==0;){var R=d.div(f);B=d.sub(R.mul(f)),L=p.sub(R.mul(h));var y=g.sub(R.mul(v));if(!C&&B.cmp(l)<0)E=j.neg(),A=h,C=B.neg(),P=L;else if(C&&++k===2)break;j=B,d=f,f=B,p=h,h=L,g=v,v=y}S=B.neg(),N=L;var _=C.sqr().add(P.sqr()),b=S.sqr().add(N.sqr());return b.cmp(_)>=0&&(S=E,N=A),C.negative&&(C=C.neg(),P=P.neg()),S.negative&&(S=S.neg(),N=N.neg()),[{a:C,b:P},{a:S,b:N}]},a.prototype._endoSplit=function(c){var l=this.endo.basis,f=l[0],d=l[1],h=d.b.mul(c).divRound(this.n),v=f.b.neg().mul(c).divRound(this.n),p=h.mul(f.a),g=v.mul(d.a),E=h.mul(f.b),A=v.mul(d.b),C=c.sub(p).sub(g),P=E.add(A).neg();return{k1:C,k2:P}},a.prototype.pointFromX=function(c,l){c=new r(c,16),c.red||(c=c.toRed(this.red));var f=c.redSqr().redMul(c).redIAdd(c.redMul(this.a)).redIAdd(this.b),d=f.redSqrt();if(d.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var h=d.fromRed().isOdd();return(l&&!h||!l&&h)&&(d=d.redNeg()),this.point(c,d)},a.prototype.validate=function(c){if(c.inf)return!0;var l=c.x,f=c.y,d=this.a.redMul(l),h=l.redSqr().redMul(l).redIAdd(d).redIAdd(this.b);return f.redSqr().redISub(h).cmpn(0)===0},a.prototype._endoWnafMulAdd=function(c,l,f){for(var d=this._endoWnafT1,h=this._endoWnafT2,v=0;v<c.length;v++){var p=this._endoSplit(l[v]),g=c[v],E=g._getBeta();p.k1.negative&&(p.k1.ineg(),g=g.neg(!0)),p.k2.negative&&(p.k2.ineg(),E=E.neg(!0)),d[v*2]=g,d[v*2+1]=E,h[v*2]=p.k1,h[v*2+1]=p.k2}for(var A=this._wnafMulAdd(1,d,h,v*2,f),C=0;C<v*2;C++)d[C]=null,h[C]=null;return A};function s(o,c,l,f){n.BasePoint.call(this,o,"affine"),c===null&&l===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(c,16),this.y=new r(l,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}t(s,n.BasePoint),a.prototype.point=function(c,l,f){return new s(this,c,l,f)},a.prototype.pointFromJSON=function(c,l){return s.fromJSON(this,c,l)},s.prototype._getBeta=function(){if(this.curve.endo){var c=this.precomputed;if(c&&c.beta)return c.beta;var l=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(c){var f=this.curve,d=function(h){return f.point(h.x.redMul(f.endo.beta),h.y)};c.beta=l,l.precomputed={beta:null,naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(d)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(d)}}}return l}},s.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},s.fromJSON=function(c,l,f){typeof l=="string"&&(l=JSON.parse(l));var d=c.point(l[0],l[1],f);if(!l[2])return d;function h(p){return c.point(p[0],p[1],f)}var v=l[2];return d.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[d].concat(v.doubles.points.map(h))},naf:v.naf&&{wnd:v.naf.wnd,points:[d].concat(v.naf.points.map(h))}},d},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.inf},s.prototype.add=function(c){if(this.inf)return c;if(c.inf)return this;if(this.eq(c))return this.dbl();if(this.neg().eq(c))return this.curve.point(null,null);if(this.x.cmp(c.x)===0)return this.curve.point(null,null);var l=this.y.redSub(c.y);l.cmpn(0)!==0&&(l=l.redMul(this.x.redSub(c.x).redInvm()));var f=l.redSqr().redISub(this.x).redISub(c.x),d=l.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,d)},s.prototype.dbl=function(){if(this.inf)return this;var c=this.y.redAdd(this.y);if(c.cmpn(0)===0)return this.curve.point(null,null);var l=this.curve.a,f=this.x.redSqr(),d=c.redInvm(),h=f.redAdd(f).redIAdd(f).redIAdd(l).redMul(d),v=h.redSqr().redISub(this.x.redAdd(this.x)),p=h.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,p)},s.prototype.getX=function(){return this.x.fromRed()},s.prototype.getY=function(){return this.y.fromRed()},s.prototype.mul=function(c){return c=new r(c,16),this.isInfinity()?this:this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve.endo?this.curve._endoWnafMulAdd([this],[c]):this.curve._wnafMul(this,c)},s.prototype.mulAdd=function(c,l,f){var d=[this,l],h=[c,f];return this.curve.endo?this.curve._endoWnafMulAdd(d,h):this.curve._wnafMulAdd(1,d,h,2)},s.prototype.jmulAdd=function(c,l,f){var d=[this,l],h=[c,f];return this.curve.endo?this.curve._endoWnafMulAdd(d,h,!0):this.curve._wnafMulAdd(1,d,h,2,!0)},s.prototype.eq=function(c){return this===c||this.inf===c.inf&&(this.inf||this.x.cmp(c.x)===0&&this.y.cmp(c.y)===0)},s.prototype.neg=function(c){if(this.inf)return this;var l=this.curve.point(this.x,this.y.redNeg());if(c&&this.precomputed){var f=this.precomputed,d=function(h){return h.neg()};l.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(d)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(d)}}}return l},s.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var c=this.curve.jpoint(this.x,this.y,this.curve.one);return c};function i(o,c,l,f){n.BasePoint.call(this,o,"jacobian"),c===null&&l===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(c,16),this.y=new r(l,16),this.z=new r(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return t(i,n.BasePoint),a.prototype.jpoint=function(c,l,f){return new i(this,c,l,f)},i.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var c=this.z.redInvm(),l=c.redSqr(),f=this.x.redMul(l),d=this.y.redMul(l).redMul(c);return this.curve.point(f,d)},i.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(c){if(this.isInfinity())return c;if(c.isInfinity())return this;var l=c.z.redSqr(),f=this.z.redSqr(),d=this.x.redMul(l),h=c.x.redMul(f),v=this.y.redMul(l.redMul(c.z)),p=c.y.redMul(f.redMul(this.z)),g=d.redSub(h),E=v.redSub(p);if(g.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=g.redSqr(),C=A.redMul(g),P=d.redMul(A),S=E.redSqr().redIAdd(C).redISub(P).redISub(P),N=E.redMul(P.redISub(S)).redISub(v.redMul(C)),j=this.z.redMul(c.z).redMul(g);return this.curve.jpoint(S,N,j)},i.prototype.mixedAdd=function(c){if(this.isInfinity())return c.toJ();if(c.isInfinity())return this;var l=this.z.redSqr(),f=this.x,d=c.x.redMul(l),h=this.y,v=c.y.redMul(l).redMul(this.z),p=f.redSub(d),g=h.redSub(v);if(p.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=p.redSqr(),A=E.redMul(p),C=f.redMul(E),P=g.redSqr().redIAdd(A).redISub(C).redISub(C),S=g.redMul(C.redISub(P)).redISub(h.redMul(A)),N=this.z.redMul(p);return this.curve.jpoint(P,S,N)},i.prototype.dblp=function(c){if(c===0)return this;if(this.isInfinity())return this;if(!c)return this.dbl();var l;if(this.curve.zeroA||this.curve.threeA){var f=this;for(l=0;l<c;l++)f=f.dbl();return f}var d=this.curve.a,h=this.curve.tinv,v=this.x,p=this.y,g=this.z,E=g.redSqr().redSqr(),A=p.redAdd(p);for(l=0;l<c;l++){var C=v.redSqr(),P=A.redSqr(),S=P.redSqr(),N=C.redAdd(C).redIAdd(C).redIAdd(d.redMul(E)),j=v.redMul(P),k=N.redSqr().redISub(j.redAdd(j)),B=j.redISub(k),L=N.redMul(B);L=L.redIAdd(L).redISub(S);var R=A.redMul(g);l+1<c&&(E=E.redMul(S)),v=k,g=R,A=L}return this.curve.jpoint(v,A.redMul(h),g)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},i.prototype._zeroDbl=function(){var c,l,f;if(this.zOne){var d=this.x.redSqr(),h=this.y.redSqr(),v=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(d).redISub(v);p=p.redIAdd(p);var g=d.redAdd(d).redIAdd(d),E=g.redSqr().redISub(p).redISub(p),A=v.redIAdd(v);A=A.redIAdd(A),A=A.redIAdd(A),c=E,l=g.redMul(p.redISub(E)).redISub(A),f=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),P=this.y.redSqr(),S=P.redSqr(),N=this.x.redAdd(P).redSqr().redISub(C).redISub(S);N=N.redIAdd(N);var j=C.redAdd(C).redIAdd(C),k=j.redSqr(),B=S.redIAdd(S);B=B.redIAdd(B),B=B.redIAdd(B),c=k.redISub(N).redISub(N),l=j.redMul(N.redISub(c)).redISub(B),f=this.y.redMul(this.z),f=f.redIAdd(f)}return this.curve.jpoint(c,l,f)},i.prototype._threeDbl=function(){var c,l,f;if(this.zOne){var d=this.x.redSqr(),h=this.y.redSqr(),v=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(d).redISub(v);p=p.redIAdd(p);var g=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),E=g.redSqr().redISub(p).redISub(p);c=E;var A=v.redIAdd(v);A=A.redIAdd(A),A=A.redIAdd(A),l=g.redMul(p.redISub(E)).redISub(A),f=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),P=this.y.redSqr(),S=this.x.redMul(P),N=this.x.redSub(C).redMul(this.x.redAdd(C));N=N.redAdd(N).redIAdd(N);var j=S.redIAdd(S);j=j.redIAdd(j);var k=j.redAdd(j);c=N.redSqr().redISub(k),f=this.y.redAdd(this.z).redSqr().redISub(P).redISub(C);var B=P.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),l=N.redMul(j.redISub(c)).redISub(B)}return this.curve.jpoint(c,l,f)},i.prototype._dbl=function(){var c=this.curve.a,l=this.x,f=this.y,d=this.z,h=d.redSqr().redSqr(),v=l.redSqr(),p=f.redSqr(),g=v.redAdd(v).redIAdd(v).redIAdd(c.redMul(h)),E=l.redAdd(l);E=E.redIAdd(E);var A=E.redMul(p),C=g.redSqr().redISub(A.redAdd(A)),P=A.redISub(C),S=p.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var N=g.redMul(P).redISub(S),j=f.redAdd(f).redMul(d);return this.curve.jpoint(C,N,j)},i.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var c=this.x.redSqr(),l=this.y.redSqr(),f=this.z.redSqr(),d=l.redSqr(),h=c.redAdd(c).redIAdd(c),v=h.redSqr(),p=this.x.redAdd(l).redSqr().redISub(c).redISub(d);p=p.redIAdd(p),p=p.redAdd(p).redIAdd(p),p=p.redISub(v);var g=p.redSqr(),E=d.redIAdd(d);E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var A=h.redIAdd(p).redSqr().redISub(v).redISub(g).redISub(E),C=l.redMul(A);C=C.redIAdd(C),C=C.redIAdd(C);var P=this.x.redMul(g).redISub(C);P=P.redIAdd(P),P=P.redIAdd(P);var S=this.y.redMul(A.redMul(E.redISub(A)).redISub(p.redMul(g)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var N=this.z.redAdd(p).redSqr().redISub(f).redISub(g);return this.curve.jpoint(P,S,N)},i.prototype.mul=function(c,l){return c=new r(c,l),this.curve._wnafMul(this,c)},i.prototype.eq=function(c){if(c.type==="affine")return this.eq(c.toJ());if(this===c)return!0;var l=this.z.redSqr(),f=c.z.redSqr();if(this.x.redMul(f).redISub(c.x.redMul(l)).cmpn(0)!==0)return!1;var d=l.redMul(this.z),h=f.redMul(c.z);return this.y.redMul(h).redISub(c.y.redMul(d)).cmpn(0)===0},i.prototype.eqXToP=function(c){var l=this.z.redSqr(),f=c.toRed(this.curve.red).redMul(l);if(this.x.cmp(f)===0)return!0;for(var d=c.clone(),h=this.curve.redN.redMul(l);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(h),this.x.cmp(f)===0)return!0}},i.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var e=requireBn(),r=requireInherits_browser(),t=requireBase(),n=requireUtils$a();function u(s){t.call(this,"mont",s),this.a=new e(s.a,16).toRed(this.red),this.b=new e(s.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}r(u,t),mont=u,u.prototype.validate=function(i){var o=i.normalize().x,c=o.redSqr(),l=c.redMul(o).redAdd(c.redMul(this.a)).redAdd(o),f=l.redSqrt();return f.redSqr().cmp(l)===0};function a(s,i,o){t.BasePoint.call(this,s,"projective"),i===null&&o===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(i,16),this.z=new e(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return r(a,t.BasePoint),u.prototype.decodePoint=function(i,o){return this.point(n.toArray(i,o),1)},u.prototype.point=function(i,o){return new a(this,i,o)},u.prototype.pointFromJSON=function(i){return a.fromJSON(this,i)},a.prototype.precompute=function(){},a.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},a.fromJSON=function(i,o){return new a(i,o[0],o[1]||i.one)},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},a.prototype.dbl=function(){var i=this.x.redAdd(this.z),o=i.redSqr(),c=this.x.redSub(this.z),l=c.redSqr(),f=o.redSub(l),d=o.redMul(l),h=f.redMul(l.redAdd(this.curve.a24.redMul(f)));return this.curve.point(d,h)},a.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.diffAdd=function(i,o){var c=this.x.redAdd(this.z),l=this.x.redSub(this.z),f=i.x.redAdd(i.z),d=i.x.redSub(i.z),h=d.redMul(c),v=f.redMul(l),p=o.z.redMul(h.redAdd(v).redSqr()),g=o.x.redMul(h.redISub(v).redSqr());return this.curve.point(p,g)},a.prototype.mul=function(i){for(var o=i.clone(),c=this,l=this.curve.point(null,null),f=this,d=[];o.cmpn(0)!==0;o.iushrn(1))d.push(o.andln(1));for(var h=d.length-1;h>=0;h--)d[h]===0?(c=c.diffAdd(l,f),l=l.dbl()):(l=c.diffAdd(l,f),c=c.dbl());return l},a.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.eq=function(i){return this.getX().cmp(i.getX())===0},a.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards$1,hasRequiredEdwards$1;function requireEdwards$1(){if(hasRequiredEdwards$1)return edwards$1;hasRequiredEdwards$1=1;var e=requireUtils$a(),r=requireBn(),t=requireInherits_browser(),n=requireBase(),u=e.assert;function a(i){this.twisted=(i.a|0)!==1,this.mOneA=this.twisted&&(i.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",i),this.a=new r(i.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(i.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(i.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(i.c|0)===1}t(a,n),edwards$1=a,a.prototype._mulA=function(o){return this.mOneA?o.redNeg():this.a.redMul(o)},a.prototype._mulC=function(o){return this.oneC?o:this.c.redMul(o)},a.prototype.jpoint=function(o,c,l,f){return this.point(o,c,l,f)},a.prototype.pointFromX=function(o,c){o=new r(o,16),o.red||(o=o.toRed(this.red));var l=o.redSqr(),f=this.c2.redSub(this.a.redMul(l)),d=this.one.redSub(this.c2.redMul(this.d).redMul(l)),h=f.redMul(d.redInvm()),v=h.redSqrt();if(v.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var p=v.fromRed().isOdd();return(c&&!p||!c&&p)&&(v=v.redNeg()),this.point(o,v)},a.prototype.pointFromY=function(o,c){o=new r(o,16),o.red||(o=o.toRed(this.red));var l=o.redSqr(),f=l.redSub(this.c2),d=l.redMul(this.d).redMul(this.c2).redSub(this.a),h=f.redMul(d.redInvm());if(h.cmp(this.zero)===0){if(c)throw new Error("invalid point");return this.point(this.zero,o)}var v=h.redSqrt();if(v.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==c&&(v=v.redNeg()),this.point(v,o)},a.prototype.validate=function(o){if(o.isInfinity())return!0;o.normalize();var c=o.x.redSqr(),l=o.y.redSqr(),f=c.redMul(this.a).redAdd(l),d=this.c2.redMul(this.one.redAdd(this.d.redMul(c).redMul(l)));return f.cmp(d)===0};function s(i,o,c,l,f){n.BasePoint.call(this,i,"projective"),o===null&&c===null&&l===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(o,16),this.y=new r(c,16),this.z=l?new r(l,16):this.curve.one,this.t=f&&new r(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return t(s,n.BasePoint),a.prototype.pointFromJSON=function(o){return s.fromJSON(this,o)},a.prototype.point=function(o,c,l,f){return new s(this,o,c,l,f)},s.fromJSON=function(o,c){return new s(o,c[0],c[1],c[2])},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},s.prototype._extDbl=function(){var o=this.x.redSqr(),c=this.y.redSqr(),l=this.z.redSqr();l=l.redIAdd(l);var f=this.curve._mulA(o),d=this.x.redAdd(this.y).redSqr().redISub(o).redISub(c),h=f.redAdd(c),v=h.redSub(l),p=f.redSub(c),g=d.redMul(v),E=h.redMul(p),A=d.redMul(p),C=v.redMul(h);return this.curve.point(g,E,C,A)},s.prototype._projDbl=function(){var o=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),l=this.y.redSqr(),f,d,h,v,p,g;if(this.curve.twisted){v=this.curve._mulA(c);var E=v.redAdd(l);this.zOne?(f=o.redSub(c).redSub(l).redMul(E.redSub(this.curve.two)),d=E.redMul(v.redSub(l)),h=E.redSqr().redSub(E).redSub(E)):(p=this.z.redSqr(),g=E.redSub(p).redISub(p),f=o.redSub(c).redISub(l).redMul(g),d=E.redMul(v.redSub(l)),h=E.redMul(g))}else v=c.redAdd(l),p=this.curve._mulC(this.z).redSqr(),g=v.redSub(p).redSub(p),f=this.curve._mulC(o.redISub(v)).redMul(g),d=this.curve._mulC(v).redMul(c.redISub(l)),h=v.redMul(g);return this.curve.point(f,d,h)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},s.prototype._extAdd=function(o){var c=this.y.redSub(this.x).redMul(o.y.redSub(o.x)),l=this.y.redAdd(this.x).redMul(o.y.redAdd(o.x)),f=this.t.redMul(this.curve.dd).redMul(o.t),d=this.z.redMul(o.z.redAdd(o.z)),h=l.redSub(c),v=d.redSub(f),p=d.redAdd(f),g=l.redAdd(c),E=h.redMul(v),A=p.redMul(g),C=h.redMul(g),P=v.redMul(p);return this.curve.point(E,A,P,C)},s.prototype._projAdd=function(o){var c=this.z.redMul(o.z),l=c.redSqr(),f=this.x.redMul(o.x),d=this.y.redMul(o.y),h=this.curve.d.redMul(f).redMul(d),v=l.redSub(h),p=l.redAdd(h),g=this.x.redAdd(this.y).redMul(o.x.redAdd(o.y)).redISub(f).redISub(d),E=c.redMul(v).redMul(g),A,C;return this.curve.twisted?(A=c.redMul(p).redMul(d.redSub(this.curve._mulA(f))),C=v.redMul(p)):(A=c.redMul(p).redMul(d.redSub(f)),C=this.curve._mulC(v).redMul(p)),this.curve.point(E,A,C)},s.prototype.add=function(o){return this.isInfinity()?o:o.isInfinity()?this:this.curve.extended?this._extAdd(o):this._projAdd(o)},s.prototype.mul=function(o){return this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve._wnafMul(this,o)},s.prototype.mulAdd=function(o,c,l){return this.curve._wnafMulAdd(1,[this,c],[o,l],2,!1)},s.prototype.jmulAdd=function(o,c,l){return this.curve._wnafMulAdd(1,[this,c],[o,l],2,!0)},s.prototype.normalize=function(){if(this.zOne)return this;var o=this.z.redInvm();return this.x=this.x.redMul(o),this.y=this.y.redMul(o),this.t&&(this.t=this.t.redMul(o)),this.z=this.curve.one,this.zOne=!0,this},s.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},s.prototype.getY=function(){return this.normalize(),this.y.fromRed()},s.prototype.eq=function(o){return this===o||this.getX().cmp(o.getX())===0&&this.getY().cmp(o.getY())===0},s.prototype.eqXToP=function(o){var c=o.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(c)===0)return!0;for(var l=o.clone(),f=this.curve.redN.redMul(this.z);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(f),this.x.cmp(c)===0)return!0}},s.prototype.toP=s.prototype.normalize,s.prototype.mixedAdd=s.prototype.add,edwards$1}var hasRequiredCurve$1;function requireCurve$1(){return hasRequiredCurve$1||(hasRequiredCurve$1=1,function(e){var r=e;r.base=requireBase(),r.short=requireShort(),r.mont=requireMont(),r.edwards=requireEdwards$1()}(curve$1)),curve$1}var curves={},hash={},utils$a={},hasRequiredUtils$9;function requireUtils$9(){if(hasRequiredUtils$9)return utils$a;hasRequiredUtils$9=1;var e=requireMinimalisticAssert(),r=requireInherits_browser();utils$a.inherits=r;function t(y,_){return(y.charCodeAt(_)&64512)!==55296||_<0||_+1>=y.length?!1:(y.charCodeAt(_+1)&64512)===56320}function n(y,_){if(Array.isArray(y))return y.slice();if(!y)return[];var b=[];if(typeof y=="string")if(_){if(_==="hex")for(y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!==0&&(y="0"+y),I=0;I<y.length;I+=2)b.push(parseInt(y[I]+y[I+1],16))}else for(var w=0,I=0;I<y.length;I++){var q=y.charCodeAt(I);q<128?b[w++]=q:q<2048?(b[w++]=q>>6|192,b[w++]=q&63|128):t(y,I)?(q=65536+((q&1023)<<10)+(y.charCodeAt(++I)&1023),b[w++]=q>>18|240,b[w++]=q>>12&63|128,b[w++]=q>>6&63|128,b[w++]=q&63|128):(b[w++]=q>>12|224,b[w++]=q>>6&63|128,b[w++]=q&63|128)}else for(I=0;I<y.length;I++)b[I]=y[I]|0;return b}utils$a.toArray=n;function u(y){for(var _="",b=0;b<y.length;b++)_+=i(y[b].toString(16));return _}utils$a.toHex=u;function a(y){var _=y>>>24|y>>>8&65280|y<<8&16711680|(y&255)<<24;return _>>>0}utils$a.htonl=a;function s(y,_){for(var b="",w=0;w<y.length;w++){var I=y[w];_==="little"&&(I=a(I)),b+=o(I.toString(16))}return b}utils$a.toHex32=s;function i(y){return y.length===1?"0"+y:y}utils$a.zero2=i;function o(y){return y.length===7?"0"+y:y.length===6?"00"+y:y.length===5?"000"+y:y.length===4?"0000"+y:y.length===3?"00000"+y:y.length===2?"000000"+y:y.length===1?"0000000"+y:y}utils$a.zero8=o;function c(y,_,b,w){var I=b-_;e(I%4===0);for(var q=new Array(I/4),U=0,x=_;U<q.length;U++,x+=4){var m;w==="big"?m=y[x]<<24|y[x+1]<<16|y[x+2]<<8|y[x+3]:m=y[x+3]<<24|y[x+2]<<16|y[x+1]<<8|y[x],q[U]=m>>>0}return q}utils$a.join32=c;function l(y,_){for(var b=new Array(y.length*4),w=0,I=0;w<y.length;w++,I+=4){var q=y[w];_==="big"?(b[I]=q>>>24,b[I+1]=q>>>16&255,b[I+2]=q>>>8&255,b[I+3]=q&255):(b[I+3]=q>>>24,b[I+2]=q>>>16&255,b[I+1]=q>>>8&255,b[I]=q&255)}return b}utils$a.split32=l;function f(y,_){return y>>>_|y<<32-_}utils$a.rotr32=f;function d(y,_){return y<<_|y>>>32-_}utils$a.rotl32=d;function h(y,_){return y+_>>>0}utils$a.sum32=h;function v(y,_,b){return y+_+b>>>0}utils$a.sum32_3=v;function p(y,_,b,w){return y+_+b+w>>>0}utils$a.sum32_4=p;function g(y,_,b,w,I){return y+_+b+w+I>>>0}utils$a.sum32_5=g;function E(y,_,b,w){var I=y[_],q=y[_+1],U=w+q>>>0,x=(U<w?1:0)+b+I;y[_]=x>>>0,y[_+1]=U}utils$a.sum64=E;function A(y,_,b,w){var I=_+w>>>0,q=(I<_?1:0)+y+b;return q>>>0}utils$a.sum64_hi=A;function C(y,_,b,w){var I=_+w;return I>>>0}utils$a.sum64_lo=C;function P(y,_,b,w,I,q,U,x){var m=0,T=_;T=T+w>>>0,m+=T<_?1:0,T=T+q>>>0,m+=T<q?1:0,T=T+x>>>0,m+=T<x?1:0;var W=y+b+I+U+m;return W>>>0}utils$a.sum64_4_hi=P;function S(y,_,b,w,I,q,U,x){var m=_+w+q+x;return m>>>0}utils$a.sum64_4_lo=S;function N(y,_,b,w,I,q,U,x,m,T){var W=0,F=_;F=F+w>>>0,W+=F<_?1:0,F=F+q>>>0,W+=F<q?1:0,F=F+x>>>0,W+=F<x?1:0,F=F+T>>>0,W+=F<T?1:0;var D=y+b+I+U+m+W;return D>>>0}utils$a.sum64_5_hi=N;function j(y,_,b,w,I,q,U,x,m,T){var W=_+w+q+x+T;return W>>>0}utils$a.sum64_5_lo=j;function k(y,_,b){var w=_<<32-b|y>>>b;return w>>>0}utils$a.rotr64_hi=k;function B(y,_,b){var w=y<<32-b|_>>>b;return w>>>0}utils$a.rotr64_lo=B;function L(y,_,b){return y>>>b}utils$a.shr64_hi=L;function R(y,_,b){var w=y<<32-b|_>>>b;return w>>>0}return utils$a.shr64_lo=R,utils$a}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var e=requireUtils$9(),r=requireMinimalisticAssert();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=t,t.prototype.update=function(u,a){if(u=e.toArray(u,a),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){u=this.pending;var s=u.length%this._delta8;this.pending=u.slice(u.length-s,u.length),this.pending.length===0&&(this.pending=null),u=e.join32(u,0,u.length-s,this.endian);for(var i=0;i<u.length;i+=this._delta32)this._update(u,i,i+this._delta32)}return this},t.prototype.digest=function(u){return this.update(this._pad()),r(this.pending===null),this._digest(u)},t.prototype._pad=function(){var u=this.pendingTotal,a=this._delta8,s=a-(u+this.padLength)%a,i=new Array(s+this.padLength);i[0]=128;for(var o=1;o<s;o++)i[o]=0;if(u<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=u>>>24&255,i[o++]=u>>>16&255,i[o++]=u>>>8&255,i[o++]=u&255}else for(i[o++]=u&255,i[o++]=u>>>8&255,i[o++]=u>>>16&255,i[o++]=u>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,c=8;c<this.padLength;c++)i[o++]=0;return i},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var e=requireUtils$9(),r=e.rotr32;function t(l,f,d,h){if(l===0)return n(f,d,h);if(l===1||l===3)return a(f,d,h);if(l===2)return u(f,d,h)}common.ft_1=t;function n(l,f,d){return l&f^~l&d}common.ch32=n;function u(l,f,d){return l&f^l&d^f&d}common.maj32=u;function a(l,f,d){return l^f^d}common.p32=a;function s(l){return r(l,2)^r(l,13)^r(l,22)}common.s0_256=s;function i(l){return r(l,6)^r(l,11)^r(l,25)}common.s1_256=i;function o(l){return r(l,7)^r(l,18)^l>>>3}common.g0_256=o;function c(l){return r(l,17)^r(l,19)^l>>>10}return common.g1_256=c,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var e=requireUtils$9(),r=requireCommon$1(),t=requireCommon(),n=e.rotl32,u=e.sum32,a=e.sum32_5,s=t.ft_1,i=r.BlockHash,o=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(c,i),_1=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(f,d){for(var h=this.W,v=0;v<16;v++)h[v]=f[d+v];for(;v<h.length;v++)h[v]=n(h[v-3]^h[v-8]^h[v-14]^h[v-16],1);var p=this.h[0],g=this.h[1],E=this.h[2],A=this.h[3],C=this.h[4];for(v=0;v<h.length;v++){var P=~~(v/20),S=a(n(p,5),s(P,g,E,A),C,h[v],o[P]);C=A,A=E,E=n(g,30),g=p,p=S}this.h[0]=u(this.h[0],p),this.h[1]=u(this.h[1],g),this.h[2]=u(this.h[2],E),this.h[3]=u(this.h[3],A),this.h[4]=u(this.h[4],C)},c.prototype._digest=function(f){return f==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var e=requireUtils$9(),r=requireCommon$1(),t=requireCommon(),n=requireMinimalisticAssert(),u=e.sum32,a=e.sum32_4,s=e.sum32_5,i=t.ch32,o=t.maj32,c=t.s0_256,l=t.s1_256,f=t.g0_256,d=t.g1_256,h=r.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function p(){if(!(this instanceof p))return new p;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return e.inherits(p,h),_256=p,p.blockSize=512,p.outSize=256,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(E,A){for(var C=this.W,P=0;P<16;P++)C[P]=E[A+P];for(;P<C.length;P++)C[P]=a(d(C[P-2]),C[P-7],f(C[P-15]),C[P-16]);var S=this.h[0],N=this.h[1],j=this.h[2],k=this.h[3],B=this.h[4],L=this.h[5],R=this.h[6],y=this.h[7];for(n(this.k.length===C.length),P=0;P<C.length;P++){var _=s(y,l(B),i(B,L,R),this.k[P],C[P]),b=u(c(S),o(S,N,j));y=R,R=L,L=B,B=u(k,_),k=j,j=N,N=S,S=u(_,b)}this.h[0]=u(this.h[0],S),this.h[1]=u(this.h[1],N),this.h[2]=u(this.h[2],j),this.h[3]=u(this.h[3],k),this.h[4]=u(this.h[4],B),this.h[5]=u(this.h[5],L),this.h[6]=u(this.h[6],R),this.h[7]=u(this.h[7],y)},p.prototype._digest=function(E){return E==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var e=requireUtils$9(),r=require_256();function t(){if(!(this instanceof t))return new t;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(t,r),_224=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(u){return u==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var e=requireUtils$9(),r=requireCommon$1(),t=requireMinimalisticAssert(),n=e.rotr64_hi,u=e.rotr64_lo,a=e.shr64_hi,s=e.shr64_lo,i=e.sum64,o=e.sum64_hi,c=e.sum64_lo,l=e.sum64_4_hi,f=e.sum64_4_lo,d=e.sum64_5_hi,h=e.sum64_5_lo,v=r.BlockHash,p=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=p,this.W=new Array(160)}e.inherits(g,v),_512=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(b,w){for(var I=this.W,q=0;q<32;q++)I[q]=b[w+q];for(;q<I.length;q+=2){var U=R(I[q-4],I[q-3]),x=y(I[q-4],I[q-3]),m=I[q-14],T=I[q-13],W=B(I[q-30],I[q-29]),F=L(I[q-30],I[q-29]),D=I[q-32],V=I[q-31];I[q]=l(U,x,m,T,W,F,D,V),I[q+1]=f(U,x,m,T,W,F,D,V)}},g.prototype._update=function(b,w){this._prepareBlock(b,w);var I=this.W,q=this.h[0],U=this.h[1],x=this.h[2],m=this.h[3],T=this.h[4],W=this.h[5],F=this.h[6],D=this.h[7],V=this.h[8],Z=this.h[9],te=this.h[10],ee=this.h[11],H=this.h[12],z=this.h[13],X=this.h[14],Q=this.h[15];t(this.k.length===I.length);for(var re=0;re<I.length;re+=2){var oe=X,se=Q,ae=j(V,Z),ce=k(V,Z),ue=E(V,Z,te,ee,H),ie=A(V,Z,te,ee,H,z),he=this.k[re],de=this.k[re+1],$e=I[re],pe=I[re+1],ye=d(oe,se,ae,ce,ue,ie,he,de,$e,pe),be=h(oe,se,ae,ce,ue,ie,he,de,$e,pe);oe=S(q,U),se=N(q,U),ae=C(q,U,x,m,T),ce=P(q,U,x,m,T,W);var _e=o(oe,se,ae,ce),G=c(oe,se,ae,ce);X=H,Q=z,H=te,z=ee,te=V,ee=Z,V=o(F,D,ye,be),Z=c(D,D,ye,be),F=T,D=W,T=x,W=m,x=q,m=U,q=o(ye,be,_e,G),U=c(ye,be,_e,G)}i(this.h,0,q,U),i(this.h,2,x,m),i(this.h,4,T,W),i(this.h,6,F,D),i(this.h,8,V,Z),i(this.h,10,te,ee),i(this.h,12,H,z),i(this.h,14,X,Q)},g.prototype._digest=function(b){return b==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function E(_,b,w,I,q){var U=_&w^~_&q;return U<0&&(U+=4294967296),U}function A(_,b,w,I,q,U){var x=b&I^~b&U;return x<0&&(x+=4294967296),x}function C(_,b,w,I,q){var U=_&w^_&q^w&q;return U<0&&(U+=4294967296),U}function P(_,b,w,I,q,U){var x=b&I^b&U^I&U;return x<0&&(x+=4294967296),x}function S(_,b){var w=n(_,b,28),I=n(b,_,2),q=n(b,_,7),U=w^I^q;return U<0&&(U+=4294967296),U}function N(_,b){var w=u(_,b,28),I=u(b,_,2),q=u(b,_,7),U=w^I^q;return U<0&&(U+=4294967296),U}function j(_,b){var w=n(_,b,14),I=n(_,b,18),q=n(b,_,9),U=w^I^q;return U<0&&(U+=4294967296),U}function k(_,b){var w=u(_,b,14),I=u(_,b,18),q=u(b,_,9),U=w^I^q;return U<0&&(U+=4294967296),U}function B(_,b){var w=n(_,b,1),I=n(_,b,8),q=a(_,b,7),U=w^I^q;return U<0&&(U+=4294967296),U}function L(_,b){var w=u(_,b,1),I=u(_,b,8),q=s(_,b,7),U=w^I^q;return U<0&&(U+=4294967296),U}function R(_,b){var w=n(_,b,19),I=n(b,_,29),q=a(_,b,6),U=w^I^q;return U<0&&(U+=4294967296),U}function y(_,b){var w=u(_,b,19),I=u(b,_,29),q=s(_,b,6),U=w^I^q;return U<0&&(U+=4294967296),U}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var e=requireUtils$9(),r=require_512();function t(){if(!(this instanceof t))return new t;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(t,r),_384=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(u){return u==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var e=requireUtils$9(),r=requireCommon$1(),t=e.rotl32,n=e.sum32,u=e.sum32_3,a=e.sum32_4,s=r.BlockHash;function i(){if(!(this instanceof i))return new i;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(i,s),ripemd.ripemd160=i,i.blockSize=512,i.outSize=160,i.hmacStrength=192,i.padLength=64,i.prototype._update=function(g,E){for(var A=this.h[0],C=this.h[1],P=this.h[2],S=this.h[3],N=this.h[4],j=A,k=C,B=P,L=S,R=N,y=0;y<80;y++){var _=n(t(a(A,o(y,C,P,S),g[f[y]+E],c(y)),h[y]),N);A=N,N=S,S=t(P,10),P=C,C=_,_=n(t(a(j,o(79-y,k,B,L),g[d[y]+E],l(y)),v[y]),R),j=R,R=L,L=t(B,10),B=k,k=_}_=u(this.h[1],P,L),this.h[1]=u(this.h[2],S,R),this.h[2]=u(this.h[3],N,j),this.h[3]=u(this.h[4],A,k),this.h[4]=u(this.h[0],C,B),this.h[0]=_},i.prototype._digest=function(g){return g==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function o(p,g,E,A){return p<=15?g^E^A:p<=31?g&E|~g&A:p<=47?(g|~E)^A:p<=63?g&A|E&~A:g^(E|~A)}function c(p){return p<=15?0:p<=31?1518500249:p<=47?1859775393:p<=63?2400959708:2840853838}function l(p){return p<=15?1352829926:p<=31?1548603684:p<=47?1836072691:p<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var e=requireUtils$9(),r=requireMinimalisticAssert();function t(n,u,a){if(!(this instanceof t))return new t(n,u,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(u,a))}return hmac=t,t.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),r(u.length<=this.blockSize);for(var a=u.length;a<this.blockSize;a++)u.push(0);for(a=0;a<u.length;a++)u[a]^=54;for(this.inner=new this.Hash().update(u),a=0;a<u.length;a++)u[a]^=106;this.outer=new this.Hash().update(u)},t.prototype.update=function(u,a){return this.inner.update(u,a),this},t.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(e){var r=e;r.utils=requireUtils$9(),r.common=requireCommon$1(),r.sha=requireSha(),r.ripemd=requireRipemd(),r.hmac=requireHmac(),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(e){var r=e,t=requireHash(),n=requireCurve$1(),u=requireUtils$a(),a=u.assert;function s(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=s;function i(c,l){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){var f=new s(l);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:f}),f}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=requireSecp256k1()}catch{o=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var e=requireHash(),r=requireUtils$b(),t=requireMinimalisticAssert();function n(u){if(!(this instanceof n))return new n(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var a=r.toArray(u.entropy,u.entropyEnc||"hex"),s=r.toArray(u.nonce,u.nonceEnc||"hex"),i=r.toArray(u.pers,u.persEnc||"hex");t(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(a,s,i)}return hmacDrbg=n,n.prototype._init=function(a,s,i){var o=a.concat(s).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new e.hmac(this.hash,this.K)},n.prototype._update=function(a){var s=this._hmac().update(this.V).update([0]);a&&(s=s.update(a)),this.K=s.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(a,s,i,o){typeof s!="string"&&(o=i,i=s,s=null),a=r.toArray(a,s),i=r.toArray(i,o),t(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(i||[])),this._reseed=1},n.prototype.generate=function(a,s,i,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof s!="string"&&(o=i,i=s,s=null),i&&(i=r.toArray(i,o||"hex"),this._update(i));for(var c=[];c.length<a;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var l=c.slice(0,a);return this._update(i),this._reseed++,r.encode(l,s)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var e=requireBn(),r=requireUtils$a(),t=r.assert;function n(u,a){this.ec=u,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}return key$1=n,n.fromPublic=function(a,s,i){return s instanceof n?s:new n(a,{pub:s,pubEnc:i})},n.fromPrivate=function(a,s,i){return s instanceof n?s:new n(a,{priv:s,privEnc:i})},n.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(a,s){return typeof a=="string"&&(s=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),s?this.pub.encode(s,a):this.pub},n.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(a,s){this.priv=new e(a,s||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(a,s){if(a.x||a.y){this.ec.curve.type==="mont"?t(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&t(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,s)},n.prototype.derive=function(a){return a.validate()||t(a.validate(),"public point not validated"),a.mul(this.priv).getX()},n.prototype.sign=function(a,s,i){return this.ec.sign(a,this,s,i)},n.prototype.verify=function(a,s,i){return this.ec.verify(a,s,this,void 0,i)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$3,hasRequiredSignature$3;function requireSignature$3(){if(hasRequiredSignature$3)return signature$3;hasRequiredSignature$3=1;var e=requireBn(),r=requireUtils$a(),t=r.assert;function n(o,c){if(o instanceof n)return o;this._importDER(o,c)||(t(o.r&&o.s,"Signature without r or s"),this.r=new e(o.r,16),this.s=new e(o.s,16),o.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=o.recoveryParam)}signature$3=n;function u(){this.place=0}function a(o,c){var l=o[c.place++];if(!(l&128))return l;var f=l&15;if(f===0||f>4||o[c.place]===0)return!1;for(var d=0,h=0,v=c.place;h<f;h++,v++)d<<=8,d|=o[v],d>>>=0;return d<=127?!1:(c.place=v,d)}function s(o){for(var c=0,l=o.length-1;!o[c]&&!(o[c+1]&128)&&c<l;)c++;return c===0?o:o.slice(c)}n.prototype._importDER=function(c,l){c=r.toArray(c,l);var f=new u;if(c[f.place++]!==48)return!1;var d=a(c,f);if(d===!1||d+f.place!==c.length||c[f.place++]!==2)return!1;var h=a(c,f);if(h===!1||(c[f.place]&128)!==0)return!1;var v=c.slice(f.place,h+f.place);if(f.place+=h,c[f.place++]!==2)return!1;var p=a(c,f);if(p===!1||c.length!==p+f.place||(c[f.place]&128)!==0)return!1;var g=c.slice(f.place,p+f.place);if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;return this.r=new e(v),this.s=new e(g),this.recoveryParam=null,!0};function i(o,c){if(c<128){o.push(c);return}var l=1+(Math.log(c)/Math.LN2>>>3);for(o.push(l|128);--l;)o.push(c>>>(l<<3)&255);o.push(c)}return n.prototype.toDER=function(c){var l=this.r.toArray(),f=this.s.toArray();for(l[0]&128&&(l=[0].concat(l)),f[0]&128&&(f=[0].concat(f)),l=s(l),f=s(f);!f[0]&&!(f[1]&128);)f=f.slice(1);var d=[2];i(d,l.length),d=d.concat(l),d.push(2),i(d,f.length);var h=d.concat(f),v=[48];return i(v,h.length),v=v.concat(h),r.encode(v,c)},signature$3}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var e=requireBn(),r=requireHmacDrbg(),t=requireUtils$a(),n=requireCurves(),u=requireBrorand(),a=t.assert,s=requireKey$1(),i=requireSignature$3();function o(c){if(!(this instanceof o))return new o(c);typeof c=="string"&&(a(Object.prototype.hasOwnProperty.call(n,c),"Unknown curve "+c),c=n[c]),c instanceof n.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}return ec=o,o.prototype.keyPair=function(l){return new s(this,l)},o.prototype.keyFromPrivate=function(l,f){return s.fromPrivate(this,l,f)},o.prototype.keyFromPublic=function(l,f){return s.fromPublic(this,l,f)},o.prototype.genKeyPair=function(l){l||(l={});for(var f=new r({hash:this.hash,pers:l.pers,persEnc:l.persEnc||"utf8",entropy:l.entropy||u(this.hash.hmacStrength),entropyEnc:l.entropy&&l.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),h=this.n.sub(new e(2));;){var v=new e(f.generate(d));if(!(v.cmp(h)>0))return v.iaddn(1),this.keyFromPrivate(v)}},o.prototype._truncateToN=function(l,f,d){var h;if(e.isBN(l)||typeof l=="number")l=new e(l,16),h=l.byteLength();else if(typeof l=="object")h=l.length,l=new e(l,16);else{var v=l.toString();h=v.length+1>>>1,l=new e(v,16)}typeof d!="number"&&(d=h*8);var p=d-this.n.bitLength();return p>0&&(l=l.ushrn(p)),!f&&l.cmp(this.n)>=0?l.sub(this.n):l},o.prototype.sign=function(l,f,d,h){if(typeof d=="object"&&(h=d,d=null),h||(h={}),typeof l!="string"&&typeof l!="number"&&!e.isBN(l)){a(typeof l=="object"&&l&&typeof l.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),a(l.length>>>0===l.length);for(var v=0;v<l.length;v++)a((l[v]&255)===l[v])}f=this.keyFromPrivate(f,d),l=this._truncateToN(l,!1,h.msgBitLength),a(!l.isNeg(),"Can not sign a negative message");var p=this.n.byteLength(),g=f.getPrivate().toArray("be",p),E=l.toArray("be",p);a(new e(E).eq(l),"Can not sign message");for(var A=new r({hash:this.hash,entropy:g,nonce:E,pers:h.pers,persEnc:h.persEnc||"utf8"}),C=this.n.sub(new e(1)),P=0;;P++){var S=h.k?h.k(P):new e(A.generate(this.n.byteLength()));if(S=this._truncateToN(S,!0),!(S.cmpn(1)<=0||S.cmp(C)>=0)){var N=this.g.mul(S);if(!N.isInfinity()){var j=N.getX(),k=j.umod(this.n);if(k.cmpn(0)!==0){var B=S.invm(this.n).mul(k.mul(f.getPrivate()).iadd(l));if(B=B.umod(this.n),B.cmpn(0)!==0){var L=(N.getY().isOdd()?1:0)|(j.cmp(k)!==0?2:0);return h.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),L^=1),new i({r:k,s:B,recoveryParam:L})}}}}}},o.prototype.verify=function(l,f,d,h,v){v||(v={}),l=this._truncateToN(l,!1,v.msgBitLength),d=this.keyFromPublic(d,h),f=new i(f,"hex");var p=f.r,g=f.s;if(p.cmpn(1)<0||p.cmp(this.n)>=0||g.cmpn(1)<0||g.cmp(this.n)>=0)return!1;var E=g.invm(this.n),A=E.mul(l).umod(this.n),C=E.mul(p).umod(this.n),P;return this.curve._maxwellTrick?(P=this.g.jmulAdd(A,d.getPublic(),C),P.isInfinity()?!1:P.eqXToP(p)):(P=this.g.mulAdd(A,d.getPublic(),C),P.isInfinity()?!1:P.getX().umod(this.n).cmp(p)===0)},o.prototype.recoverPubKey=function(c,l,f,d){a((3&f)===f,"The recovery param is more than two bits"),l=new i(l,d);var h=this.n,v=new e(c),p=l.r,g=l.s,E=f&1,A=f>>1;if(p.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?p=this.curve.pointFromX(p.add(this.curve.n),E):p=this.curve.pointFromX(p,E);var C=l.r.invm(h),P=h.sub(v).mul(C).umod(h),S=g.mul(C).umod(h);return this.g.mulAdd(P,p,S)},o.prototype.getKeyRecoveryParam=function(c,l,f,d){if(l=new i(l,d),l.recoveryParam!==null)return l.recoveryParam;for(var h=0;h<4;h++){var v;try{v=this.recoverPubKey(c,l,h)}catch{continue}if(v.eq(f))return h}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var e=requireUtils$a(),r=e.assert,t=e.parseBytes,n=e.cachedProperty;function u(a,s){this.eddsa=a,this._secret=t(s.secret),a.isPoint(s.pub)?this._pub=s.pub:this._pubBytes=t(s.pub)}return u.fromPublic=function(s,i){return i instanceof u?i:new u(s,{pub:i})},u.fromSecret=function(s,i){return i instanceof u?i:new u(s,{secret:i})},u.prototype.secret=function(){return this._secret},n(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(u,"privBytes",function(){var s=this.eddsa,i=this.hash(),o=s.encodingLength-1,c=i.slice(0,s.encodingLength);return c[0]&=248,c[o]&=127,c[o]|=64,c}),n(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(s){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(s,this)},u.prototype.verify=function(s,i){return this.eddsa.verify(s,i,this)},u.prototype.getSecret=function(s){return r(this._secret,"KeyPair is public only"),e.encode(this.secret(),s)},u.prototype.getPublic=function(s){return e.encode(this.pubBytes(),s)},key=u,key}var signature$2,hasRequiredSignature$2;function requireSignature$2(){if(hasRequiredSignature$2)return signature$2;hasRequiredSignature$2=1;var e=requireBn(),r=requireUtils$a(),t=r.assert,n=r.cachedProperty,u=r.parseBytes;function a(s,i){this.eddsa=s,typeof i!="object"&&(i=u(i)),Array.isArray(i)&&(t(i.length===s.encodingLength*2,"Signature has invalid size"),i={R:i.slice(0,s.encodingLength),S:i.slice(s.encodingLength)}),t(i.R&&i.S,"Signature without R or S"),s.isPoint(i.R)&&(this._R=i.R),i.S instanceof e&&(this._S=i.S),this._Rencoded=Array.isArray(i.R)?i.R:i.Rencoded,this._Sencoded=Array.isArray(i.S)?i.S:i.Sencoded}return n(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},signature$2=a,signature$2}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var e=requireHash(),r=requireCurves(),t=requireUtils$a(),n=t.assert,u=t.parseBytes,a=requireKey(),s=requireSignature$2();function i(o){if(n(o==="ed25519","only tested with ed25519 so far"),!(this instanceof i))return new i(o);o=r[o].curve,this.curve=o,this.g=o.g,this.g.precompute(o.n.bitLength()+1),this.pointClass=o.point().constructor,this.encodingLength=Math.ceil(o.n.bitLength()/8),this.hash=e.sha512}return eddsa=i,i.prototype.sign=function(c,l){c=u(c);var f=this.keyFromSecret(l),d=this.hashInt(f.messagePrefix(),c),h=this.g.mul(d),v=this.encodePoint(h),p=this.hashInt(v,f.pubBytes(),c).mul(f.priv()),g=d.add(p).umod(this.curve.n);return this.makeSignature({R:h,S:g,Rencoded:v})},i.prototype.verify=function(c,l,f){if(c=u(c),l=this.makeSignature(l),l.S().gte(l.eddsa.curve.n)||l.S().isNeg())return!1;var d=this.keyFromPublic(f),h=this.hashInt(l.Rencoded(),d.pubBytes(),c),v=this.g.mul(l.S()),p=l.R().add(d.pub().mul(h));return p.eq(v)},i.prototype.hashInt=function(){for(var c=this.hash(),l=0;l<arguments.length;l++)c.update(arguments[l]);return t.intFromLE(c.digest()).umod(this.curve.n)},i.prototype.keyFromPublic=function(c){return a.fromPublic(this,c)},i.prototype.keyFromSecret=function(c){return a.fromSecret(this,c)},i.prototype.makeSignature=function(c){return c instanceof s?c:new s(this,c)},i.prototype.encodePoint=function(c){var l=c.getY().toArray("le",this.encodingLength);return l[this.encodingLength-1]|=c.getX().isOdd()?128:0,l},i.prototype.decodePoint=function(c){c=t.parseBytes(c);var l=c.length-1,f=c.slice(0,l).concat(c[l]&-129),d=(c[l]&128)!==0,h=t.intFromLE(f);return this.curve.pointFromY(h,d)},i.prototype.encodeInt=function(c){return c.toArray("le",this.encodingLength)},i.prototype.decodeInt=function(c){return t.intFromLE(c)},i.prototype.isPoint=function(c){return c instanceof this.pointClass},eddsa}var hasRequiredElliptic$4;function requireElliptic$4(){return hasRequiredElliptic$4||(hasRequiredElliptic$4=1,function(e){var r=e;r.version=require$$0$3.version,r.utils=requireUtils$a(),r.rand=requireBrorand(),r.curve=requireCurve$1(),r.curves=requireCurves(),r.ec=requireEc(),r.eddsa=requireEddsa()}(elliptic$4)),elliptic$4}var elliptic$3,hasRequiredElliptic$3;function requireElliptic$3(){if(hasRequiredElliptic$3)return elliptic$3;hasRequiredElliptic$3=1;const e=requireElliptic$4().ec,r=new e("secp256k1"),t=r.curve,n=t.n.constructor;function u(o,c){let l=new n(c);if(l.cmp(t.p)>=0)return null;l=l.toRed(t.red);let f=l.redSqr().redIMul(l).redIAdd(t.b).redSqrt();o===3!==f.isOdd()&&(f=f.redNeg());const d=l.redSqr().redIMul(l);return f.redSqr().redISub(d.redIAdd(t.b)).isZero()?r.keyPair({pub:{x:l,y:f}}):null}function a(o,c,l){let f=new n(c),d=new n(l);if(f.cmp(t.p)>=0||d.cmp(t.p)>=0||(f=f.toRed(t.red),d=d.toRed(t.red),(o===6||o===7)&&d.isOdd()!==(o===7)))return null;const h=f.redSqr().redIMul(f);return d.redSqr().redISub(h.redIAdd(t.b)).isZero()?r.keyPair({pub:{x:f,y:d}}):null}function s(o){const c=o[0];switch(c){case 2:case 3:return o.length!==33?null:u(c,o.subarray(1,33));case 4:case 6:case 7:return o.length!==65?null:a(c,o.subarray(1,33),o.subarray(33,65));default:return null}}function i(o,c){const l=c.encode(null,o.length===33);for(let f=0;f<o.length;++f)o[f]=l[f]}return elliptic$3={contextRandomize(){return 0},privateKeyVerify(o){const c=new n(o);return c.cmp(t.n)<0&&!c.isZero()?0:1},privateKeyNegate(o){const c=new n(o),l=t.n.sub(c).umod(t.n).toArrayLike(Uint8Array,"be",32);return o.set(l),0},privateKeyTweakAdd(o,c){const l=new n(c);if(l.cmp(t.n)>=0||(l.iadd(new n(o)),l.cmp(t.n)>=0&&l.isub(t.n),l.isZero()))return 1;const f=l.toArrayLike(Uint8Array,"be",32);return o.set(f),0},privateKeyTweakMul(o,c){let l=new n(c);if(l.cmp(t.n)>=0||l.isZero())return 1;l.imul(new n(o)),l.cmp(t.n)>=0&&(l=l.umod(t.n));const f=l.toArrayLike(Uint8Array,"be",32);return o.set(f),0},publicKeyVerify(o){return s(o)===null?1:0},publicKeyCreate(o,c){const l=new n(c);if(l.cmp(t.n)>=0||l.isZero())return 1;const f=r.keyFromPrivate(c).getPublic();return i(o,f),0},publicKeyConvert(o,c){const l=s(c);if(l===null)return 1;const f=l.getPublic();return i(o,f),0},publicKeyNegate(o,c){const l=s(c);if(l===null)return 1;const f=l.getPublic();return f.y=f.y.redNeg(),i(o,f),0},publicKeyCombine(o,c){const l=new Array(c.length);for(let d=0;d<c.length;++d)if(l[d]=s(c[d]),l[d]===null)return 1;let f=l[0].getPublic();for(let d=1;d<l.length;++d)f=f.add(l[d].pub);return f.isInfinity()?2:(i(o,f),0)},publicKeyTweakAdd(o,c,l){const f=s(c);if(f===null)return 1;if(l=new n(l),l.cmp(t.n)>=0)return 2;const d=f.getPublic().add(t.g.mul(l));return d.isInfinity()?2:(i(o,d),0)},publicKeyTweakMul(o,c,l){const f=s(c);if(f===null)return 1;if(l=new n(l),l.cmp(t.n)>=0||l.isZero())return 2;const d=f.getPublic().mul(l);return i(o,d),0},signatureNormalize(o){const c=new n(o.subarray(0,32)),l=new n(o.subarray(32,64));return c.cmp(t.n)>=0||l.cmp(t.n)>=0?1:(l.cmp(r.nh)===1&&o.set(t.n.sub(l).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(o,c){const l=c.subarray(0,32),f=c.subarray(32,64);if(new n(l).cmp(t.n)>=0||new n(f).cmp(t.n)>=0)return 1;const{output:d}=o;let h=d.subarray(4,37);h[0]=0,h.set(l,1);let v=33,p=0;for(;v>1&&h[p]===0&&!(h[p+1]&128);--v,++p);if(h=h.subarray(p),h[0]&128||v>1&&h[0]===0&&!(h[1]&128))return 1;let g=d.subarray(39,72);g[0]=0,g.set(f,1);let E=33,A=0;for(;E>1&&g[A]===0&&!(g[A+1]&128);--E,++A);return g=g.subarray(A),g[0]&128||E>1&&g[0]===0&&!(g[1]&128)?1:(o.outputlen=6+v+E,d[0]=48,d[1]=o.outputlen-2,d[2]=2,d[3]=h.length,d.set(h,4),d[4+v]=2,d[5+v]=g.length,d.set(g,6+v),0)},signatureImport(o,c){if(c.length<8||c.length>72||c[0]!==48||c[1]!==c.length-2||c[2]!==2)return 1;const l=c[3];if(l===0||5+l>=c.length||c[4+l]!==2)return 1;const f=c[5+l];if(f===0||6+l+f!==c.length||c[4]&128||l>1&&c[4]===0&&!(c[5]&128)||c[l+6]&128||f>1&&c[l+6]===0&&!(c[l+7]&128))return 1;let d=c.subarray(4,4+l);if(d.length===33&&d[0]===0&&(d=d.subarray(1)),d.length>32)return 1;let h=c.subarray(6+l);if(h.length===33&&h[0]===0&&(h=h.slice(1)),h.length>32)throw new Error("S length is too long");let v=new n(d);v.cmp(t.n)>=0&&(v=new n(0));let p=new n(c.subarray(6+l));return p.cmp(t.n)>=0&&(p=new n(0)),o.set(v.toArrayLike(Uint8Array,"be",32),0),o.set(p.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(o,c,l,f,d){if(d){const p=d;d=g=>{const E=p(c,l,null,f,g);if(!(E instanceof Uint8Array&&E.length===32))throw new Error("This is the way");return new n(E)}}const h=new n(l);if(h.cmp(t.n)>=0||h.isZero())return 1;let v;try{v=r.sign(c,l,{canonical:!0,k:d,pers:f})}catch{return 1}return o.signature.set(v.r.toArrayLike(Uint8Array,"be",32),0),o.signature.set(v.s.toArrayLike(Uint8Array,"be",32),32),o.recid=v.recoveryParam,0},ecdsaVerify(o,c,l){const f={r:o.subarray(0,32),s:o.subarray(32,64)},d=new n(f.r),h=new n(f.s);if(d.cmp(t.n)>=0||h.cmp(t.n)>=0)return 1;if(h.cmp(r.nh)===1||d.isZero()||h.isZero())return 3;const v=s(l);if(v===null)return 2;const p=v.getPublic();return r.verify(c,f,p)?0:3},ecdsaRecover(o,c,l,f){const d={r:c.slice(0,32),s:c.slice(32,64)},h=new n(d.r),v=new n(d.s);if(h.cmp(t.n)>=0||v.cmp(t.n)>=0)return 1;if(h.isZero()||v.isZero())return 2;let p;try{p=r.recoverPubKey(f,d,l)}catch{return 2}return i(o,p),0},ecdh(o,c,l,f,d,h,v){const p=s(c);if(p===null)return 1;const g=new n(l);if(g.cmp(t.n)>=0||g.isZero())return 2;const E=p.getPublic().mul(g);if(d===void 0){const A=E.encode(null,!0),C=r.hash().update(A).digest();for(let P=0;P<32;++P)o[P]=C[P]}else{h||(h=new Uint8Array(32));const A=E.getX().toArray("be",32);for(let N=0;N<32;++N)h[N]=A[N];v||(v=new Uint8Array(32));const C=E.getY().toArray("be",32);for(let N=0;N<32;++N)v[N]=C[N];const P=d(h,v,f);if(!(P instanceof Uint8Array&&P.length===o.length))return 2;o.set(P)}return 0}},elliptic$3}var elliptic$2,hasRequiredElliptic$2;function requireElliptic$2(){return hasRequiredElliptic$2||(hasRequiredElliptic$2=1,elliptic$2=requireLib$3()(requireElliptic$3())),elliptic$2}var hasRequiredPublic_key$1;function requirePublic_key$1(){if(hasRequiredPublic_key$1)return public_key$1;hasRequiredPublic_key$1=1;var e=public_key$1&&public_key$1.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(public_key$1,"__esModule",{value:!0}),public_key$1.PublicKey=void 0;const r=requireCommonjs$i(),t=requireEd25519$1(),n=e(requireElliptic$2()),u=requireConstants$5();function a(l){switch(l){case u.KeyType.ED25519:return"ed25519";case u.KeyType.SECP256K1:return"secp256k1";default:throw new Error(`Unknown key type ${l}`)}}function s(l){switch(l.toLowerCase()){case"ed25519":return u.KeyType.ED25519;case"secp256k1":return u.KeyType.SECP256K1;default:throw new Error(`Unknown key type ${l}`)}}function i(l){switch(l){case u.KeyType.ED25519:return"ed25519Key";case u.KeyType.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${l}`)}}class o{constructor(f){if(Object.keys(f).length!==1)throw new Error("Enum can only take single value");Object.keys(f).map(d=>{this[d]=f[d]})}}class c extends o{constructor(d){const h=i(d.keyType);super({[h]:d});J(this,"enum");J(this,"ed25519Key");J(this,"secp256k1Key");this[h]=d,this.enum=h}static from(d){return typeof d=="string"?c.fromString(d):d}static fromString(d){const h=d.split(":");let v,p;if(h.length===1)v=h[0];else if(h.length===2)v=h[1],p=s(h[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const g=(0,r.baseDecode)(v);p||(p=g.length===u.KeySize.SECP256k1_PUBLIC_KEY?u.KeyType.SECP256K1:u.KeyType.ED25519);const E=p===u.KeyType.ED25519?u.KeySize.ED25519_PUBLIC_KEY:u.KeySize.SECP256k1_PUBLIC_KEY;if(g.length!==E)throw new Error(`Invalid public key size (${g.length}), must be ${E}`);return new c({keyType:p,data:g})}toString(){const d=(0,r.baseEncode)(this.data);return`${a(this.keyType)}:${d}`}verify(d,h){const v=this.keyType,p=this.data;switch(v){case u.KeyType.ED25519:return t.ed25519.verify(h,d,p);case u.KeyType.SECP256K1:return n.default.ecdsaVerify(h.subarray(0,64),d,new Uint8Array([4,...p]));default:throw new Error(`Unknown key type: ${v}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}return public_key$1.PublicKey=c,public_key$1}var hasRequiredKey_pair_ed25519$1;function requireKey_pair_ed25519$1(){if(hasRequiredKey_pair_ed25519$1)return key_pair_ed25519$1;hasRequiredKey_pair_ed25519$1=1;var e=key_pair_ed25519$1&&key_pair_ed25519$1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(key_pair_ed25519$1,"__esModule",{value:!0}),key_pair_ed25519$1.KeyPairEd25519=void 0;const r=requireCommonjs$i(),t=requireEd25519$1(),n=e(requireBrowser$1()),u=requireConstants$5(),a=requireKey_pair_base$1(),s=requirePublic_key$1();class i extends a.KeyPairBase{constructor(l){super();J(this,"publicKey");J(this,"secretKey");J(this,"extendedSecretKey");const f=(0,r.baseDecode)(l),d=new Uint8Array(f.slice(0,u.KeySize.SECRET_KEY)),h=t.ed25519.getPublicKey(new Uint8Array(d));this.publicKey=new s.PublicKey({keyType:u.KeyType.ED25519,data:h}),this.secretKey=(0,r.baseEncode)(d),this.extendedSecretKey=l}static fromRandom(){const l=(0,n.default)(u.KeySize.SECRET_KEY),f=t.ed25519.getPublicKey(new Uint8Array(l)),d=new Uint8Array([...l,...f]);return new i((0,r.baseEncode)(d))}sign(l){return{signature:t.ed25519.sign(l,(0,r.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(l,f){return this.publicKey.verify(l,f)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}return key_pair_ed25519$1.KeyPairEd25519=i,key_pair_ed25519$1}var key_pair_secp256k1$1={},hasRequiredKey_pair_secp256k1$1;function requireKey_pair_secp256k1$1(){if(hasRequiredKey_pair_secp256k1$1)return key_pair_secp256k1$1;hasRequiredKey_pair_secp256k1$1=1;var e=key_pair_secp256k1$1&&key_pair_secp256k1$1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(key_pair_secp256k1$1,"__esModule",{value:!0}),key_pair_secp256k1$1.KeyPairSecp256k1=void 0;const r=requireCommonjs$i(),t=e(requireBrowser$1()),n=e(requireElliptic$2()),u=requireConstants$5(),a=requireKey_pair_base$1(),s=requirePublic_key$1();class i extends a.KeyPairBase{constructor(l){super();J(this,"publicKey");J(this,"secretKey");J(this,"extendedSecretKey");const f=(0,r.baseDecode)(l),d=new Uint8Array(f.slice(0,u.KeySize.SECRET_KEY)),h=n.default.publicKeyCreate(new Uint8Array(d),!1),v=h.subarray(1,h.length);this.publicKey=new s.PublicKey({keyType:u.KeyType.SECP256K1,data:v}),this.secretKey=(0,r.baseEncode)(d),this.extendedSecretKey=l}static fromRandom(){const l=(0,t.default)(u.KeySize.SECRET_KEY),f=n.default.publicKeyCreate(new Uint8Array(l),!1),d=f.subarray(1,f.length),h=new Uint8Array([...l,...d]);return new i((0,r.baseEncode)(h))}sign(l){const{signature:f,recid:d}=n.default.ecdsaSign(l,(0,r.baseDecode)(this.secretKey));return{signature:new Uint8Array([...f,d]),publicKey:this.publicKey}}verify(l,f){return this.publicKey.verify(l,f)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}return key_pair_secp256k1$1.KeyPairSecp256k1=i,key_pair_secp256k1$1}var hasRequiredKey_pair$3;function requireKey_pair$3(){if(hasRequiredKey_pair$3)return key_pair$3;hasRequiredKey_pair$3=1,Object.defineProperty(key_pair$3,"__esModule",{value:!0}),key_pair$3.KeyPair=void 0;const e=requireKey_pair_base$1(),r=requireKey_pair_ed25519$1(),t=requireKey_pair_secp256k1$1();class n extends e.KeyPairBase{static fromRandom(a){switch(a.toUpperCase()){case"ED25519":return r.KeyPairEd25519.fromRandom();case"SECP256K1":return t.KeyPairSecp256k1.fromRandom();default:throw new Error(`Unknown curve ${a}`)}}static fromString(a){const s=a.split(":");if(s.length===2)switch(s[0].toUpperCase()){case"ED25519":return new r.KeyPairEd25519(s[1]);case"SECP256K1":return new t.KeyPairSecp256k1(s[1]);default:throw new Error(`Unknown curve: ${s[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}return key_pair$3.KeyPair=n,key_pair$3}var hasRequiredCommonjs$h;function requireCommonjs$h(){return hasRequiredCommonjs$h||(hasRequiredCommonjs$h=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairSecp256k1=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var r=requireConstants$5();Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return r.KeyType}});var t=requireKey_pair$3();Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return t.KeyPair}});var n=requireKey_pair_ed25519$1();Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return n.KeyPairEd25519}});var u=requireKey_pair_secp256k1$1();Object.defineProperty(e,"KeyPairSecp256k1",{enumerable:!0,get:function(){return u.KeyPairSecp256k1}});var a=requirePublic_key$1();Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return a.PublicKey}})}(commonjs$i)),commonjs$i}var keystore$2={},hasRequiredKeystore$3;function requireKeystore$3(){if(hasRequiredKeystore$3)return keystore$2;hasRequiredKeystore$3=1,Object.defineProperty(keystore$2,"__esModule",{value:!0}),keystore$2.KeyStore=void 0;class e{}return keystore$2.KeyStore=e,keystore$2}var hasRequiredIn_memory_key_store$3;function requireIn_memory_key_store$3(){if(hasRequiredIn_memory_key_store$3)return in_memory_key_store$3;hasRequiredIn_memory_key_store$3=1,Object.defineProperty(in_memory_key_store$3,"__esModule",{value:!0}),in_memory_key_store$3.InMemoryKeyStore=void 0;const e=requireCommonjs$h(),r=requireKeystore$3();class t extends r.KeyStore{constructor(){super();J(this,"keys");this.keys={}}async setKey(a,s,i){this.keys[`${s}:${a}`]=i.toString()}async getKey(a,s){const i=this.keys[`${s}:${a}`];return i?e.KeyPair.fromString(i):null}async removeKey(a,s){delete this.keys[`${s}:${a}`]}async clear(){this.keys={}}async getNetworks(){const a=new Set;return Object.keys(this.keys).forEach(s=>{const i=s.split(":");a.add(i[1])}),Array.from(a.values())}async getAccounts(a){const s=new Array;return Object.keys(this.keys).forEach(i=>{const o=i.split(":");o[o.length-1]===a&&s.push(o.slice(0,o.length-1).join(":"))}),s}toString(){return"InMemoryKeyStore"}}return in_memory_key_store$3.InMemoryKeyStore=t,in_memory_key_store$3}var merge_key_store$3={},hasRequiredMerge_key_store$3;function requireMerge_key_store$3(){if(hasRequiredMerge_key_store$3)return merge_key_store$3;hasRequiredMerge_key_store$3=1,Object.defineProperty(merge_key_store$3,"__esModule",{value:!0}),merge_key_store$3.MergeKeyStore=void 0;const e=requireKeystore$3();class r extends e.KeyStore{constructor(u,a={writeKeyStoreIndex:0}){super();J(this,"options");J(this,"keyStores");this.options=a,this.keyStores=u}async setKey(u,a,s){await this.keyStores[this.options.writeKeyStoreIndex].setKey(u,a,s)}async getKey(u,a){for(const s of this.keyStores){const i=await s.getKey(u,a);if(i)return i}return null}async removeKey(u,a){for(const s of this.keyStores)await s.removeKey(u,a)}async clear(){for(const u of this.keyStores)await u.clear()}async getNetworks(){const u=new Set;for(const a of this.keyStores)for(const s of await a.getNetworks())u.add(s);return Array.from(u)}async getAccounts(u){const a=new Set;for(const s of this.keyStores)for(const i of await s.getAccounts(u))a.add(i);return Array.from(a)}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}return merge_key_store$3.MergeKeyStore=r,merge_key_store$3}var multi_contract_keystore$1={},hasRequiredMulti_contract_keystore$1;function requireMulti_contract_keystore$1(){if(hasRequiredMulti_contract_keystore$1)return multi_contract_keystore$1;hasRequiredMulti_contract_keystore$1=1,Object.defineProperty(multi_contract_keystore$1,"__esModule",{value:!0}),multi_contract_keystore$1.MultiContractKeyStore=void 0;class e{}return multi_contract_keystore$1.MultiContractKeyStore=e,multi_contract_keystore$1}var hasRequiredCommonjs$g;function requireCommonjs$g(){return hasRequiredCommonjs$g||(hasRequiredCommonjs$g=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultiContractKeyStore=e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var r=requireIn_memory_key_store$3();Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return r.InMemoryKeyStore}});var t=requireKeystore$3();Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}});var n=requireMerge_key_store$3();Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return n.MergeKeyStore}});var u=requireMulti_contract_keystore$1();Object.defineProperty(e,"MultiContractKeyStore",{enumerable:!0,get:function(){return u.MultiContractKeyStore}})}(commonjs$j)),commonjs$j}var hasRequiredKeystore$2;function requireKeystore$2(){return hasRequiredKeystore$2||(hasRequiredKeystore$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;var r=requireCommonjs$g();Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return r.KeyStore}})}(keystore$3)),keystore$3}var in_memory_key_store$2={},hasRequiredIn_memory_key_store$2;function requireIn_memory_key_store$2(){return hasRequiredIn_memory_key_store$2||(hasRequiredIn_memory_key_store$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;var r=requireCommonjs$g();Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return r.InMemoryKeyStore}})}(in_memory_key_store$2)),in_memory_key_store$2}var browser_local_storage_key_store$3={},commonjs$f={},browser_local_storage_key_store$2={},hasRequiredBrowser_local_storage_key_store$3;function requireBrowser_local_storage_key_store$3(){if(hasRequiredBrowser_local_storage_key_store$3)return browser_local_storage_key_store$2;hasRequiredBrowser_local_storage_key_store$3=1,Object.defineProperty(browser_local_storage_key_store$2,"__esModule",{value:!0}),browser_local_storage_key_store$2.BrowserLocalStorageKeyStore=void 0;const e=requireCommonjs$h(),r=requireCommonjs$g(),t="near-api-js:keystore:";class n extends r.KeyStore{constructor(s=window.localStorage,i=t){super();J(this,"localStorage");J(this,"prefix");this.localStorage=s,this.prefix=i}async setKey(s,i,o){this.localStorage.setItem(this.storageKeyForSecretKey(s,i),o.toString())}async getKey(s,i){const o=this.localStorage.getItem(this.storageKeyForSecretKey(s,i));return o?e.KeyPair.fromString(o):null}async removeKey(s,i){this.localStorage.removeItem(this.storageKeyForSecretKey(s,i))}async clear(){for(const s of this.storageKeys())s.startsWith(this.prefix)&&this.localStorage.removeItem(s)}async getNetworks(){const s=new Set;for(const i of this.storageKeys())if(i.startsWith(this.prefix)){const o=i.substring(this.prefix.length).split(":");s.add(o[1])}return Array.from(s.values())}async getAccounts(s){const i=new Array;for(const o of this.storageKeys())if(o.startsWith(this.prefix)){const c=o.substring(this.prefix.length).split(":");c[1]===s&&i.push(c[0])}return i}storageKeyForSecretKey(s,i){return`${this.prefix}${i}:${s}`}*storageKeys(){for(let s=0;s<this.localStorage.length;s++)yield this.localStorage.key(s)}}return browser_local_storage_key_store$2.BrowserLocalStorageKeyStore=n,browser_local_storage_key_store$2}var multi_contract_browser_local_storage_key_store$1={},hasRequiredMulti_contract_browser_local_storage_key_store$1;function requireMulti_contract_browser_local_storage_key_store$1(){if(hasRequiredMulti_contract_browser_local_storage_key_store$1)return multi_contract_browser_local_storage_key_store$1;hasRequiredMulti_contract_browser_local_storage_key_store$1=1,Object.defineProperty(multi_contract_browser_local_storage_key_store$1,"__esModule",{value:!0}),multi_contract_browser_local_storage_key_store$1.MultiContractBrowserLocalStorageKeyStore=void 0;const e=requireCommonjs$h(),r=requireCommonjs$g(),t="near-api-js:keystore:";class n extends r.MultiContractKeyStore{constructor(s=window.localStorage,i=t){super();J(this,"localStorage");J(this,"prefix");this.localStorage=s,this.prefix=i||t}async setKey(s,i,o,c){this.localStorage.setItem(this.storageKeyForSecretKey(s,i,c),o.toString())}async getKey(s,i,o){const c=this.localStorage.getItem(this.storageKeyForSecretKey(s,i,o));return c?e.KeyPair.fromString(c):null}async removeKey(s,i,o){this.localStorage.removeItem(this.storageKeyForSecretKey(s,i,o))}async clear(){for(const s of this.storageKeys())s.startsWith(this.prefix)&&this.localStorage.removeItem(s)}async getNetworks(){const s=new Set;for(const i of this.storageKeys())if(i.startsWith(this.prefix)){const o=i.substring(this.prefix.length).split(":");s.add(o[1])}return Array.from(s.values())}async getAccounts(s){const i=[];for(const o of this.storageKeys())if(o.startsWith(this.prefix)){const c=o.substring(this.prefix.length).split(":");c[1]===s&&i.push(c[0])}return i}async getContracts(s,i){const o=[];for(const c of this.storageKeys())if(c.startsWith(this.prefix)){const l=c.substring(this.prefix.length).split(":");l[1]===s&&l[0]===i&&o.push(l[2])}return o}storageKeyForSecretKey(s,i,o){return`${this.prefix}${i}:${s}:${o}`}*storageKeys(){for(let s=0;s<this.localStorage.length;s++)yield this.localStorage.key(s)}}return multi_contract_browser_local_storage_key_store$1.MultiContractBrowserLocalStorageKeyStore=n,multi_contract_browser_local_storage_key_store$1}var hasRequiredCommonjs$f;function requireCommonjs$f(){return hasRequiredCommonjs$f||(hasRequiredCommonjs$f=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultiContractBrowserLocalStorageKeyStore=e.BrowserLocalStorageKeyStore=void 0;var r=requireBrowser_local_storage_key_store$3();Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return r.BrowserLocalStorageKeyStore}});var t=requireMulti_contract_browser_local_storage_key_store$1();Object.defineProperty(e,"MultiContractBrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.MultiContractBrowserLocalStorageKeyStore}})}(commonjs$f)),commonjs$f}var hasRequiredBrowser_local_storage_key_store$2;function requireBrowser_local_storage_key_store$2(){return hasRequiredBrowser_local_storage_key_store$2||(hasRequiredBrowser_local_storage_key_store$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var r=requireCommonjs$f();Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return r.BrowserLocalStorageKeyStore}})}(browser_local_storage_key_store$3)),browser_local_storage_key_store$3}var merge_key_store$2={},hasRequiredMerge_key_store$2;function requireMerge_key_store$2(){return hasRequiredMerge_key_store$2||(hasRequiredMerge_key_store$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;var r=requireCommonjs$g();Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return r.MergeKeyStore}})}(merge_key_store$2)),merge_key_store$2}var hasRequiredBrowserIndex$3;function requireBrowserIndex$3(){return hasRequiredBrowserIndex$3||(hasRequiredBrowserIndex$3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const r=requireKeystore$2();Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return r.KeyStore}});const t=requireIn_memory_key_store$2();Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}});const n=requireBrowser_local_storage_key_store$2();Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return n.BrowserLocalStorageKeyStore}});const u=requireMerge_key_store$2();Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return u.MergeKeyStore}})}(browserIndex$3)),browserIndex$3}var commonIndex$1={},providers$1={},provider$5={},commonjs$e={},exponentialBackoff$1={},hasRequiredExponentialBackoff$1;function requireExponentialBackoff$1(){if(hasRequiredExponentialBackoff$1)return exponentialBackoff$1;hasRequiredExponentialBackoff$1=1,Object.defineProperty(exponentialBackoff$1,"__esModule",{value:!0}),exponentialBackoff$1.exponentialBackoff=void 0;async function e(t,n,u,a){let s=t;for(let i=0;i<n;i++){const o=await a();if(o)return o;await r(s),s*=u}return null}exponentialBackoff$1.exponentialBackoff=e;function r(t){return new Promise(n=>setTimeout(n,t))}return exponentialBackoff$1}var jsonRpcProvider$3={},commonjs$d={},action_creators$1={},actions$1={},hasRequiredActions$1;function requireActions$1(){if(hasRequiredActions$1)return actions$1;hasRequiredActions$1=1,Object.defineProperty(actions$1,"__esModule",{value:!0}),actions$1.Action=actions$1.SignedDelegate=actions$1.DeleteAccount=actions$1.DeleteKey=actions$1.AddKey=actions$1.Stake=actions$1.Transfer=actions$1.FunctionCall=actions$1.DeployContract=actions$1.CreateAccount=actions$1.AccessKey=actions$1.AccessKeyPermission=actions$1.FullAccessPermission=actions$1.FunctionCallPermission=void 0;const e=requireCommonjs$j();class r{constructor({allowance:g,receiverId:E,methodNames:A}){J(this,"allowance");J(this,"receiverId");J(this,"methodNames");this.allowance=g,this.receiverId=E,this.methodNames=A}}actions$1.FunctionCallPermission=r;class t{}actions$1.FullAccessPermission=t;class n extends e.Enum{constructor(E){super(E);J(this,"enum");J(this,"functionCall");J(this,"fullAccess");for(const[A,C]of Object.entries(E||{}))this[A]=C,this.enum=A}}actions$1.AccessKeyPermission=n;class u{constructor({nonce:g,permission:E}){J(this,"nonce");J(this,"permission");this.nonce=g,this.permission=E}}actions$1.AccessKey=u;class a{}actions$1.CreateAccount=a;class s{constructor({code:g}){J(this,"code");this.code=g}}actions$1.DeployContract=s;class i{constructor({methodName:g,args:E,gas:A,deposit:C}){J(this,"methodName");J(this,"args");J(this,"gas");J(this,"deposit");this.methodName=g,this.args=E,this.gas=A,this.deposit=C}}actions$1.FunctionCall=i;class o{constructor({deposit:g}){J(this,"deposit");this.deposit=g}}actions$1.Transfer=o;class c{constructor({stake:g,publicKey:E}){J(this,"stake");J(this,"publicKey");this.stake=g,this.publicKey=E}}actions$1.Stake=c;class l{constructor({publicKey:g,accessKey:E}){J(this,"publicKey");J(this,"accessKey");this.publicKey=g,this.accessKey=E}}actions$1.AddKey=l;class f{constructor({publicKey:g}){J(this,"publicKey");this.publicKey=g}}actions$1.DeleteKey=f;class d{constructor({beneficiaryId:g}){J(this,"beneficiaryId");this.beneficiaryId=g}}actions$1.DeleteAccount=d;class h{constructor({delegateAction:g,signature:E}){J(this,"delegateAction");J(this,"signature");this.delegateAction=g,this.signature=E}}actions$1.SignedDelegate=h;class v extends e.Enum{constructor(E){super(E);J(this,"enum");J(this,"createAccount");J(this,"deployContract");J(this,"functionCall");J(this,"transfer");J(this,"stake");J(this,"addKey");J(this,"deleteKey");J(this,"deleteAccount");J(this,"signedDelegate");for(const[A,C]of Object.entries(E||{}))this[A]=C,this.enum=A}}return actions$1.Action=v,actions$1}var hasRequiredAction_creators$1;function requireAction_creators$1(){if(hasRequiredAction_creators$1)return action_creators$1;hasRequiredAction_creators$1=1,Object.defineProperty(action_creators$1,"__esModule",{value:!0}),action_creators$1.actionCreators=action_creators$1.stringifyJsonOrBytes=void 0;const e=requireActions$1();function r(){return new e.AccessKey({nonce:0n,permission:new e.AccessKeyPermission({fullAccess:new e.FullAccessPermission})})}function t(h,v,p){return new e.AccessKey({nonce:0n,permission:new e.AccessKeyPermission({functionCall:new e.FunctionCallPermission({receiverId:h,allowance:p,methodNames:v})})})}function n(){return new e.Action({createAccount:new e.CreateAccount})}function u(h){return new e.Action({deployContract:new e.DeployContract({code:h})})}function a(h){return h.byteLength!==void 0&&h.byteLength===h.length?h:Buffer.from(JSON.stringify(h))}action_creators$1.stringifyJsonOrBytes=a;function s(h,v,p=0n,g=0n,E=a,A=!1){return A?new e.Action({functionCall:new e.FunctionCall({methodName:h,args:v,gas:p,deposit:g})}):new e.Action({functionCall:new e.FunctionCall({methodName:h,args:E(v),gas:p,deposit:g})})}function i(h=0n){return new e.Action({transfer:new e.Transfer({deposit:h})})}function o(h=0n,v){return new e.Action({stake:new e.Stake({stake:h,publicKey:v})})}function c(h,v){return new e.Action({addKey:new e.AddKey({publicKey:h,accessKey:v})})}function l(h){return new e.Action({deleteKey:new e.DeleteKey({publicKey:h})})}function f(h){return new e.Action({deleteAccount:new e.DeleteAccount({beneficiaryId:h})})}function d({delegateAction:h,signature:v}){return new e.Action({signedDelegate:new e.SignedDelegate({delegateAction:h,signature:v})})}return action_creators$1.actionCreators={addKey:c,createAccount:n,deleteAccount:f,deleteKey:l,deployContract:u,fullAccessKey:r,functionCall:s,functionCallAccessKey:t,signedDelegate:d,stake:o,transfer:i},action_creators$1}var create_transaction$1={},schema$2={},cjs={},serialize$4={},types$3={},hasRequiredTypes$3;function requireTypes$3(){return hasRequiredTypes$3||(hasRequiredTypes$3=1,types$3.__esModule=!0,types$3.integers=void 0,types$3.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]),types$3}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1,buffer.__esModule=!0,buffer.DecodeBuffer=buffer.EncodeBuffer=void 0;var e=function(){function t(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return t.prototype.resize_if_necessary=function(n){if(this.buffer_size-this.offset<n){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+n);var u=new ArrayBuffer(this.buffer_size);new Uint8Array(u).set(new Uint8Array(this.buffer)),this.buffer=u,this.view=new DataView(u)}},t.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},t.prototype.store_value=function(n,u){var a=u.substring(1),s=parseInt(a)/8;this.resize_if_necessary(s);var i=u[0]==="f"?"setFloat".concat(a):u[0]==="i"?"setInt".concat(a):"setUint".concat(a);this.view[i](this.offset,n,!0),this.offset+=s},t.prototype.store_bytes=function(n){this.resize_if_necessary(n.length),new Uint8Array(this.buffer).set(new Uint8Array(n),this.offset),this.offset+=n.length},t}();buffer.EncodeBuffer=e;var r=function(){function t(n){this.offset=0,this.buffer_size=n.length,this.buffer=new ArrayBuffer(n.length),new Uint8Array(this.buffer).set(n),this.view=new DataView(this.buffer)}return t.prototype.assert_enough_buffer=function(n){if(this.offset+n>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},t.prototype.consume_value=function(n){var u=n.substring(1),a=parseInt(u)/8;this.assert_enough_buffer(a);var s=n[0]==="f"?"getFloat".concat(u):n[0]==="i"?"getInt".concat(u):"getUint".concat(u),i=this.view[s](this.offset,!0);return this.offset+=a,i},t.prototype.consume_bytes=function(n){this.assert_enough_buffer(n);var u=this.buffer.slice(this.offset,this.offset+n);return this.offset+=n,u},t}();return buffer.DecodeBuffer=r,buffer}var utils$9={},hasRequiredUtils$8;function requireUtils$8(){if(hasRequiredUtils$8)return utils$9;hasRequiredUtils$8=1;var e=utils$9&&utils$9.__extends||function(){var p=function(g,E){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(A[P]=C[P])},p(g,E)};return function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");p(g,E);function A(){this.constructor=g}g.prototype=E===null?Object.create(E):(A.prototype=E.prototype,new A)}}();utils$9.__esModule=!0,utils$9.validate_schema=utils$9.ErrorSchema=utils$9.expect_enum=utils$9.expect_same_size=utils$9.expect_bigint=utils$9.expect_type=utils$9.isArrayLike=void 0;var r=requireTypes$3();function t(p){return Array.isArray(p)||!!p&&typeof p=="object"&&"length"in p&&typeof p.length=="number"&&(p.length===0||p.length>0&&p.length-1 in p)}utils$9.isArrayLike=t;function n(p,g,E){if(typeof p!==g)throw new Error("Expected ".concat(g," not ").concat(typeof p,"(").concat(p,") at ").concat(E.join(".")))}utils$9.expect_type=n;function u(p,g){var E=["number","string","bigint","boolean"].includes(typeof p),A=typeof p=="object"&&p!==null&&"toString"in p;if(!E&&!A)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof p,"(").concat(p,") at ").concat(g.join(".")))}utils$9.expect_bigint=u;function a(p,g,E){if(p!==g)throw new Error("Array length ".concat(p," does not match schema length ").concat(g," at ").concat(E.join(".")))}utils$9.expect_same_size=a;function s(p,g){if(typeof p!="object"||p===null)throw new Error("Expected object not ".concat(typeof p,"(").concat(p,") at ").concat(g.join(".")))}utils$9.expect_enum=s;var i=r.integers.concat(["bool","string"]),o=["option","enum","array","set","map","struct"],c=function(p){e(g,p);function g(E,A){var C="Invalid schema: ".concat(JSON.stringify(E)," expected ").concat(A);return p.call(this,C)||this}return g}(Error);utils$9.ErrorSchema=c;function l(p){if(!(typeof p=="string"&&i.includes(p))){if(p&&typeof p=="object"){var g=Object.keys(p);if(g.length===1&&o.includes(g[0])){var E=g[0];if(E==="option")return l(p[E]);if(E==="enum")return f(p[E]);if(E==="array")return d(p[E]);if(E==="set")return l(p[E]);if(E==="map")return h(p[E]);if(E==="struct")return v(p[E])}}throw new c(p,o.join(", ")+" or "+i.join(", "))}}utils$9.validate_schema=l;function f(p){if(!Array.isArray(p))throw new c(p,"Array");for(var g=0,E=p;g<E.length;g++){var A=E[g];if(typeof A!="object"||!("struct"in A))throw new Error('Missing "struct" key in enum schema');if(typeof A.struct!="object"||Object.keys(A.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');l({struct:A.struct})}}function d(p){if(typeof p!="object")throw new c(p,"{ type, len? }");if(p.len&&typeof p.len!="number")throw new Error("Invalid schema: ".concat(p));if("type"in p)return l(p.type);throw new c(p,"{ type, len? }")}function h(p){if(typeof p=="object"&&"key"in p&&"value"in p)l(p.key),l(p.value);else throw new c(p,"{ key, value }")}function v(p){if(typeof p!="object")throw new c(p,"object");for(var g in p)l(p[g])}return utils$9}var hasRequiredSerialize$2;function requireSerialize$2(){if(hasRequiredSerialize$2)return serialize$4;hasRequiredSerialize$2=1;var e=serialize$4&&serialize$4.__createBinding||(Object.create?function(i,o,c,l){l===void 0&&(l=c);var f=Object.getOwnPropertyDescriptor(o,c);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(i,l,f)}:function(i,o,c,l){l===void 0&&(l=c),i[l]=o[c]}),r=serialize$4&&serialize$4.__setModuleDefault||(Object.create?function(i,o){Object.defineProperty(i,"default",{enumerable:!0,value:o})}:function(i,o){i.default=o}),t=serialize$4&&serialize$4.__importStar||function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&e(o,i,c);return r(o,i),o};serialize$4.__esModule=!0,serialize$4.BorshSerializer=void 0;var n=requireTypes$3(),u=requireBuffer(),a=t(requireUtils$8()),s=function(){function i(o){this.encoded=new u.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=o}return i.prototype.encode=function(o,c){return this.encode_value(o,c),this.encoded.get_used_buffer()},i.prototype.encode_value=function(o,c){if(typeof c=="string"){if(n.integers.includes(c))return this.encode_integer(o,c);if(c==="string")return this.encode_string(o);if(c==="bool")return this.encode_boolean(o)}if(typeof c=="object"){if("option"in c)return this.encode_option(o,c);if("enum"in c)return this.encode_enum(o,c);if("array"in c)return this.encode_array(o,c);if("set"in c)return this.encode_set(o,c);if("map"in c)return this.encode_map(o,c);if("struct"in c)return this.encode_struct(o,c)}},i.prototype.encode_integer=function(o,c){var l=parseInt(c.substring(1));l<=32||c=="f64"?(this.checkTypes&&a.expect_type(o,"number",this.fieldPath),this.encoded.store_value(o,c)):(this.checkTypes&&a.expect_bigint(o,this.fieldPath),this.encode_bigint(BigInt(o),l))},i.prototype.encode_bigint=function(o,c){for(var l=c/8,f=new Uint8Array(l),d=0;d<l;d++)f[d]=Number(o&BigInt(255)),o=o>>BigInt(8);this.encoded.store_bytes(new Uint8Array(f))},i.prototype.encode_string=function(o){this.checkTypes&&a.expect_type(o,"string",this.fieldPath);var c=o;this.encoded.store_value(c.length,"u32");for(var l=0;l<c.length;l++)this.encoded.store_value(c.charCodeAt(l),"u8")},i.prototype.encode_boolean=function(o){this.checkTypes&&a.expect_type(o,"boolean",this.fieldPath),this.encoded.store_value(o?1:0,"u8")},i.prototype.encode_option=function(o,c){o==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(o,c.option))},i.prototype.encode_enum=function(o,c){this.checkTypes&&a.expect_enum(o,this.fieldPath);for(var l=Object.keys(o)[0],f=0;f<c.enum.length;f++){var d=c.enum[f];if(l===Object.keys(d.struct)[0])return this.encoded.store_value(f,"u8"),this.encode_struct(o,d)}throw new Error("Enum key (".concat(l,") not found in enum schema: ").concat(JSON.stringify(c)," at ").concat(this.fieldPath.join(".")))},i.prototype.encode_array=function(o,c){if(a.isArrayLike(o))return this.encode_arraylike(o,c);if(o instanceof ArrayBuffer)return this.encode_buffer(o,c);throw new Error("Expected Array-like not ".concat(typeof o,"(").concat(o,") at ").concat(this.fieldPath.join(".")))},i.prototype.encode_arraylike=function(o,c){c.array.len?a.expect_same_size(o.length,c.array.len,this.fieldPath):this.encoded.store_value(o.length,"u32");for(var l=0;l<o.length;l++)this.encode_value(o[l],c.array.type)},i.prototype.encode_buffer=function(o,c){c.array.len?a.expect_same_size(o.byteLength,c.array.len,this.fieldPath):this.encoded.store_value(o.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(o))},i.prototype.encode_set=function(o,c){this.checkTypes&&a.expect_type(o,"object",this.fieldPath);var l=o instanceof Set,f=l?Array.from(o.values()):Object.values(o);this.encoded.store_value(f.length,"u32");for(var d=0,h=f;d<h.length;d++){var v=h[d];this.encode_value(v,c.set)}},i.prototype.encode_map=function(o,c){this.checkTypes&&a.expect_type(o,"object",this.fieldPath);var l=o instanceof Map,f=l?Array.from(o.keys()):Object.keys(o);this.encoded.store_value(f.length,"u32");for(var d=0,h=f;d<h.length;d++){var v=h[d];this.encode_value(v,c.map.key),this.encode_value(l?o.get(v):o[v],c.map.value)}},i.prototype.encode_struct=function(o,c){this.checkTypes&&a.expect_type(o,"object",this.fieldPath);for(var l=0,f=Object.keys(c.struct);l<f.length;l++){var d=f[l];this.fieldPath.push(d),this.encode_value(o[d],c.struct[d]),this.fieldPath.pop()}},i}();return serialize$4.BorshSerializer=s,serialize$4}var deserialize={},hasRequiredDeserialize;function requireDeserialize(){if(hasRequiredDeserialize)return deserialize;hasRequiredDeserialize=1,deserialize.__esModule=!0,deserialize.BorshDeserializer=void 0;var e=requireTypes$3(),r=requireBuffer(),t=function(){function n(u){this.buffer=new r.DecodeBuffer(u)}return n.prototype.decode=function(u){return this.decode_value(u)},n.prototype.decode_value=function(u){if(typeof u=="string"){if(e.integers.includes(u))return this.decode_integer(u);if(u==="string")return this.decode_string();if(u==="bool")return this.decode_boolean()}if(typeof u=="object"){if("option"in u)return this.decode_option(u);if("enum"in u)return this.decode_enum(u);if("array"in u)return this.decode_array(u);if("set"in u)return this.decode_set(u);if("map"in u)return this.decode_map(u);if("struct"in u)return this.decode_struct(u)}throw new Error("Unsupported type: ".concat(u))},n.prototype.decode_integer=function(u){var a=parseInt(u.substring(1));return a<=32||u=="f64"?this.buffer.consume_value(u):this.decode_bigint(a,u.startsWith("i"))},n.prototype.decode_bigint=function(u,a){a===void 0&&(a=!1);var s=u/8,i=new Uint8Array(this.buffer.consume_bytes(s)),o=i.reduceRight(function(c,l){return c+l.toString(16).padStart(2,"0")},"");return a&&i[s-1]?BigInt.asIntN(u,BigInt("0x".concat(o))):BigInt("0x".concat(o))},n.prototype.decode_string=function(){var u=this.decode_integer("u32"),a=new Uint8Array(this.buffer.consume_bytes(u));return String.fromCharCode.apply(null,a)},n.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},n.prototype.decode_option=function(u){var a=this.buffer.consume_value("u8");if(a===1)return this.decode_value(u.option);if(a!==0)throw new Error("Invalid option ".concat(a));return null},n.prototype.decode_enum=function(u){var a,s=this.buffer.consume_value("u8");if(s>u.enum.length)throw new Error("Enum option ".concat(s," is not available"));var i=u.enum[s].struct,o=Object.keys(i)[0];return a={},a[o]=this.decode_value(i[o]),a},n.prototype.decode_array=function(u){for(var a=[],s=u.array.len?u.array.len:this.decode_integer("u32"),i=0;i<s;++i)a.push(this.decode_value(u.array.type));return a},n.prototype.decode_set=function(u){for(var a=this.decode_integer("u32"),s=new Set,i=0;i<a;++i)s.add(this.decode_value(u.set));return s},n.prototype.decode_map=function(u){for(var a=this.decode_integer("u32"),s=new Map,i=0;i<a;++i){var o=this.decode_value(u.map.key),c=this.decode_value(u.map.value);s.set(o,c)}return s},n.prototype.decode_struct=function(u){var a={};for(var s in u.struct)a[s]=this.decode_value(u.struct[s]);return a},n}();return deserialize.BorshDeserializer=t,deserialize}var hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var e=cjs&&cjs.__createBinding||(Object.create?function(o,c,l,f){f===void 0&&(f=l);var d=Object.getOwnPropertyDescriptor(c,l);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(o,f,d)}:function(o,c,l,f){f===void 0&&(f=l),o[f]=c[l]}),r=cjs&&cjs.__setModuleDefault||(Object.create?function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}:function(o,c){o.default=c}),t=cjs&&cjs.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&e(c,o,l);return r(c,o),c};cjs.__esModule=!0,cjs.deserialize=cjs.serialize=void 0;var n=requireSerialize$2(),u=requireDeserialize(),a=t(requireUtils$8());function s(o,c,l){l===void 0&&(l=!0),l&&a.validate_schema(o);var f=new n.BorshSerializer(l);return f.encode(c,o)}cjs.serialize=s;function i(o,c,l){l===void 0&&(l=!0),l&&a.validate_schema(o);var f=new u.BorshDeserializer(c);return f.decode(o)}return cjs.deserialize=i,cjs}var prefix$1={},hasRequiredPrefix$1;function requirePrefix$1(){if(hasRequiredPrefix$1)return prefix$1;hasRequiredPrefix$1=1,Object.defineProperty(prefix$1,"__esModule",{value:!0}),prefix$1.DelegateActionPrefix=void 0;const e=Math.pow(2,30),r={MetaTransactions:366};class t{constructor({prefix:s}){J(this,"prefix");this.prefix=s}}class n extends t{constructor(s){super({prefix:e+s})}}class u extends n{constructor(){super(r.MetaTransactions)}}return prefix$1.DelegateActionPrefix=u,prefix$1}var hasRequiredSchema$1;function requireSchema$1(){return hasRequiredSchema$1||(hasRequiredSchema$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const r=requireCjs(),t=requirePrefix$1();function n(l){return new Uint8Array([...(0,r.serialize)(e.SCHEMA.DelegateActionPrefix,new t.DelegateActionPrefix),...(0,r.serialize)(e.SCHEMA.DelegateAction,l)])}e.encodeDelegateAction=n;function u(l){return(0,r.serialize)(e.SCHEMA.SignedDelegate,l)}e.encodeSignedDelegate=u;function a(l){const f=l instanceof c?e.SCHEMA.SignedTransaction:e.SCHEMA.Transaction;return(0,r.serialize)(f,l)}e.encodeTransaction=a;function s(l){return new o((0,r.deserialize)(e.SCHEMA.Transaction,l))}e.decodeTransaction=s;function i(l){return new c((0,r.deserialize)(e.SCHEMA.SignedTransaction,l))}e.decodeSignedTransaction=i;class o{constructor({signerId:f,publicKey:d,nonce:h,receiverId:v,actions:p,blockHash:g}){J(this,"signerId");J(this,"publicKey");J(this,"nonce");J(this,"receiverId");J(this,"actions");J(this,"blockHash");this.signerId=f,this.publicKey=d,this.nonce=h,this.receiverId=v,this.actions=p,this.blockHash=g}encode(){return a(this)}static decode(f){return s(f)}}e.Transaction=o;class c{constructor({transaction:f,signature:d}){J(this,"transaction");J(this,"signature");this.transaction=f,this.signature=d}encode(){return a(this)}static decode(f){return i(f)}}e.SignedTransaction=c,e.SCHEMA=new class{constructor(){J(this,"Ed25519Signature",{struct:{data:{array:{type:"u8",len:64}}}});J(this,"Secp256k1Signature",{struct:{data:{array:{type:"u8",len:65}}}});J(this,"Signature",{enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]});J(this,"Ed25519Data",{struct:{data:{array:{type:"u8",len:32}}}});J(this,"Secp256k1Data",{struct:{data:{array:{type:"u8",len:64}}}});J(this,"PublicKey",{enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]});J(this,"FunctionCallPermission",{struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}});J(this,"FullAccessPermission",{struct:{}});J(this,"AccessKeyPermission",{enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]});J(this,"AccessKey",{struct:{nonce:"u64",permission:this.AccessKeyPermission}});J(this,"CreateAccount",{struct:{}});J(this,"DeployContract",{struct:{code:{array:{type:"u8"}}}});J(this,"FunctionCall",{struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}});J(this,"Transfer",{struct:{deposit:"u128"}});J(this,"Stake",{struct:{stake:"u128",publicKey:this.PublicKey}});J(this,"AddKey",{struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}});J(this,"DeleteKey",{struct:{publicKey:this.PublicKey}});J(this,"DeleteAccount",{struct:{beneficiaryId:"string"}});J(this,"DelegateActionPrefix",{struct:{prefix:"u32"}});J(this,"ClassicActions",{enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]});J(this,"DelegateAction",{struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}});J(this,"SignedDelegate",{struct:{delegateAction:this.DelegateAction,signature:this.Signature}});J(this,"Action",{enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]});J(this,"Transaction",{struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}});J(this,"SignedTransaction",{struct:{transaction:this.Transaction,signature:this.Signature}})}}}(schema$2)),schema$2}var hasRequiredCreate_transaction$1;function requireCreate_transaction$1(){if(hasRequiredCreate_transaction$1)return create_transaction$1;hasRequiredCreate_transaction$1=1,Object.defineProperty(create_transaction$1,"__esModule",{value:!0}),create_transaction$1.createTransaction=void 0;const e=requireSchema$1();function r(t,n,u,a,s,i){const o=typeof a=="bigint"?a:BigInt(a);return new e.Transaction({signerId:t,publicKey:n,nonce:o,receiverId:u,actions:s,blockHash:i})}return create_transaction$1.createTransaction=r,create_transaction$1}var delegate$1={},hasRequiredDelegate$1;function requireDelegate$1(){if(hasRequiredDelegate$1)return delegate$1;hasRequiredDelegate$1=1,Object.defineProperty(delegate$1,"__esModule",{value:!0}),delegate$1.buildDelegateAction=delegate$1.DelegateAction=void 0;const e=requireAction_creators$1(),{addKey:r,createAccount:t,deleteAccount:n,deleteKey:u,deployContract:a,functionCall:s,stake:i,transfer:o}=e.actionCreators;class c{constructor({senderId:d,receiverId:h,actions:v,nonce:p,maxBlockHeight:g,publicKey:E}){J(this,"senderId");J(this,"receiverId");J(this,"actions");J(this,"nonce");J(this,"maxBlockHeight");J(this,"publicKey");this.senderId=d,this.receiverId=h,this.actions=v,this.nonce=p,this.maxBlockHeight=g,this.publicKey=E}}delegate$1.DelegateAction=c;function l({actions:f,maxBlockHeight:d,nonce:h,publicKey:v,receiverId:p,senderId:g}){return new c({senderId:g,receiverId:p,actions:f.map(E=>{if(!E.type&&!E.params)return E;switch(E.type){case"AddKey":{const{publicKey:A,accessKey:C}=E.params;return r(A,C)}case"CreateAccount":return t(E.params.createAccount);case"DeleteAccount":return n(E.params.deleteAccount);case"DeleteKey":return u(E.params.publicKey);case"DeployContract":return a(E.params.code);case"FunctionCall":{const{methodName:A,args:C,gas:P,deposit:S}=E.params;return s(A,C,P,S)}case"Stake":return i(E.params.stake,E.params.publicKey);case"Transfer":{const{deposit:A}=E.params;return o(A)}}throw new Error("Unrecognized action")}),nonce:h,maxBlockHeight:d,publicKey:v})}return delegate$1.buildDelegateAction=l,delegate$1}var sign$2={},sha256$2={},hasRequiredSha256$2;function requireSha256$2(){if(hasRequiredSha256$2)return sha256$2;hasRequiredSha256$2=1,Object.defineProperty(sha256$2,"__esModule",{value:!0}),sha256$2.sha224=sha256$2.sha256=sha256$2.SHA256=void 0;const e=require_md(),r=requireUtils$d(),t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),n=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class a extends e.HashMD{constructor(){super(64,32,8,!1),this.A=n[0]|0,this.B=n[1]|0,this.C=n[2]|0,this.D=n[3]|0,this.E=n[4]|0,this.F=n[5]|0,this.G=n[6]|0,this.H=n[7]|0}get(){const{A:o,B:c,C:l,D:f,E:d,F:h,G:v,H:p}=this;return[o,c,l,f,d,h,v,p]}set(o,c,l,f,d,h,v,p){this.A=o|0,this.B=c|0,this.C=l|0,this.D=f|0,this.E=d|0,this.F=h|0,this.G=v|0,this.H=p|0}process(o,c){for(let A=0;A<16;A++,c+=4)u[A]=o.getUint32(c,!1);for(let A=16;A<64;A++){const C=u[A-15],P=u[A-2],S=(0,r.rotr)(C,7)^(0,r.rotr)(C,18)^C>>>3,N=(0,r.rotr)(P,17)^(0,r.rotr)(P,19)^P>>>10;u[A]=N+u[A-7]+S+u[A-16]|0}let{A:l,B:f,C:d,D:h,E:v,F:p,G:g,H:E}=this;for(let A=0;A<64;A++){const C=(0,r.rotr)(v,6)^(0,r.rotr)(v,11)^(0,r.rotr)(v,25),P=E+C+(0,e.Chi)(v,p,g)+t[A]+u[A]|0,N=((0,r.rotr)(l,2)^(0,r.rotr)(l,13)^(0,r.rotr)(l,22))+(0,e.Maj)(l,f,d)|0;E=g,g=p,p=v,v=h+P|0,h=d,d=f,f=l,l=P+N|0}l=l+this.A|0,f=f+this.B|0,d=d+this.C|0,h=h+this.D|0,v=v+this.E|0,p=p+this.F|0,g=g+this.G|0,E=E+this.H|0,this.set(l,f,d,h,v,p,g,E)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}sha256$2.SHA256=a;class s extends a{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return sha256$2.sha256=(0,r.wrapConstructor)(()=>new a),sha256$2.sha224=(0,r.wrapConstructor)(()=>new s),sha256$2}var signature$1={},hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1,Object.defineProperty(signature$1,"__esModule",{value:!0}),signature$1.Signature=void 0;const e=requireCommonjs$h(),r=requireCommonjs$j();function t(u){switch(u){case e.KeyType.ED25519:return"ed25519Signature";case e.KeyType.SECP256K1:return"secp256k1Signature";default:throw Error(`unknown type ${u}`)}}class n extends r.Enum{constructor(s){const i=t(s.keyType);super({[i]:s});J(this,"enum");J(this,"ed25519Signature");J(this,"secp256k1Signature");this[i]=s,this.enum=i}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}return signature$1.Signature=n,signature$1}var hasRequiredSign$2;function requireSign$2(){if(hasRequiredSign$2)return sign$2;hasRequiredSign$2=1,Object.defineProperty(sign$2,"__esModule",{value:!0}),sign$2.signDelegateAction=sign$2.signTransaction=void 0;const e=requireSha256$2(),r=requireActions$1(),t=requireCreate_transaction$1(),n=requireSchema$1(),u=requireSignature$1(),a=requireCommonjs$h();async function s(c,l,f,d){const h=(0,n.encodeTransaction)(c),v=new Uint8Array((0,e.sha256)(h)),p=await l.signMessage(h,f,d),g=c.publicKey.ed25519Key?a.KeyType.ED25519:a.KeyType.SECP256K1,E=new n.SignedTransaction({transaction:c,signature:new u.Signature({keyType:g,data:p.signature})});return[v,E]}async function i(...c){if(c[0].constructor===n.Transaction){const[l,f,d,h]=c;return s(l,f,d,h)}else{const[l,f,d,h,v,p,g]=c,E=await v.getPublicKey(p,g),A=(0,t.createTransaction)(p,E,l,f,d,h);return s(A,v,p,g)}}sign$2.signTransaction=i;async function o({delegateAction:c,signer:l}){const f=(0,n.encodeDelegateAction)(c),d=await l.sign(f),h=c.publicKey.ed25519Key?a.KeyType.ED25519:a.KeyType.SECP256K1,v=new r.SignedDelegate({delegateAction:c,signature:new u.Signature({keyType:h,data:d})});return{hash:new Uint8Array((0,e.sha256)(f)),signedDelegateAction:v}}return sign$2.signDelegateAction=o,sign$2}var hasRequiredCommonjs$e;function requireCommonjs$e(){return hasRequiredCommonjs$e||(hasRequiredCommonjs$e=1,function(e){var r=commonjs$d&&commonjs$d.__createBinding||(Object.create?function(n,u,a,s){s===void 0&&(s=a);var i=Object.getOwnPropertyDescriptor(u,a);(!i||("get"in i?!u.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return u[a]}}),Object.defineProperty(n,s,i)}:function(n,u,a,s){s===void 0&&(s=a),n[s]=u[a]}),t=commonjs$d&&commonjs$d.__exportStar||function(n,u){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&r(u,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(requireAction_creators$1(),e),t(requireActions$1(),e),t(requireCreate_transaction$1(),e),t(requireDelegate$1(),e),t(requireSchema$1(),e),t(requireSign$2(),e),t(requireSignature$1(),e)}(commonjs$d)),commonjs$d}var provider$4={},hasRequiredProvider$5;function requireProvider$5(){if(hasRequiredProvider$5)return provider$4;hasRequiredProvider$5=1,Object.defineProperty(provider$4,"__esModule",{value:!0}),provider$4.Provider=void 0;class e{}return provider$4.Provider=e,provider$4}var fetch_json$1={},backoff={},options={},hasRequiredOptions;function requireOptions(){if(hasRequiredOptions)return options;hasRequiredOptions=1;var e=options&&options.__assign||function(){return e=Object.assign||function(n){for(var u,a=1,s=arguments.length;a<s;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(n[i]=u[i])}return n},e.apply(this,arguments)};Object.defineProperty(options,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function t(n){var u=e(e({},r),n);return u.numOfAttempts<1&&(u.numOfAttempts=1),u}return options.getSanitizedOptions=t,options}var delay_factory={},skipFirst_delay={},delay_base={},jitter_factory={},full_jitter={},hasRequiredFull_jitter;function requireFull_jitter(){if(hasRequiredFull_jitter)return full_jitter;hasRequiredFull_jitter=1,Object.defineProperty(full_jitter,"__esModule",{value:!0});function e(r){var t=Math.random()*r;return Math.round(t)}return full_jitter.fullJitter=e,full_jitter}var no_jitter={},hasRequiredNo_jitter;function requireNo_jitter(){if(hasRequiredNo_jitter)return no_jitter;hasRequiredNo_jitter=1,Object.defineProperty(no_jitter,"__esModule",{value:!0});function e(r){return r}return no_jitter.noJitter=e,no_jitter}var hasRequiredJitter_factory;function requireJitter_factory(){if(hasRequiredJitter_factory)return jitter_factory;hasRequiredJitter_factory=1,Object.defineProperty(jitter_factory,"__esModule",{value:!0});var e=requireFull_jitter(),r=requireNo_jitter();function t(n){switch(n.jitter){case"full":return e.fullJitter;case"none":default:return r.noJitter}}return jitter_factory.JitterFactory=t,jitter_factory}var hasRequiredDelay_base;function requireDelay_base(){if(hasRequiredDelay_base)return delay_base;hasRequiredDelay_base=1,Object.defineProperty(delay_base,"__esModule",{value:!0});var e=requireJitter_factory(),r=function(){function t(n){this.options=n,this.attempt=0}return t.prototype.apply=function(){var n=this;return new Promise(function(u){return setTimeout(u,n.jitteredDelay)})},t.prototype.setAttemptNumber=function(n){this.attempt=n},Object.defineProperty(t.prototype,"jitteredDelay",{get:function(){var n=e.JitterFactory(this.options);return n(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){var n=this.options.startingDelay,u=this.options.timeMultiple,a=this.numOfDelayedAttempts,s=n*Math.pow(u,a);return Math.min(s,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),t}();return delay_base.Delay=r,delay_base}var hasRequiredSkipFirst_delay;function requireSkipFirst_delay(){if(hasRequiredSkipFirst_delay)return skipFirst_delay;hasRequiredSkipFirst_delay=1;var e=skipFirst_delay&&skipFirst_delay.__extends||function(){var a=function(s,i){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},a(s,i)};return function(s,i){a(s,i);function o(){this.constructor=s}s.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}(),r=skipFirst_delay&&skipFirst_delay.__awaiter||function(a,s,i,o){function c(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function d(p){try{v(o.next(p))}catch(g){f(g)}}function h(p){try{v(o.throw(p))}catch(g){f(g)}}function v(p){p.done?l(p.value):c(p.value).then(d,h)}v((o=o.apply(a,s||[])).next())})},t=skipFirst_delay&&skipFirst_delay.__generator||function(a,s){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,c,l,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(v){return function(p){return h([v,p])}}function h(v){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,c&&(l=v[0]&2?c.return:v[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,v[1])).done)return l;switch(c=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,c=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){i.label=v[1];break}if(v[0]===6&&i.label<l[1]){i.label=l[1],l=v;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(v);break}l[2]&&i.ops.pop(),i.trys.pop();continue}v=s.call(a,i)}catch(p){v=[6,p],c=0}finally{o=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(skipFirst_delay,"__esModule",{value:!0});var n=requireDelay_base(),u=function(a){e(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s.prototype.apply=function(){return r(this,void 0,void 0,function(){return t(this,function(i){return[2,this.isFirstAttempt?!0:a.prototype.apply.call(this)]})})},Object.defineProperty(s.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),s}(n.Delay);return skipFirst_delay.SkipFirstDelay=u,skipFirst_delay}var always_delay={},hasRequiredAlways_delay;function requireAlways_delay(){if(hasRequiredAlways_delay)return always_delay;hasRequiredAlways_delay=1;var e=always_delay&&always_delay.__extends||function(){var n=function(u,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var o in i)i.hasOwnProperty(o)&&(s[o]=i[o])},n(u,a)};return function(u,a){n(u,a);function s(){this.constructor=u}u.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(always_delay,"__esModule",{value:!0});var r=requireDelay_base(),t=function(n){e(u,n);function u(){return n!==null&&n.apply(this,arguments)||this}return u}(r.Delay);return always_delay.AlwaysDelay=t,always_delay}var hasRequiredDelay_factory;function requireDelay_factory(){if(hasRequiredDelay_factory)return delay_factory;hasRequiredDelay_factory=1,Object.defineProperty(delay_factory,"__esModule",{value:!0});var e=requireSkipFirst_delay(),r=requireAlways_delay();function t(u,a){var s=n(u);return s.setAttemptNumber(a),s}delay_factory.DelayFactory=t;function n(u){return u.delayFirstAttempt?new r.AlwaysDelay(u):new e.SkipFirstDelay(u)}return delay_factory}var hasRequiredBackoff;function requireBackoff(){if(hasRequiredBackoff)return backoff;hasRequiredBackoff=1;var e=backoff&&backoff.__awaiter||function(s,i,o,c){function l(f){return f instanceof o?f:new o(function(d){d(f)})}return new(o||(o=Promise))(function(f,d){function h(g){try{p(c.next(g))}catch(E){d(E)}}function v(g){try{p(c.throw(g))}catch(E){d(E)}}function p(g){g.done?f(g.value):l(g.value).then(h,v)}p((c=c.apply(s,i||[])).next())})},r=backoff&&backoff.__generator||function(s,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,l,f,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(p){return function(g){return v([p,g])}}function v(p){if(c)throw new TypeError("Generator is already executing.");for(;o;)try{if(c=1,l&&(f=p[0]&2?l.return:p[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,p[1])).done)return f;switch(l=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return o.label++,{value:p[1],done:!1};case 5:o.label++,l=p[1],p=[0];continue;case 7:p=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){o=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){o.label=p[1];break}if(p[0]===6&&o.label<f[1]){o.label=f[1],f=p;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(p);break}f[2]&&o.ops.pop(),o.trys.pop();continue}p=i.call(s,o)}catch(g){p=[6,g],l=0}finally{c=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(backoff,"__esModule",{value:!0});var t=requireOptions(),n=requireDelay_factory();function u(s,i){return i===void 0&&(i={}),e(this,void 0,void 0,function(){var o,c;return r(this,function(l){switch(l.label){case 0:return o=t.getSanitizedOptions(i),c=new a(s,o),[4,c.execute()];case 1:return[2,l.sent()]}})})}backoff.backOff=u;var a=function(){function s(i,o){this.request=i,this.options=o,this.attemptNumber=0}return s.prototype.execute=function(){return e(this,void 0,void 0,function(){var i,o;return r(this,function(c){switch(c.label){case 0:if(this.attemptLimitReached)return[3,7];c.label=1;case 1:return c.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return c.sent(),[4,this.request()];case 3:return[2,c.sent()];case 4:return i=c.sent(),this.attemptNumber++,[4,this.options.retry(i,this.attemptNumber)];case 5:if(o=c.sent(),!o||this.attemptLimitReached)throw i;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(s.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),s.prototype.applyDelay=function(){return e(this,void 0,void 0,function(){var i;return r(this,function(o){switch(o.label){case 0:return i=n.DelayFactory(this.options,this.attemptNumber),[4,i.apply()];case 1:return o.sent(),[2]}})})},s}();return backoff}var hasRequiredFetch_json$1;function requireFetch_json$1(){if(hasRequiredFetch_json$1)return fetch_json$1;hasRequiredFetch_json$1=1,Object.defineProperty(fetch_json$1,"__esModule",{value:!0}),fetch_json$1.fetchJsonRpc=fetch_json$1.ProviderError=fetch_json$1.retryConfig=void 0;const e=requireCommonjs$j(),r=requireBackoff(),t=1.5,n=10,u=0;function a(o=n,c=t,l=u){return{numOfAttempts:o,timeMultiple:c,startingDelay:l,retry:f=>!!([503,500,408].includes(f.cause)||f.toString().includes("FetchError")||f.toString().includes("Failed to fetch"))}}fetch_json$1.retryConfig=a;class s extends Error{constructor(l,f){super(l,f);J(this,"cause");f.cause&&(this.cause=f.cause)}}fetch_json$1.ProviderError=s;async function i(o,c,l,f){const d=await(0,r.backOff)(async()=>{const h=await fetch(o,{method:"POST",body:JSON.stringify(c),headers:{...l,"Content-Type":"application/json"}}),{ok:v,status:p}=h;if(p===500)throw new s("Internal server error",{cause:p});if(p===408)throw new s("Timeout error",{cause:p});if(p===400)throw new s("Request validation error",{cause:p});if(p===503)throw new s(`${o} unavailable`,{cause:p});if(!v)throw new s(await h.text(),{cause:p});return h},f);if(!d)throw new e.TypedError(`Exceeded ${n} attempts for ${o}.`,"RetriesExceeded");return await d.json()}return fetch_json$1.fetchJsonRpc=i,fetch_json$1}var hasRequiredJsonRpcProvider$3;function requireJsonRpcProvider$3(){if(hasRequiredJsonRpcProvider$3)return jsonRpcProvider$3;hasRequiredJsonRpcProvider$3=1,Object.defineProperty(jsonRpcProvider$3,"__esModule",{value:!0}),jsonRpcProvider$3.JsonRpcProvider=void 0;const e=requireCommonjs$i(),r=requireCommonjs$j(),t=requireCommonjs$e(),n=requireProvider$5(),u=requireFetch_json$1(),a=12,s=500,i=1.5;let o=123;class c extends n.Provider{constructor(d,h){super();J(this,"connection");J(this,"options");this.connection=d||{url:""};const v={retries:a,wait:s,backoff:i};this.options=Object.assign({},v,h)}async status(){return this.sendJsonRpc("status",[])}async sendTransactionUntil(d,h){const v=(0,t.encodeTransaction)(d);return this.sendJsonRpc("send_tx",{signed_tx_base64:Buffer.from(v).toString("base64"),wait_until:h})}async sendTransaction(d){return this.sendTransactionUntil(d,"EXECUTED_OPTIMISTIC")}async sendTransactionAsync(d){return this.sendTransactionUntil(d,"NONE")}async txStatus(d,h,v="EXECUTED_OPTIMISTIC"){return typeof d=="string"?this.txStatusString(d,h,v):this.txStatusUint8Array(d,h,v)}async txStatusUint8Array(d,h,v){return this.sendJsonRpc("tx",{tx_hash:(0,e.baseEncode)(d),sender_account_id:h,wait_until:v})}async txStatusString(d,h,v){return this.sendJsonRpc("tx",{tx_hash:d,sender_account_id:h,wait_until:v})}async txStatusReceipts(d,h,v="EXECUTED_OPTIMISTIC"){return typeof d=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:d,sender_account_id:h,wait_until:v}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,e.baseEncode)(d),sender_account_id:h,wait_until:v})}async query(...d){let h;if(d.length===1){const{block_id:v,blockId:p,...g}=d[0];h=await this.sendJsonRpc("query",{...g,block_id:v||p})}else{const[v,p]=d;h=await this.sendJsonRpc("query",[v,p])}if(h&&h.error)throw new r.TypedError(`Querying failed: ${h.error}.
${JSON.stringify(h,null,2)}`,(0,e.getErrorTypeFromErrorMessage)(h.error,h.error.name));return h}async block(d){const{finality:h}=d,{blockId:v}=d;return this.sendJsonRpc("block",{block_id:v,finality:h})}async blockChanges(d){const{finality:h}=d,{blockId:v}=d;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:v,finality:h})}async chunk(d){return this.sendJsonRpc("chunk",[d])}async validators(d){return this.sendJsonRpc("validators",[d])}async experimental_protocolConfig(d){const{blockId:h,...v}=d;return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{...v,block_id:h})}async lightClientProof(d){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",d)}async nextLightClientBlock(d){return await this.sendJsonRpc("next_light_client_block",d)}async accessKeyChanges(d,h){const{finality:v}=h,{blockId:p}=h;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:d,block_id:p,finality:v})}async singleAccessKeyChanges(d,h){const{finality:v}=h,{blockId:p}=h;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:d,block_id:p,finality:v})}async accountChanges(d,h){const{finality:v}=h,{blockId:p}=h;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:d,block_id:p,finality:v})}async contractStateChanges(d,h,v=""){const{finality:p}=h,{blockId:g}=h;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:d,key_prefix_base64:v,block_id:g,finality:p})}async contractCodeChanges(d,h){const{finality:v}=h,{blockId:p}=h;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:d,block_id:p,finality:v})}async gasPrice(d){return await this.sendJsonRpc("gas_price",[d])}async sendJsonRpc(d,h){var E;const v={method:d,params:h,id:o++,jsonrpc:"2.0"},p=await(0,u.fetchJsonRpc)(this.connection.url,v,this.connection.headers,(0,u.retryConfig)(this.options.retries,this.options.backoff,this.options.wait));if(p.error){if(typeof p.error.data=="object")throw typeof p.error.data.error_message=="string"&&typeof p.error.data.error_type=="string"?new r.TypedError(p.error.data.error_message,p.error.data.error_type):(0,e.parseRpcError)(p.error.data);{const A=`[${p.error.code}] ${p.error.message}: ${p.error.data}`,C=(0,e.getErrorTypeFromErrorMessage)(p.error.data,"");throw C?new r.TypedError((0,e.formatError)(C,h),C):new r.TypedError(A,p.error.name)}}else if(typeof((E=p.result)==null?void 0:E.error)=="string"){const A=(0,e.getErrorTypeFromErrorMessage)(p.result.error,"");if(A)throw new e.ServerError((0,e.formatError)(A,h),A)}const{result:g}=p;if(typeof g>"u")throw new r.TypedError(`Exceeded ${this.options.retries} attempts for request to ${d}.`,"RetriesExceeded");return g}}return jsonRpcProvider$3.JsonRpcProvider=c,jsonRpcProvider$3}var failoverRpcProvider$3={},hasRequiredFailoverRpcProvider$3;function requireFailoverRpcProvider$3(){if(hasRequiredFailoverRpcProvider$3)return failoverRpcProvider$3;hasRequiredFailoverRpcProvider$3=1,Object.defineProperty(failoverRpcProvider$3,"__esModule",{value:!0}),failoverRpcProvider$3.FailoverRpcProvider=void 0;const e=requireCommonjs$i(),r=requireCommonjs$j(),t=requireProvider$5();class n extends t.Provider{constructor(s){super();J(this,"providers");J(this,"currentProviderIndex");if(s.length===0)throw new Error("At least one provider must be specified");this.providers=s,this.currentProviderIndex=0}switchToNextProvider(){this.providers.length!==1&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,e.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){const s=this.providers[this.currentProviderIndex];if(!s)throw new Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return s}async withBackoff(s){for(let i=0;i<this.providers.length;i++)try{const o=await s(this.currentProvider);if(o)return o}catch(o){console.error(o),this.switchToNextProvider()}throw new r.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")}async status(){return this.withBackoff(s=>s.status())}async sendTransactionUntil(s,i){return this.withBackoff(o=>o.sendTransactionUntil(s,i))}async sendTransaction(s){return this.withBackoff(i=>i.sendTransaction(s))}async sendTransactionAsync(s){return this.withBackoff(i=>i.sendTransactionAsync(s))}async txStatus(s,i,o){return this.withBackoff(c=>c.txStatus(s,i,o))}async txStatusReceipts(s,i,o){return this.withBackoff(c=>c.txStatusReceipts(s,i,o))}async query(s,i){return i?this.withBackoff(o=>o.query(s,i)):this.withBackoff(o=>o.query(s))}async block(s){return this.withBackoff(i=>i.block(s))}async blockChanges(s){return this.withBackoff(i=>i.blockChanges(s))}async chunk(s){return this.withBackoff(i=>i.chunk(s))}async validators(s){return this.withBackoff(i=>i.validators(s))}async experimental_protocolConfig(s){return this.withBackoff(i=>i.experimental_protocolConfig(s))}async lightClientProof(s){return this.withBackoff(i=>i.lightClientProof(s))}async nextLightClientBlock(s){return this.withBackoff(i=>i.nextLightClientBlock(s))}async accessKeyChanges(s,i){return this.withBackoff(o=>o.accessKeyChanges(s,i))}async singleAccessKeyChanges(s,i){return this.withBackoff(o=>o.singleAccessKeyChanges(s,i))}async accountChanges(s,i){return this.withBackoff(o=>o.accountChanges(s,i))}async contractStateChanges(s,i,o=""){return this.withBackoff(c=>c.contractStateChanges(s,i,o))}async contractCodeChanges(s,i){return this.withBackoff(o=>o.contractCodeChanges(s,i))}async gasPrice(s){return this.withBackoff(i=>i.gasPrice(s))}}return failoverRpcProvider$3.FailoverRpcProvider=n,failoverRpcProvider$3}var hasRequiredCommonjs$d;function requireCommonjs$d(){return hasRequiredCommonjs$d||(hasRequiredCommonjs$d=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Provider=e.FailoverRpcProvider=e.JsonRpcProvider=e.exponentialBackoff=void 0;var r=requireExponentialBackoff$1();Object.defineProperty(e,"exponentialBackoff",{enumerable:!0,get:function(){return r.exponentialBackoff}});var t=requireJsonRpcProvider$3();Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return t.JsonRpcProvider}});var n=requireFailoverRpcProvider$3();Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return n.FailoverRpcProvider}});var u=requireProvider$5();Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return u.Provider}})}(commonjs$e)),commonjs$e}var hasRequiredProvider$4;function requireProvider$4(){return hasRequiredProvider$4||(hasRequiredProvider$4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=e.Provider=e.getTransactionLastResult=void 0;var r=requireCommonjs$i();Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return r.getTransactionLastResult}});var t=requireCommonjs$d();Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return t.Provider}});var n=requireCommonjs$j();Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return n.IdType}}),Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return n.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}})}(provider$5)),provider$5}var jsonRpcProvider$2={},hasRequiredJsonRpcProvider$2;function requireJsonRpcProvider$2(){return hasRequiredJsonRpcProvider$2||(hasRequiredJsonRpcProvider$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.TypedError=e.ErrorContext=void 0;var r=requireCommonjs$j();Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return r.ErrorContext}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return r.TypedError}});var t=requireCommonjs$d();Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return t.JsonRpcProvider}})}(jsonRpcProvider$2)),jsonRpcProvider$2}var failoverRpcProvider$2={},hasRequiredFailoverRpcProvider$2;function requireFailoverRpcProvider$2(){return hasRequiredFailoverRpcProvider$2||(hasRequiredFailoverRpcProvider$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FailoverRpcProvider=void 0;var r=requireCommonjs$d();Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return r.FailoverRpcProvider}})}(failoverRpcProvider$2)),failoverRpcProvider$2}var hasRequiredProviders$1;function requireProviders$1(){return hasRequiredProviders$1||(hasRequiredProviders$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.FailoverRpcProvider=e.JsonRpcProvider=e.Provider=void 0;const r=requireProvider$4();Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return r.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return r.FinalExecutionStatusBasic}});const t=requireJsonRpcProvider$2();Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return t.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return t.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return t.ErrorContext}});const n=requireFailoverRpcProvider$2();Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return n.FailoverRpcProvider}})}(providers$1)),providers$1}var utils$8={},key_pair$2={},hasRequiredKey_pair$2;function requireKey_pair$2(){return hasRequiredKey_pair$2||(hasRequiredKey_pair$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyType=e.KeyPairEd25519=e.KeyPair=void 0;var r=requireCommonjs$h();Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return r.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return r.KeyPairEd25519}}),Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return r.KeyType}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return r.PublicKey}})}(key_pair$2)),key_pair$2}var serialize$3={},hasRequiredSerialize$1;function requireSerialize$1(){return hasRequiredSerialize$1||(hasRequiredSerialize$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.base_decode=e.base_encode=e.deserialize=e.serialize=void 0;var r=requireCjs();Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return r.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return r.deserialize}});var t=requireCommonjs$i();Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return t.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return t.baseDecode}})}(serialize$3)),serialize$3}var enums$1={},hasRequiredEnums$1;function requireEnums$1(){return hasRequiredEnums$1||(hasRequiredEnums$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Enum=void 0;var r=requireCommonjs$j();Object.defineProperty(e,"Enum",{enumerable:!0,get:function(){return r.Enum}})}(enums$1)),enums$1}var format$2={},hasRequiredFormat$2;function requireFormat$2(){return hasRequiredFormat$2||(hasRequiredFormat$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION_EXP=e.NEAR_NOMINATION=void 0;var r=requireCommonjs$i();Object.defineProperty(e,"NEAR_NOMINATION",{enumerable:!0,get:function(){return r.NEAR_NOMINATION}}),Object.defineProperty(e,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return r.NEAR_NOMINATION_EXP}}),Object.defineProperty(e,"formatNearAmount",{enumerable:!0,get:function(){return r.formatNearAmount}}),Object.defineProperty(e,"parseNearAmount",{enumerable:!0,get:function(){return r.parseNearAmount}})}(format$2)),format$2}var rpc_errors$2={},hasRequiredRpc_errors$2;function requireRpc_errors$2(){return hasRequiredRpc_errors$2||(hasRequiredRpc_errors$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=void 0;var r=requireCommonjs$i();Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return r.parseRpcError}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return r.parseResultError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return r.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return r.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return r.ServerError}})}(rpc_errors$2)),rpc_errors$2}var logger$4={},hasRequiredLogger$3;function requireLogger$3(){return hasRequiredLogger$3||(hasRequiredLogger$3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var r=requireCommonjs$i();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return r.Logger}})}(logger$4)),logger$4}var hasRequiredUtils$7;function requireUtils$7(){return hasRequiredUtils$7||(hasRequiredUtils$7=1,function(e){var r=utils$8&&utils$8.__createBinding||(Object.create?function(f,d,h,v){v===void 0&&(v=h);var p=Object.getOwnPropertyDescriptor(d,h);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(f,v,p)}:function(f,d,h,v){v===void 0&&(v=h),f[v]=d[h]}),t=utils$8&&utils$8.__setModuleDefault||(Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d}),n=utils$8&&utils$8.__importStar||function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var h in f)h!=="default"&&Object.prototype.hasOwnProperty.call(f,h)&&r(d,f,h);return t(d,f),d};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.serialize=e.key_pair=void 0;const u=n(requireKey_pair$2());e.key_pair=u;const a=n(requireSerialize$1());e.serialize=a;const s=n(requireEnums$1());e.enums=s;const i=n(requireFormat$2());e.format=i;const o=n(requireRpc_errors$2());e.rpc_errors=o;const c=requireKey_pair$2();Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return c.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return c.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return c.KeyPairEd25519}});const l=requireLogger$3();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return l.Logger}})}(utils$8)),utils$8}var transaction$1={},hasRequiredTransaction$1;function requireTransaction$1(){return hasRequiredTransaction$1||(hasRequiredTransaction$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transfer=e.stake=e.functionCallAccessKey=e.functionCall=e.fullAccessKey=e.deployContract=e.deleteKey=e.deleteAccount=e.createAccount=e.addKey=e.encodeTransaction=e.encodeDelegateAction=e.encodeSignedDelegate=e.Transaction=e.SignedTransaction=e.Signature=e.signTransaction=e.createTransaction=e.SCHEMA=e.Transfer=e.Stake=e.FunctionCallPermission=e.FunctionCall=e.FullAccessPermission=e.DeployContract=e.DeleteKey=e.DeleteAccount=e.CreateAccount=e.AddKey=e.AccessKeyPermission=e.AccessKey=e.Action=e.stringifyJsonOrBytes=void 0;var r=requireCommonjs$e();Object.defineProperty(e,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return r.stringifyJsonOrBytes}}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(e,"AccessKey",{enumerable:!0,get:function(){return r.AccessKey}}),Object.defineProperty(e,"AccessKeyPermission",{enumerable:!0,get:function(){return r.AccessKeyPermission}}),Object.defineProperty(e,"AddKey",{enumerable:!0,get:function(){return r.AddKey}}),Object.defineProperty(e,"CreateAccount",{enumerable:!0,get:function(){return r.CreateAccount}}),Object.defineProperty(e,"DeleteAccount",{enumerable:!0,get:function(){return r.DeleteAccount}}),Object.defineProperty(e,"DeleteKey",{enumerable:!0,get:function(){return r.DeleteKey}}),Object.defineProperty(e,"DeployContract",{enumerable:!0,get:function(){return r.DeployContract}}),Object.defineProperty(e,"FullAccessPermission",{enumerable:!0,get:function(){return r.FullAccessPermission}}),Object.defineProperty(e,"FunctionCall",{enumerable:!0,get:function(){return r.FunctionCall}}),Object.defineProperty(e,"FunctionCallPermission",{enumerable:!0,get:function(){return r.FunctionCallPermission}}),Object.defineProperty(e,"Stake",{enumerable:!0,get:function(){return r.Stake}}),Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return r.Transfer}}),Object.defineProperty(e,"SCHEMA",{enumerable:!0,get:function(){return r.SCHEMA}}),Object.defineProperty(e,"createTransaction",{enumerable:!0,get:function(){return r.createTransaction}}),Object.defineProperty(e,"signTransaction",{enumerable:!0,get:function(){return r.signTransaction}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return r.Signature}}),Object.defineProperty(e,"SignedTransaction",{enumerable:!0,get:function(){return r.SignedTransaction}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return r.Transaction}}),Object.defineProperty(e,"encodeSignedDelegate",{enumerable:!0,get:function(){return r.encodeSignedDelegate}}),Object.defineProperty(e,"encodeDelegateAction",{enumerable:!0,get:function(){return r.encodeDelegateAction}}),Object.defineProperty(e,"encodeTransaction",{enumerable:!0,get:function(){return r.encodeTransaction}});const t=requireCommonjs$e(),n=(h,v)=>t.actionCreators.addKey(h,v);e.addKey=n;const u=()=>t.actionCreators.createAccount();e.createAccount=u;const a=h=>t.actionCreators.deleteAccount(h);e.deleteAccount=a;const s=h=>t.actionCreators.deleteKey(h);e.deleteKey=s;const i=h=>t.actionCreators.deployContract(h);e.deployContract=i;const o=()=>t.actionCreators.fullAccessKey();e.fullAccessKey=o;const c=(h,v,p,g,E,A)=>t.actionCreators.functionCall(h,v,p,g,E,A);e.functionCall=c;const l=(h,v,p)=>t.actionCreators.functionCallAccessKey(h,v,p);e.functionCallAccessKey=l;const f=(h,v)=>t.actionCreators.stake(h,v);e.stake=f;const d=h=>t.actionCreators.transfer(h);e.transfer=d}(transaction$1)),transaction$1}var validators$2={},hasRequiredValidators$2;function requireValidators$2(){return hasRequiredValidators$2||(hasRequiredValidators$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findSeatPrice=e.diffEpochValidators=void 0;var r=requireCommonjs$i();Object.defineProperty(e,"diffEpochValidators",{enumerable:!0,get:function(){return r.diffEpochValidators}}),Object.defineProperty(e,"findSeatPrice",{enumerable:!0,get:function(){return r.findSeatPrice}})}(validators$2)),validators$2}var account$3={},commonjs$c={},account$2={},utils$7={},hasRequiredUtils$6;function requireUtils$6(){if(hasRequiredUtils$6)return utils$7;hasRequiredUtils$6=1,Object.defineProperty(utils$7,"__esModule",{value:!0}),utils$7.viewFunction=utils$7.viewState=utils$7.encodeJSContractArgs=utils$7.validateArgs=void 0;const e=requireCommonjs$j(),r=requireCommonjs$i();function t(o){return JSON.parse(Buffer.from(o).toString())}function n(o){return Buffer.from(JSON.stringify(o))}function u(o){if(!(o.byteLength!==void 0&&o.byteLength===o.length)&&(Array.isArray(o)||typeof o!="object"))throw new e.PositionalArgsError}utils$7.validateArgs=u;function a(o,c,l){return Buffer.concat([Buffer.from(o),Buffer.from([0]),Buffer.from(c),Buffer.from([0]),Buffer.from(l)])}utils$7.encodeJSContractArgs=a;async function s(o,c,l,f={finality:"optimistic"}){const{values:d}=await o.provider.query({request_type:"view_state",...f,account_id:c,prefix_base64:Buffer.from(l).toString("base64")});return d.map(({key:h,value:v})=>({key:Buffer.from(h,"base64"),value:Buffer.from(v,"base64")}))}utils$7.viewState=s;async function i(o,{contractId:c,methodName:l,args:f={},parse:d=t,stringify:h=n,jsContract:v=!1,blockQuery:p={finality:"optimistic"}}){let g;u(f),v?g=a(c,l,Object.keys(f).length>0?JSON.stringify(f):""):g=h(f);const E=await o.provider.query({request_type:"call_function",...p,account_id:v?o.jsvmAccountId:c,method_name:v?"view_js_contract":l,args_base64:g.toString("base64")});return E.logs&&(0,r.printTxOutcomeLogs)({contractId:c,logs:E.logs}),E.result&&E.result.length>0&&d(Buffer.from(E.result))}return utils$7.viewFunction=i,utils$7}var hasRequiredAccount$3;function requireAccount$3(){if(hasRequiredAccount$3)return account$2;hasRequiredAccount$3=1,Object.defineProperty(account$2,"__esModule",{value:!0}),account$2.Account=void 0;const e=requireCommonjs$h(),r=requireCommonjs$d(),t=requireCommonjs$e(),n=requireCommonjs$j(),u=requireCommonjs$i(),a=requireUtils$6(),{addKey:s,createAccount:i,deleteAccount:o,deleteKey:c,deployContract:l,fullAccessKey:f,functionCall:d,functionCallAccessKey:h,stake:v,transfer:p}=t.actionCreators,g=12,E=500,A=1.5;class C{constructor(S,N){J(this,"connection");J(this,"accountId");J(this,"accessKeyByPublicKeyCache",{});this.connection=S,this.accountId=N}getConnection(){return this.connection}async state(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}async signTransaction(S,N){const j=await this.findAccessKey(S,N);if(!j)throw new n.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:k}=j,L=(await this.connection.provider.block({finality:"final"})).header.hash,R=k.nonce+1n;return await(0,t.signTransaction)(S,R,N,(0,u.baseDecode)(L),this.connection.signer,this.accountId,this.connection.networkId)}async signAndSendTransaction({receiverId:S,actions:N,returnError:j}){let k,B;const L=await(0,r.exponentialBackoff)(E,g,A,async()=>{[k,B]=await this.signTransaction(S,N);const R=B.transaction.publicKey;try{return await this.connection.provider.sendTransaction(B)}catch(y){if(y.type==="InvalidNonce")return u.Logger.warn(`Retrying transaction ${S}:${(0,u.baseEncode)(k)} with new nonce.`),delete this.accessKeyByPublicKeyCache[R.toString()],null;if(y.type==="Expired")return u.Logger.warn(`Retrying transaction ${S}:${(0,u.baseEncode)(k)} due to expired block hash`),null;throw y.context=new n.ErrorContext((0,u.baseEncode)(k)),y}});if(!L)throw new n.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,u.printTxOutcomeLogsAndFailures)({contractId:B.transaction.receiverId,outcome:L}),!j&&typeof L.status=="object"&&typeof L.status.Failure=="object"&&L.status.Failure!==null)throw L.status.Failure.error_message&&L.status.Failure.error_type?new n.TypedError(`Transaction ${L.transaction_outcome.id} failed. ${L.status.Failure.error_message}`,L.status.Failure.error_type):(0,u.parseResultError)(L);return L}async findAccessKey(S,N){const j=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!j)throw new n.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const k=this.accessKeyByPublicKeyCache[j.toString()];if(k!==void 0)return{publicKey:j,accessKey:k};try{const B=await this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:j.toString(),finality:"optimistic"}),L={...B,nonce:BigInt(B.nonce||0)};return this.accessKeyByPublicKeyCache[j.toString()]?{publicKey:j,accessKey:this.accessKeyByPublicKeyCache[j.toString()]}:(this.accessKeyByPublicKeyCache[j.toString()]=L,{publicKey:j,accessKey:L})}catch(B){if(B.type=="AccessKeyDoesNotExist")return null;throw B}}async createAndDeployContract(S,N,j,k){const B=f();return await this.signAndSendTransaction({receiverId:S,actions:[i(),p(k),s(e.PublicKey.from(N),B),l(j)]}),new C(this.connection,S)}async sendMoney(S,N){return this.signAndSendTransaction({receiverId:S,actions:[p(N)]})}async createAccount(S,N,j){const k=f();return this.signAndSendTransaction({receiverId:S,actions:[i(),p(j),s(e.PublicKey.from(N),k)]})}async deleteAccount(S){return u.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[o(S)]})}async deployContract(S){return this.signAndSendTransaction({receiverId:this.accountId,actions:[l(S)]})}encodeJSContractArgs(S,N,j){return Buffer.concat([Buffer.from(S),Buffer.from([0]),Buffer.from(N),Buffer.from([0]),Buffer.from(j)])}async functionCall({contractId:S,methodName:N,args:j={},gas:k=u.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:B,walletMeta:L,walletCallbackUrl:R,stringify:y,jsContract:_}){this.validateArgs(j);let b;if(_)b=["call_js_contract",this.encodeJSContractArgs(S,N,JSON.stringify(j)),k,B,null,!0];else{const w=y===void 0?t.stringifyJsonOrBytes:y;b=[N,j,k,B,w,!1]}return this.signAndSendTransaction({receiverId:_?this.connection.jsvmAccountId:S,actions:[d.apply(void 0,b)],walletMeta:L,walletCallbackUrl:R})}async addKey(S,N,j,k){j||(j=[]),Array.isArray(j)||(j=[j]);let B;return N?B=h(N,j,k):B=f(),this.signAndSendTransaction({receiverId:this.accountId,actions:[s(e.PublicKey.from(S),B)]})}async deleteKey(S){return this.signAndSendTransaction({receiverId:this.accountId,actions:[c(e.PublicKey.from(S))]})}async stake(S,N){return this.signAndSendTransaction({receiverId:this.accountId,actions:[v(N,e.PublicKey.from(S))]})}async signedDelegate({actions:S,blockHeightTtl:N,receiverId:j}){const{provider:k,signer:B}=this.connection,{header:L}=await k.block({finality:"final"}),{accessKey:R,publicKey:y}=await this.findAccessKey(null,null),_=(0,t.buildDelegateAction)({actions:S,maxBlockHeight:BigInt(L.height)+BigInt(N),nonce:BigInt(R.nonce)+1n,publicKey:y,receiverId:j,senderId:this.accountId}),{signedDelegateAction:b}=await(0,t.signDelegateAction)({delegateAction:_,signer:{sign:async w=>{const{signature:I}=await B.signMessage(w,_.senderId,this.connection.networkId);return I}}});return b}validateArgs(S){if(!(S.byteLength!==void 0&&S.byteLength===S.length)&&(Array.isArray(S)||typeof S!="object"))throw new n.PositionalArgsError}async viewFunction(S){return await(0,a.viewFunction)(this.connection,S)}async viewState(S,N={finality:"optimistic"}){return await(0,a.viewState)(this.connection,this.accountId,S,N)}async getAccessKeys(){var N;const S=await this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(N=S==null?void 0:S.keys)==null?void 0:N.map(j=>({...j,access_key:{...j.access_key,nonce:BigInt(j.access_key.nonce)}}))}async getAccountDetails(){return{authorizedApps:(await this.getAccessKeys()).filter(j=>j.access_key.permission!=="FullAccess").map(j=>{const k=j.access_key.permission;return{contractId:k.FunctionCall.receiver_id,amount:k.FunctionCall.allowance,publicKey:j.public_key}})}}async getAccountBalance(){const S=await this.connection.provider.experimental_protocolConfig({finality:"final"}),N=await this.state(),j=BigInt(S.runtime_config.storage_amount_per_byte),k=BigInt(N.storage_usage)*j,B=BigInt(N.locked),L=BigInt(N.amount)+B,R=L-(B>k?B:k);return{total:L.toString(),stateStaked:k.toString(),staked:B.toString(),available:R.toString()}}async getActiveDelegatedStakeBalance(){const S=await this.connection.provider.block({finality:"final"}),N=S.header.hash,j=S.header.epoch_id,{current_validators:k,next_validators:B,current_proposals:L}=await this.connection.provider.validators(j),R=new Set;[...k,...B,...L].forEach(q=>R.add(q.account_id));const y=[...R],_=y.map(q=>this.viewFunction({contractId:q,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:N}})),b=await Promise.allSettled(_);if(b.some(q=>q.status==="rejected"&&q.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const I=b.reduce((q,U,x)=>{const m=y[x];if(U.status==="fulfilled"){const T=BigInt(U.value);if(T!==0n)return{...q,stakedValidators:[...q.stakedValidators,{validatorId:m,amount:T.toString()}],total:q.total+T}}return U.status==="rejected"?{...q,failedValidators:[...q.failedValidators,{validatorId:m,error:U.reason}]}:q},{stakedValidators:[],failedValidators:[],total:0n});return{...I,total:I.total.toString()}}}return account$2.Account=C,account$2}var account_2fa$1={},account_multisig$3={},constants$3={},hasRequiredConstants$3;function requireConstants$3(){if(hasRequiredConstants$3)return constants$3;hasRequiredConstants$3=1,Object.defineProperty(constants$3,"__esModule",{value:!0}),constants$3.MULTISIG_CONFIRM_METHODS=constants$3.MULTISIG_CHANGE_METHODS=constants$3.MULTISIG_DEPOSIT=constants$3.MULTISIG_GAS=constants$3.MULTISIG_ALLOWANCE=constants$3.MULTISIG_STORAGE_KEY=void 0;const e=requireCommonjs$i();return constants$3.MULTISIG_STORAGE_KEY="__multisigRequest",constants$3.MULTISIG_ALLOWANCE=BigInt((0,e.parseNearAmount)("1")),constants$3.MULTISIG_GAS=100000000000000n,constants$3.MULTISIG_DEPOSIT=0n,constants$3.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],constants$3.MULTISIG_CONFIRM_METHODS=["confirm"],constants$3}var types$2={},hasRequiredTypes$2;function requireTypes$2(){if(hasRequiredTypes$2)return types$2;hasRequiredTypes$2=1,Object.defineProperty(types$2,"__esModule",{value:!0}),types$2.MultisigStateStatus=types$2.MultisigDeleteRequestRejectionError=void 0;var e;(function(t){t.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",t.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",t.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",t.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",t.METHOD_NOT_FOUND="Contract method is not found"})(e||(types$2.MultisigDeleteRequestRejectionError=e={}));var r;return function(t){t[t.INVALID_STATE=0]="INVALID_STATE",t[t.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",t[t.VALID_STATE=2]="VALID_STATE",t[t.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(r||(types$2.MultisigStateStatus=r={})),types$2}var hasRequiredAccount_multisig$3;function requireAccount_multisig$3(){if(hasRequiredAccount_multisig$3)return account_multisig$3;hasRequiredAccount_multisig$3=1,Object.defineProperty(account_multisig$3,"__esModule",{value:!0}),account_multisig$3.AccountMultisig=void 0;const e=requireCommonjs$e(),r=requireCommonjs$i(),t=requireAccount$3(),n=requireConstants$3(),u=requireTypes$2(),{deployContract:a,functionCall:s}=e.actionCreators;var i;(function(d){d[d.INVALID_CODE=0]="INVALID_CODE",d[d.VALID_CODE=1]="VALID_CODE",d[d.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(i||(i={}));const o={[n.MULTISIG_STORAGE_KEY]:null};class c extends t.Account{constructor(v,p,g){super(v,p);J(this,"storage");J(this,"onAddRequestResult");this.storage=g.storage,this.onAddRequestResult=g.onAddRequestResult}async signAndSendTransactionWithAccount(v,p){return super.signAndSendTransaction({receiverId:v,actions:p})}async signAndSendTransaction({receiverId:v,actions:p}){const{accountId:g}=this,E=Buffer.from(JSON.stringify({request:{receiver_id:v,actions:f(p,g,v)}}));let A;try{A=await super.signAndSendTransaction({receiverId:g,actions:[s("add_request_and_confirm",E,n.MULTISIG_GAS,n.MULTISIG_DEPOSIT)]})}catch(P){if(P.toString().includes("Account has too many active requests. Confirm or delete some"))return await this.deleteUnconfirmedRequests(),await this.signAndSendTransaction({receiverId:v,actions:p});throw P}if(!A.status)throw new Error("Request failed");const C={...A.status};if(!C.SuccessValue||typeof C.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:g,actions:p,requestId:parseInt(Buffer.from(C.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&await this.onAddRequestResult(A),this.deleteUnconfirmedRequests(),A}async checkMultisigCodeAndStateStatus(v){const g=v?i.UNKNOWN_CODE:i.VALID_CODE;try{return v?await super.signAndSendTransaction({receiverId:this.accountId,actions:[a(v),s("delete_request",{request_id:4294967295},n.MULTISIG_GAS,n.MULTISIG_DEPOSIT)]}):await this.deleteRequest(4294967295),{codeStatus:i.VALID_CODE,stateStatus:u.MultisigStateStatus.VALID_STATE}}catch(E){if(new RegExp(u.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(E&&E.kind&&E.kind.ExecutionError))return{codeStatus:g,stateStatus:u.MultisigStateStatus.INVALID_STATE};if(new RegExp(u.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(E&&E.kind&&E.kind.ExecutionError))return{codeStatus:g,stateStatus:u.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(u.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(E&&E.kind&&E.kind.ExecutionError))return{codeStatus:g,stateStatus:u.MultisigStateStatus.VALID_STATE};if(new RegExp(u.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(E&&E.message))return{codeStatus:i.INVALID_CODE,stateStatus:u.MultisigStateStatus.UNKNOWN_STATE};throw E}}deleteRequest(v){return super.signAndSendTransaction({receiverId:this.accountId,actions:[s("delete_request",{request_id:v},n.MULTISIG_GAS,n.MULTISIG_DEPOSIT)]})}async deleteAllRequests(){const v=await this.getRequestIds();v.length&&await Promise.all(v.map(p=>this.deleteRequest(p)))}async deleteUnconfirmedRequests(){const v=await this.getRequestIds(),{requestId:p}=this.getRequest();for(const g of v)if(g!=p)try{await super.signAndSendTransaction({receiverId:this.accountId,actions:[s("delete_request",{request_id:g},n.MULTISIG_GAS,n.MULTISIG_DEPOSIT)]})}catch{r.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}async getRequestIds(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(n.MULTISIG_STORAGE_KEY)||"{}"):o[n.MULTISIG_STORAGE_KEY]}setRequest(v){if(this.storage)return this.storage.setItem(n.MULTISIG_STORAGE_KEY,JSON.stringify(v));o[n.MULTISIG_STORAGE_KEY]=v}}account_multisig$3.AccountMultisig=c;const l=d=>d.toString().replace("ed25519:",""),f=(d,h,v)=>d.map(p=>{const g=p.enum,{gas:E,publicKey:A,methodName:C,args:P,deposit:S,accessKey:N,code:j}=p[g],k={type:g[0].toUpperCase()+g.substr(1),gas:E&&E.toString()||void 0,public_key:A&&l(A)||void 0,method_name:C,args:P&&Buffer.from(P).toString("base64")||void 0,code:j&&Buffer.from(j).toString("base64")||void 0,amount:S&&S.toString()||void 0,deposit:S&&S.toString()||"0",permission:void 0};if(N&&(v===h&&N.permission.enum!=="fullAccess"&&(k.permission={receiver_id:h,allowance:n.MULTISIG_ALLOWANCE.toString(),method_names:n.MULTISIG_CHANGE_METHODS}),N.permission.enum==="functionCall")){const{receiverId:B,methodNames:L,allowance:R}=N.permission.functionCall;k.permission={receiver_id:B,allowance:R&&R.toString()||void 0,method_names:L}}return k});return account_multisig$3}var hasRequiredAccount_2fa$1;function requireAccount_2fa$1(){if(hasRequiredAccount_2fa$1)return account_2fa$1;hasRequiredAccount_2fa$1=1,Object.defineProperty(account_2fa$1,"__esModule",{value:!0}),account_2fa$1.Account2FA=void 0;const e=requireCommonjs$h(),r=requireCommonjs$j(),t=requireCommonjs$e(),n=requireCommonjs$i(),u=requireAccount_multisig$3(),a=requireConstants$3(),s=requireTypes$2(),{addKey:i,deleteKey:o,deployContract:c,fullAccessKey:l,functionCall:f,functionCallAccessKey:d}=t.actionCreators;class h extends u.AccountMultisig{constructor(E,A,C){super(E,A,C);J(this,"sendCode");J(this,"getCode");J(this,"verifyCode");J(this,"onConfirmResult");J(this,"helperUrl","https://helper.testnet.near.org");this.helperUrl=C.helperUrl||this.helperUrl,this.storage=C.storage,this.sendCode=C.sendCode||this.sendCodeDefault,this.getCode=C.getCode||this.getCodeDefault,this.verifyCode=C.verifyCode||this.verifyCodeDefault,this.onConfirmResult=C.onConfirmResult}async signAndSendTransaction({receiverId:E,actions:A}){await super.signAndSendTransaction({receiverId:E,actions:A}),await this.sendCode();const C=await this.promptAndVerify();return this.onConfirmResult&&await this.onConfirmResult(C),C}async deployMultisig(E){const{accountId:A}=this,C=(await this.getRecoveryMethods()).data.filter(({kind:L,publicKey:R})=>(L==="phrase"||L==="ledger")&&R!==null).map(L=>L.publicKey),P=(await this.getAccessKeys()).filter(({public_key:L,access_key:{permission:R}})=>R==="FullAccess"&&!C.includes(L)).map(L=>L.public_key).map(v),S=v((await this.postSignedJson("/2fa/getAccessKey",{accountId:A})).publicKey),N=Buffer.from(JSON.stringify({num_confirmations:2})),j=[...P.map(L=>o(L)),...P.map(L=>i(L,d(A,a.MULTISIG_CHANGE_METHODS,null))),i(S,d(A,a.MULTISIG_CONFIRM_METHODS,null)),c(E)],k=j.concat(f("new",N,a.MULTISIG_GAS,a.MULTISIG_DEPOSIT));n.Logger.log("deploying multisig contract for",A);const{stateStatus:B}=await this.checkMultisigCodeAndStateStatus(E);switch(B){case s.MultisigStateStatus.STATE_NOT_INITIALIZED:return await super.signAndSendTransactionWithAccount(A,k);case s.MultisigStateStatus.VALID_STATE:return await super.signAndSendTransactionWithAccount(A,j);case s.MultisigStateStatus.INVALID_STATE:throw new r.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new r.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}}async disableWithFAK({contractBytes:E,cleanupContractBytes:A}){let C=[];A&&(await this.deleteAllRequests().catch(j=>j),C=await this.get2faDisableCleanupActions(A));const P=await this.get2faDisableKeyConversionActions(),S=[...C,...P,c(E)],N=await this.findAccessKey(this.accountId,S);if(N&&N.accessKey&&N.accessKey.permission!=="FullAccess")throw new r.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,S)}async get2faDisableCleanupActions(E){const A=await this.viewState("").catch(P=>{const S=P.cause&&P.cause.name;if(S=="NO_CONTRACT_CODE")return[];throw S=="TOO_LARGE_CONTRACT_STATE"?new r.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):P}),C=A.map(({key:P})=>P.toString("base64"));return A.length?[c(E),f("clean",{keys:C},a.MULTISIG_GAS,0n)]:[]}async get2faDisableKeyConversionActions(){const{accountId:E}=this,C=(await this.getAccessKeys()).filter(({access_key:S})=>S.permission!=="FullAccess").filter(({access_key:S})=>{const N=S.permission.FunctionCall;return N.receiver_id===E&&N.method_names.length===4&&N.method_names.includes("add_request_and_confirm")}),P=e.PublicKey.from((await this.postSignedJson("/2fa/getAccessKey",{accountId:E})).publicKey);return[o(P),...C.map(({public_key:S})=>o(e.PublicKey.from(S))),...C.map(({public_key:S})=>i(e.PublicKey.from(S),l()))]}async disable(E,A){const{stateStatus:C}=await this.checkMultisigCodeAndStateStatus();if(C!==s.MultisigStateStatus.VALID_STATE&&C!==s.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new r.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let P;await this.deleteAllRequests().catch(j=>P=j);const N=[...await this.get2faDisableCleanupActions(A).catch(j=>{throw j.type==="ContractHasExistingState"&&P||j}),...await this.get2faDisableKeyConversionActions(),c(E)];return n.Logger.log("disabling 2fa for",this.accountId),await this.signAndSendTransaction({receiverId:this.accountId,actions:N})}async sendCodeDefault(){const{accountId:E}=this,{requestId:A}=this.getRequest(),C=await this.get2faMethod();return await this.postSignedJson("/2fa/send",{accountId:E,method:C,requestId:A}),A}async getCodeDefault(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}async promptAndVerify(){const E=await this.get2faMethod(),A=await this.getCode(E);try{return await this.verifyCode(A)}catch(C){if(n.Logger.warn("Error validating security code:",C),C.toString().includes("invalid 2fa code provided")||C.toString().includes("2fa code not valid"))return await this.promptAndVerify();throw C}}async verifyCodeDefault(E){const{accountId:A}=this,C=this.getRequest();if(!C)throw new Error("no request pending");const{requestId:P}=C;return await this.postSignedJson("/2fa/verify",{accountId:A,securityCode:E,requestId:P})}async getRecoveryMethods(){const{accountId:E}=this;return{accountId:E,data:await this.postSignedJson("/account/recoveryMethods",{accountId:E})}}async get2faMethod(){let{data:E}=await this.getRecoveryMethods();if(E&&E.length&&(E=E.find(P=>P.kind.indexOf("2fa-")===0)),!E)return null;const{kind:A,detail:C}=E;return{kind:A,detail:C}}async signatureFor(){const{accountId:E}=this,C=(await this.connection.provider.block({finality:"final"})).header.height.toString(),P=await this.connection.signer.signMessage(Buffer.from(C),E,this.connection.networkId),S=Buffer.from(P.signature).toString("base64");return{blockNumber:C,blockNumberSignature:S}}async postSignedJson(E,A){return await fetch(this.helperUrl+E,{body:JSON.stringify({...A,...await this.signatureFor()}),method:"POST"})}}account_2fa$1.Account2FA=h;const v=p=>e.PublicKey.from(p);return account_2fa$1}var account_creator$3={},hasRequiredAccount_creator$3;function requireAccount_creator$3(){if(hasRequiredAccount_creator$3)return account_creator$3;hasRequiredAccount_creator$3=1,Object.defineProperty(account_creator$3,"__esModule",{value:!0}),account_creator$3.UrlAccountCreator=account_creator$3.LocalAccountCreator=account_creator$3.AccountCreator=void 0;class e{}account_creator$3.AccountCreator=e;class r extends e{constructor(a,s){super();J(this,"masterAccount");J(this,"initialBalance");this.masterAccount=a,this.initialBalance=s}async createAccount(a,s){await this.masterAccount.createAccount(a,s,this.initialBalance)}}account_creator$3.LocalAccountCreator=r;class t extends e{constructor(a,s){super();J(this,"connection");J(this,"helperUrl");this.connection=a,this.helperUrl=s}async createAccount(a,s){await fetch(`${this.helperUrl}/account`,{body:JSON.stringify({newAccountId:a,newAccountPublicKey:s.toString()}),method:"POST"})}}return account_creator$3.UrlAccountCreator=t,account_creator$3}var connection$3={},commonjs$b={},in_memory_signer$1={},sha256$1={},_sha2$1={},_assert$1={},hasRequired_assert$1;function require_assert$1(){if(hasRequired_assert$1)return _assert$1;hasRequired_assert$1=1,Object.defineProperty(_assert$1,"__esModule",{value:!0}),_assert$1.output=_assert$1.exists=_assert$1.hash=_assert$1.bytes=_assert$1.bool=_assert$1.number=void 0;function e(o){if(!Number.isSafeInteger(o)||o<0)throw new Error(`Wrong positive integer: ${o}`)}_assert$1.number=e;function r(o){if(typeof o!="boolean")throw new Error(`Expected boolean, not ${o}`)}_assert$1.bool=r;function t(o){return o instanceof Uint8Array||o!=null&&typeof o=="object"&&o.constructor.name==="Uint8Array"}function n(o,...c){if(!t(o))throw new Error("Expected Uint8Array");if(c.length>0&&!c.includes(o.length))throw new Error(`Expected Uint8Array of length ${c}, not of length=${o.length}`)}_assert$1.bytes=n;function u(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");e(o.outputLen),e(o.blockLen)}_assert$1.hash=u;function a(o,c=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(c&&o.finished)throw new Error("Hash#digest() has already been called")}_assert$1.exists=a;function s(o,c){n(o);const l=c.outputLen;if(o.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}_assert$1.output=s;const i={number:e,bool:r,bytes:n,hash:u,exists:a,output:s};return _assert$1.default=i,_assert$1}var utils$6={},crypto$1={},hasRequiredCrypto$1;function requireCrypto$1(){return hasRequiredCrypto$1||(hasRequiredCrypto$1=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.crypto=void 0,crypto$1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),crypto$1}var hasRequiredUtils$5;function requireUtils$5(){return hasRequiredUtils$5||(hasRequiredUtils$5=1,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const r=requireCrypto$1(),t=k=>new Uint8Array(k.buffer,k.byteOffset,k.byteLength);e.u8=t;const n=k=>new Uint32Array(k.buffer,k.byteOffset,Math.floor(k.byteLength/4));e.u32=n;function u(k){return k instanceof Uint8Array||k!=null&&typeof k=="object"&&k.constructor.name==="Uint8Array"}const a=k=>new DataView(k.buffer,k.byteOffset,k.byteLength);e.createView=a;const s=(k,B)=>k<<32-B|k>>>B;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},(k,B)=>B.toString(16).padStart(2,"0"));function o(k){if(!u(k))throw new Error("Uint8Array expected");let B="";for(let L=0;L<k.length;L++)B+=i[k[L]];return B}e.bytesToHex=o;const c={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function l(k){if(k>=c._0&&k<=c._9)return k-c._0;if(k>=c._A&&k<=c._F)return k-(c._A-10);if(k>=c._a&&k<=c._f)return k-(c._a-10)}function f(k){if(typeof k!="string")throw new Error("hex string expected, got "+typeof k);const B=k.length,L=B/2;if(B%2)throw new Error("padded hex string expected, got unpadded hex of length "+B);const R=new Uint8Array(L);for(let y=0,_=0;y<L;y++,_+=2){const b=l(k.charCodeAt(_)),w=l(k.charCodeAt(_+1));if(b===void 0||w===void 0){const I=k[_]+k[_+1];throw new Error('hex string expected, got non-hex character "'+I+'" at index '+_)}R[y]=b*16+w}return R}e.hexToBytes=f;const d=async()=>{};e.nextTick=d;async function h(k,B,L){let R=Date.now();for(let y=0;y<k;y++){L(y);const _=Date.now()-R;_>=0&&_<B||(await(0,e.nextTick)(),R+=_)}}e.asyncLoop=h;function v(k){if(typeof k!="string")throw new Error(`utf8ToBytes expected string, got ${typeof k}`);return new Uint8Array(new TextEncoder().encode(k))}e.utf8ToBytes=v;function p(k){if(typeof k=="string"&&(k=v(k)),!u(k))throw new Error(`expected Uint8Array, got ${typeof k}`);return k}e.toBytes=p;function g(...k){let B=0;for(let R=0;R<k.length;R++){const y=k[R];if(!u(y))throw new Error("Uint8Array expected");B+=y.length}const L=new Uint8Array(B);for(let R=0,y=0;R<k.length;R++){const _=k[R];L.set(_,y),y+=_.length}return L}e.concatBytes=g;class E{clone(){return this._cloneInto()}}e.Hash=E;const A={}.toString;function C(k,B){if(B!==void 0&&A.call(B)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(k,B)}e.checkOpts=C;function P(k){const B=R=>k().update(p(R)).digest(),L=k();return B.outputLen=L.outputLen,B.blockLen=L.blockLen,B.create=()=>k(),B}e.wrapConstructor=P;function S(k){const B=(R,y)=>k(y).update(p(R)).digest(),L=k({});return B.outputLen=L.outputLen,B.blockLen=L.blockLen,B.create=R=>k(R),B}e.wrapConstructorWithOpts=S;function N(k){const B=(R,y)=>k(y).update(p(R)).digest(),L=k({});return B.outputLen=L.outputLen,B.blockLen=L.blockLen,B.create=R=>k(R),B}e.wrapXOFConstructorWithOpts=N;function j(k=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(k));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=j}(utils$6)),utils$6}var hasRequired_sha2$1;function require_sha2$1(){if(hasRequired_sha2$1)return _sha2$1;hasRequired_sha2$1=1,Object.defineProperty(_sha2$1,"__esModule",{value:!0}),_sha2$1.SHA2=void 0;const e=require_assert$1(),r=requireUtils$5();function t(u,a,s,i){if(typeof u.setBigUint64=="function")return u.setBigUint64(a,s,i);const o=BigInt(32),c=BigInt(4294967295),l=Number(s>>o&c),f=Number(s&c),d=i?4:0,h=i?0:4;u.setUint32(a+d,l,i),u.setUint32(a+h,f,i)}class n extends r.Hash{constructor(a,s,i,o){super(),this.blockLen=a,this.outputLen=s,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=(0,r.createView)(this.buffer)}update(a){(0,e.exists)(this);const{view:s,buffer:i,blockLen:o}=this;a=(0,r.toBytes)(a);const c=a.length;for(let l=0;l<c;){const f=Math.min(o-this.pos,c-l);if(f===o){const d=(0,r.createView)(a);for(;o<=c-l;l+=o)this.process(d,l);continue}i.set(a.subarray(l,l+f),this.pos),this.pos+=f,l+=f,this.pos===o&&(this.process(s,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){(0,e.exists)(this),(0,e.output)(a,this),this.finished=!0;const{buffer:s,view:i,blockLen:o,isLE:c}=this;let{pos:l}=this;s[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>o-l&&(this.process(i,0),l=0);for(let p=l;p<o;p++)s[p]=0;t(i,o-8,BigInt(this.length*8),c),this.process(i,0);const f=(0,r.createView)(a),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=d/4,v=this.get();if(h>v.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)f.setUint32(4*p,v[p],c)}digest(){const{buffer:a,outputLen:s}=this;this.digestInto(a);const i=a.slice(0,s);return this.destroy(),i}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());const{blockLen:s,buffer:i,length:o,finished:c,destroyed:l,pos:f}=this;return a.length=o,a.pos=f,a.finished=c,a.destroyed=l,o%s&&a.buffer.set(i),a}}return _sha2$1.SHA2=n,_sha2$1}var hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$1;hasRequiredSha256$1=1,Object.defineProperty(sha256$1,"__esModule",{value:!0}),sha256$1.sha224=sha256$1.sha256=void 0;const e=require_sha2$1(),r=requireUtils$5(),t=(c,l,f)=>c&l^~c&f,n=(c,l,f)=>c&l^c&f^l&f,u=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint32Array(64);class i extends e.SHA2{constructor(){super(64,32,8,!1),this.A=a[0]|0,this.B=a[1]|0,this.C=a[2]|0,this.D=a[3]|0,this.E=a[4]|0,this.F=a[5]|0,this.G=a[6]|0,this.H=a[7]|0}get(){const{A:l,B:f,C:d,D:h,E:v,F:p,G:g,H:E}=this;return[l,f,d,h,v,p,g,E]}set(l,f,d,h,v,p,g,E){this.A=l|0,this.B=f|0,this.C=d|0,this.D=h|0,this.E=v|0,this.F=p|0,this.G=g|0,this.H=E|0}process(l,f){for(let P=0;P<16;P++,f+=4)s[P]=l.getUint32(f,!1);for(let P=16;P<64;P++){const S=s[P-15],N=s[P-2],j=(0,r.rotr)(S,7)^(0,r.rotr)(S,18)^S>>>3,k=(0,r.rotr)(N,17)^(0,r.rotr)(N,19)^N>>>10;s[P]=k+s[P-7]+j+s[P-16]|0}let{A:d,B:h,C:v,D:p,E:g,F:E,G:A,H:C}=this;for(let P=0;P<64;P++){const S=(0,r.rotr)(g,6)^(0,r.rotr)(g,11)^(0,r.rotr)(g,25),N=C+S+t(g,E,A)+u[P]+s[P]|0,k=((0,r.rotr)(d,2)^(0,r.rotr)(d,13)^(0,r.rotr)(d,22))+n(d,h,v)|0;C=A,A=E,E=g,g=p+N|0,p=v,v=h,h=d,d=N+k|0}d=d+this.A|0,h=h+this.B|0,v=v+this.C|0,p=p+this.D|0,g=g+this.E|0,E=E+this.F|0,A=A+this.G|0,C=C+this.H|0,this.set(d,h,v,p,g,E,A,C)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class o extends i{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return sha256$1.sha256=(0,r.wrapConstructor)(()=>new i),sha256$1.sha224=(0,r.wrapConstructor)(()=>new o),sha256$1}var signer$3={},hasRequiredSigner$3;function requireSigner$3(){if(hasRequiredSigner$3)return signer$3;hasRequiredSigner$3=1,Object.defineProperty(signer$3,"__esModule",{value:!0}),signer$3.Signer=void 0;class e{}return signer$3.Signer=e,signer$3}var hasRequiredIn_memory_signer$1;function requireIn_memory_signer$1(){if(hasRequiredIn_memory_signer$1)return in_memory_signer$1;hasRequiredIn_memory_signer$1=1,Object.defineProperty(in_memory_signer$1,"__esModule",{value:!0}),in_memory_signer$1.InMemorySigner=void 0;const e=requireCommonjs$h(),r=requireCommonjs$g(),t=requireSha256$1(),n=requireSigner$3();class u extends n.Signer{constructor(i){super();J(this,"keyStore");this.keyStore=i}static async fromKeyPair(i,o,c){const l=new r.InMemoryKeyStore;return await l.setKey(i,o,c),new u(l)}async createKey(i,o,c){const l=c===e.KeyType.SECP256K1?e.KeyPair.fromRandom("secp256k1"):e.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(o,i,l),l.getPublicKey()}async getPublicKey(i,o){const c=await this.keyStore.getKey(o,i);return c===null?null:c.getPublicKey()}async signMessage(i,o,c){const l=new Uint8Array((0,t.sha256)(i));if(!o)throw new Error("InMemorySigner requires provided account id");const f=await this.keyStore.getKey(c,o);if(f===null)throw new Error(`Key for ${o} not found in ${c}`);return f.sign(l)}toString(){return`InMemorySigner(${this.keyStore})`}}return in_memory_signer$1.InMemorySigner=u,in_memory_signer$1}var hasRequiredCommonjs$c;function requireCommonjs$c(){return hasRequiredCommonjs$c||(hasRequiredCommonjs$c=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var r=requireIn_memory_signer$1();Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return r.InMemorySigner}});var t=requireSigner$3();Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return t.Signer}})}(commonjs$b)),commonjs$b}var hasRequiredConnection$3;function requireConnection$3(){if(hasRequiredConnection$3)return connection$3;hasRequiredConnection$3=1,Object.defineProperty(connection$3,"__esModule",{value:!0}),connection$3.Connection=void 0;const e=requireCommonjs$c(),r=requireCommonjs$d();function t(a){switch(a.type){case void 0:return a;case"JsonRpcProvider":return new r.JsonRpcProvider({...a.args});case"FailoverRpcProvider":{const s=((a==null?void 0:a.args)||[]).map(i=>new r.JsonRpcProvider(i));return new r.FailoverRpcProvider(s)}default:throw new Error(`Unknown provider type ${a.type}`)}}function n(a){switch(a.type){case void 0:return a;case"InMemorySigner":return new e.InMemorySigner(a.keyStore);default:throw new Error(`Unknown signer type ${a.type}`)}}class u{constructor(s,i,o,c){J(this,"networkId");J(this,"provider");J(this,"signer");J(this,"jsvmAccountId");this.networkId=s,this.provider=i,this.signer=o,this.jsvmAccountId=c}getConnection(){return this}static fromConfig(s){const i=t(s.provider),o=n(s.signer);return new u(s.networkId,i,o,s.jsvmAccountId)}}return connection$3.Connection=u,connection$3}var contract$3={},localViewExecution$1={},storage$1={},lru$1={exports:{}},lru=lru$1.exports,hasRequiredLru;function requireLru(){return hasRequiredLru||(hasRequiredLru=1,function(e,r){(function(t,n){n(r)})(lru,function(t){const n=Symbol("newer"),u=Symbol("older");class a{constructor(f,d){typeof f!="number"&&(d=f,f=0),this.size=0,this.limit=f,this.oldest=this.newest=void 0,this._keymap=new Map,d&&(this.assign(d),f<1&&(this.limit=this.size))}_markEntryAsUsed(f){f!==this.newest&&(f[n]&&(f===this.oldest&&(this.oldest=f[n]),f[n][u]=f[u]),f[u]&&(f[u][n]=f[n]),f[n]=void 0,f[u]=this.newest,this.newest&&(this.newest[n]=f),this.newest=f)}assign(f){let d,h=this.limit||Number.MAX_VALUE;this._keymap.clear();let v=f[Symbol.iterator]();for(let p=v.next();!p.done;p=v.next()){let g=new s(p.value[0],p.value[1]);if(this._keymap.set(g.key,g),d?(d[n]=g,g[u]=d):this.oldest=g,d=g,h--==0)throw new Error("overflow")}this.newest=d,this.size=this._keymap.size}get(f){var d=this._keymap.get(f);return d?(this._markEntryAsUsed(d),d.value):void 0}set(f,d){var h=this._keymap.get(f);return h?(h.value=d,this._markEntryAsUsed(h),this):(this._keymap.set(f,h=new s(f,d)),this.newest?(this.newest[n]=h,h[u]=this.newest):this.oldest=h,this.newest=h,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var f=this.oldest;if(f)return this.oldest[n]?(this.oldest=this.oldest[n],this.oldest[u]=void 0):(this.oldest=void 0,this.newest=void 0),f[n]=f[u]=void 0,this._keymap.delete(f.key),--this.size,[f.key,f.value]}find(f){let d=this._keymap.get(f);return d?d.value:void 0}has(f){return this._keymap.has(f)}delete(f){var d=this._keymap.get(f);return d?(this._keymap.delete(d.key),d[n]&&d[u]?(d[u][n]=d[n],d[n][u]=d[u]):d[n]?(d[n][u]=void 0,this.oldest=d[n]):d[u]?(d[u][n]=void 0,this.newest=d[u]):this.oldest=this.newest=void 0,this.size--,d.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new o(this.oldest)}values(){return new c(this.oldest)}entries(){return this}[Symbol.iterator](){return new i(this.oldest)}forEach(f,d){typeof d!="object"&&(d=this);let h=this.oldest;for(;h;)f.call(d,h.value,h.key,this),h=h[n]}toJSON(){for(var f=new Array(this.size),d=0,h=this.oldest;h;)f[d++]={key:h.key,value:h.value},h=h[n];return f}toString(){for(var f="",d=this.oldest;d;)f+=String(d.key)+":"+d.value,d=d[n],d&&(f+=" < ");return f}}t.LRUMap=a;function s(l,f){this.key=l,this.value=f,this[n]=void 0,this[u]=void 0}function i(l){this.entry=l}i.prototype[Symbol.iterator]=function(){return this},i.prototype.next=function(){let l=this.entry;return l?(this.entry=l[n],{done:!1,value:[l.key,l.value]}):{done:!0,value:void 0}};function o(l){this.entry=l}o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let l=this.entry;return l?(this.entry=l[n],{done:!1,value:l.key}):{done:!0,value:void 0}};function c(l){this.entry=l}c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let l=this.entry;return l?(this.entry=l[n],{done:!1,value:l.value}):{done:!0,value:void 0}}})}(lru$1,lru$1.exports)),lru$1.exports}var hasRequiredStorage$1;function requireStorage$1(){if(hasRequiredStorage$1)return storage$1;hasRequiredStorage$1=1,Object.defineProperty(storage$1,"__esModule",{value:!0}),storage$1.Storage=void 0;const e=requireLru(),t=class t{constructor(u={max:t.MAX_ELEMENTS}){J(this,"cache");J(this,"blockHeights");this.cache=new e.LRUMap(u.max),this.blockHeights=new Map}load(u){if(!("blockId"in u))return;let s=u.blockId;return s.toString().length==44&&(s=this.blockHeights.get(s.toString())),this.cache.get(s)}save(u,{blockHeight:a,blockTimestamp:s,contractCode:i,contractState:o}){this.blockHeights.set(u,a),this.cache.set(a,{blockHeight:a,blockTimestamp:s,contractCode:i,contractState:o})}};J(t,"MAX_ELEMENTS",100);let r=t;return storage$1.Storage=r,storage$1}var runtime$1={},hasRequiredRuntime$1;function requireRuntime$1(){if(hasRequiredRuntime$1)return runtime$1;hasRequiredRuntime$1=1,Object.defineProperty(runtime$1,"__esModule",{value:!0}),runtime$1.Runtime=void 0;const e=requireSha256$2(),r=u=>()=>{throw new Error("method not implemented: "+u)},t=u=>()=>{throw new Error("method not available for view calls: "+u)};class n{constructor({contractCode:a,...s}){J(this,"context");J(this,"wasm");J(this,"memory");J(this,"registers");J(this,"logs");J(this,"result");this.context=s,this.wasm=this.prepareWASM(Buffer.from(a,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer.from([])}readUTF16CStr(a){const s=[],i=new Uint16Array(this.memory.buffer);let o=Number(a)/2;for(;i[o]!=0;)s.push(i[o]),o++;return Buffer.from(Uint16Array.from(s).buffer).toString("ucs2")}readUTF8CStr(a,s){const i=[],o=new Uint8Array(this.memory.buffer);let c=Number(s);for(let l=0;l<a&&o[c]!=0;l++)i.push(o[c]),c++;return Buffer.from(i).toString("utf8")}storageRead(a,s){const i=Buffer.from(new Uint8Array(this.memory.buffer,Number(s),Number(a))),o=this.context.contractState.filter(c=>Buffer.compare(c.key,i)===0).map(c=>c.value);return o.length===0?null:o.length>1?o:o[0]}prepareWASM(a){const s=[];if(a.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const o=a.readUInt32LE(4);if(o!=1)throw new Error("Invalid version: "+o);let c=8;s.push(a.subarray(0,c));function l(){let p=0,g=0,E;do E=a[c++],p|=(E&127)<<g,g+=7;while(E&128);return p}function f(){const g=a[c++]&1,E=l(),A=g?l():null;return{initial:E,max:A}}function d(){const p=l(),g=a.subarray(c,c+p);return c+=p,g.toString("utf8")}function h(p){const g=[];do{let E=p&127;p>>=7,p!==0&&(E|=128),g.push(E)}while(p!==0);return Buffer.from(g)}function v(p){const g=Buffer.from(p,"utf8");return Buffer.concat([h(g.length),g])}do{const p=c,g=a.readUInt8(c);c++;const E=l(),A=c+E;if(g==5)s.push(Buffer.from([5,1,0]));else if(g==2){const C=[],P=l();for(let j=0;j<P;j++){const k=c;d(),d();const B=a.readUInt8(c);c++;let L=!1;switch(B){case 0:l();break;case 1:c++,f();break;case 2:f(),L=!0;break;case 3:c++,c++;break;default:throw new Error("Invalid import kind: "+B)}L||C.push(a.subarray(k,c))}const S=Buffer.concat([v("env"),v("memory"),Buffer.from([2]),Buffer.from([0]),h(1)]);C.push(S);const N=Buffer.concat([h(C.length),...C]);s.push(Buffer.concat([Buffer.from([2]),h(N.length),N]))}else if(g==7){const C=[],P=l();for(let N=0;N<P;N++){const j=c;d();const k=a.readUInt8(c);c++,l(),k!==2&&C.push(a.subarray(j,c))}const S=Buffer.concat([h(C.length),...C]);s.push(Buffer.concat([Buffer.from([7]),h(S.length),S]))}else s.push(a.subarray(p,A));c=A}while(c<a.length);return Buffer.concat(s)}getRegisterLength(a){return BigInt(this.registers[a.toString()]?this.registers[a.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(a,s){new Uint8Array(this.memory.buffer).set(this.registers[a.toString()]||Buffer.from([]),Number(s))}getCurrentAccountId(a){this.registers[a.toString()]=Buffer.from(this.context.contractId)}inputMethodArgs(a){this.registers[a.toString()]=Buffer.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(a,s,i){const o=new Uint8Array(this.memory.buffer,Number(s),Number(a));this.registers[i.toString()]=(0,e.sha256)(o)}returnValue(a,s){this.result=Buffer.from(new Uint8Array(this.memory.buffer,Number(s),Number(a)))}panic(a){throw new Error("panic: "+a)}abort(a,s,i,o){const c=this.readUTF16CStr(a),l=this.readUTF16CStr(s),f=`${c} ${l}:${i}:${o}`;throw!c||!l?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+f)}appendToLog(a,s){this.logs.push(this.readUTF8CStr(a,s))}readStorage(a,s,i){const o=this.storageRead(a,s);return o==null?0n:(this.registers[i]=o,1n)}hasStorageKey(a,s){return this.storageRead(a,s)==null?0n:1n}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(a,s)=>this.panic(this.readUTF8CStr(a,s)),epoch_height:r("epoch_height"),storage_usage:r("storage_usage"),account_balance:r("account_balance"),account_locked_balance:r("account_locked_balance"),random_seed:r("random_seed"),ripemd160:r("ripemd160"),keccak256:r("keccak256"),keccak512:r("keccak512"),ecrecover:r("ecrecover"),validator_stake:r("validator_stake"),validator_total_stake:r("validator_total_stake"),write_register:t("write_register"),signer_account_id:t("signer_account_id"),signer_account_pk:t("signer_account_pk"),predecessor_account_id:t("predecessor_account_id"),attached_deposit:t("attached_deposit"),prepaid_gas:t("prepaid_gas"),used_gas:t("used_gas"),promise_create:t("promise_create"),promise_then:t("promise_then"),promise_and:t("promise_and"),promise_batch_create:t("promise_batch_create"),promise_batch_then:t("promise_batch_then"),promise_batch_action_create_account:t("promise_batch_action_create_account"),promise_batch_action_deploy_contract:t("promise_batch_action_deploy_contract"),promise_batch_action_function_call:t("promise_batch_action_function_call"),promise_batch_action_function_call_weight:t("promise_batch_action_function_call_weight"),promise_batch_action_transfer:t("promise_batch_action_transfer"),promise_batch_action_stake:t("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:t("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:t("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:t("promise_batch_action_delete_key"),promise_batch_action_delete_account:t("promise_batch_action_delete_account"),promise_results_count:t("promise_results_count"),promise_result:t("promise_result"),promise_return:t("promise_return"),storage_write:t("storage_write"),storage_remove:t("storage_remove")}}async execute(a){const s=await WebAssembly.compile(this.wasm),o=(await WebAssembly.instantiate(s,{env:{...this.getHostImports(),memory:this.memory}})).exports[a];if(o==null)throw new Error(`Contract method '${a}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return o(),{result:this.result,logs:this.logs}}}return runtime$1.Runtime=n,runtime$1}var hasRequiredLocalViewExecution$1;function requireLocalViewExecution$1(){if(hasRequiredLocalViewExecution$1)return localViewExecution$1;hasRequiredLocalViewExecution$1=1,Object.defineProperty(localViewExecution$1,"__esModule",{value:!0}),localViewExecution$1.LocalViewExecution=void 0;const e=requireCommonjs$i(),r=requireStorage$1(),t=requireRuntime$1(),n=requireUtils$6();class u{constructor(s){J(this,"connection");J(this,"storage");this.connection=s.getConnection(),this.storage=new r.Storage}async fetchContractCode(s,i){return(await this.connection.provider.query({request_type:"view_code",account_id:s,...i})).code_base64}async fetchContractState(s,i){return(0,n.viewState)(this.connection,s,"",i)}async fetch(s,i){const o=await this.connection.provider.block(i),c=o.header.hash,l=o.header.height,f=o.header.timestamp,d=await this.fetchContractCode(s,i),h=await this.fetchContractState(s,i);return{blockHash:c,blockHeight:l,blockTimestamp:f,contractCode:d,contractState:h}}async loadOrFetch(s,i){const o=this.storage.load(i);if(o)return o;const{blockHash:c,...l}=await this.fetch(s,i);return this.storage.save(c,l),l}async viewFunction({contractId:s,methodName:i,args:o={},blockQuery:c={finality:"optimistic"}}){const l=JSON.stringify(o),{contractCode:f,contractState:d,blockHeight:h,blockTimestamp:v}=await this.loadOrFetch(s,c),p=new t.Runtime({contractId:s,contractCode:f,contractState:d,blockHeight:h,blockTimestamp:v,methodArgs:l}),{result:g,logs:E}=await p.execute(i);return E&&(0,e.printTxOutcomeLogs)({contractId:s,logs:E}),JSON.parse(Buffer.from(g).toString())}}return localViewExecution$1.LocalViewExecution=u,localViewExecution$1}var isMyJsonValid={exports:{}},isProperty_1,hasRequiredIsProperty;function requireIsProperty(){if(hasRequiredIsProperty)return isProperty_1;hasRequiredIsProperty=1;function e(r){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(r)}return isProperty_1=e,isProperty_1}var generateObjectProperty,hasRequiredGenerateObjectProperty;function requireGenerateObjectProperty(){if(hasRequiredGenerateObjectProperty)return generateObjectProperty;hasRequiredGenerateObjectProperty=1;var e=requireIsProperty(),r=function(t,n){return e(n)?t+"."+n:t+"["+JSON.stringify(n)+"]"};return r.valid=e,r.property=function(t){return e(t)?t:JSON.stringify(t)},generateObjectProperty=r,generateObjectProperty}var util={},types$1={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var u=42;r[t]=u;for(var a in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var s=Object.getOwnPropertySymbols(r);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(r,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(r,t);if(i.value!==u||i.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var e=requireShams$1();return shams=function(){return e()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs$2,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs$2=Math.abs),abs$2}var floor$6,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor$6=Math.floor),floor$6}var max$3,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max$3=Math.max),max$3}var min$4,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min$4=Math.min),min$4}var pow$2,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow$2=Math.pow),pow$2}var round$1,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round$1=Math.round),round$1}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(r){return r!==r}),_isNaN}var sign$1,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$1;hasRequiredSign$1=1;var e=require_isNaN();return sign$1=function(t){return e(t)||t===0?t:t<0?-1:1},sign$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var e=requireGOPD();if(e)try{e([],"length")}catch{e=null}return gopd=e,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return esDefineProperty=e,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var e=typeof Symbol<"u"&&Symbol,r=requireShams$1();return hasSymbols=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var e=requireEsObjectAtoms();return Object_getPrototypeOf=e.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var e="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,t=Math.max,n="[object Function]",u=function(o,c){for(var l=[],f=0;f<o.length;f+=1)l[f]=o[f];for(var d=0;d<c.length;d+=1)l[d+o.length]=c[d];return l},a=function(o,c){for(var l=[],f=c,d=0;f<o.length;f+=1,d+=1)l[d]=o[f];return l},s=function(i,o){for(var c="",l=0;l<i.length;l+=1)c+=i[l],l+1<i.length&&(c+=o);return c};return implementation=function(o){var c=this;if(typeof c!="function"||r.apply(c)!==n)throw new TypeError(e+c);for(var l=a(arguments,1),f,d=function(){if(this instanceof f){var E=c.apply(this,u(l,arguments));return Object(E)===E?E:this}return c.apply(o,u(l,arguments))},h=t(0,c.length-l.length),v=[],p=0;p<h;p++)v[p]="$"+p;if(f=Function("binder","return function ("+s(v,",")+"){ return binder.apply(this,arguments); }")(d),c.prototype){var g=function(){};g.prototype=c.prototype,f.prototype=new g,g.prototype=null}return f},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var e=requireImplementation();return functionBind=Function.prototype.bind||e,functionBind}var functionCall$3,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall$3=Function.prototype.call),functionCall$3}var functionApply$3,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply$3=Function.prototype.apply),functionApply$3}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var e=requireFunctionBind(),r=requireFunctionApply(),t=requireFunctionCall(),n=requireReflectApply();return actualApply=n||e.call(t,r),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var e=requireFunctionBind(),r=requireType(),t=requireFunctionCall(),n=requireActualApply();return callBindApplyHelpers=function(a){if(a.length<1||typeof a[0]!="function")throw new r("a function is required");return n(e,t,a)},callBindApplyHelpers}var get$3,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$3;hasRequiredGet=1;var e=requireCallBindApplyHelpers(),r=requireGopd(),t;try{t=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var n=!!t&&r&&r(Object.prototype,"__proto__"),u=Object,a=u.getPrototypeOf;return get$3=n&&typeof n.get=="function"?e([n.get]):typeof a=="function"?function(i){return a(i==null?i:u(i))}:!1,get$3}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var e=requireReflect_getPrototypeOf(),r=requireObject_getPrototypeOf(),t=requireGet();return getProto=e?function(u){return e(u)}:r?function(u){if(!u||typeof u!="object"&&typeof u!="function")throw new TypeError("getProto: not an object");return r(u)}:t?function(u){return t(u)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var e=Function.prototype.call,r=Object.prototype.hasOwnProperty,t=requireFunctionBind();return hasown=t.call(e,r),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var e,r=requireEsObjectAtoms(),t=requireEsErrors(),n=require_eval(),u=requireRange(),a=requireRef(),s=requireSyntax(),i=requireType(),o=requireUri(),c=requireAbs(),l=requireFloor(),f=requireMax(),d=requireMin(),h=requirePow(),v=requireRound(),p=requireSign$1(),g=Function,E=function(H){try{return g('"use strict"; return ('+H+").constructor;")()}catch{}},A=requireGopd(),C=requireEsDefineProperty(),P=function(){throw new i},S=A?function(){try{return arguments.callee,P}catch{try{return A(arguments,"callee").get}catch{return P}}}():P,N=requireHasSymbols()(),j=requireGetProto(),k=requireObject_getPrototypeOf(),B=requireReflect_getPrototypeOf(),L=requireFunctionApply(),R=requireFunctionCall(),y={},_=typeof Uint8Array>"u"||!j?e:j(Uint8Array),b={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":N&&j?j([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":y,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":N&&j?j(j([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!N||!j?e:j(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":u,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!N||!j?e:j(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":N&&j?j(""[Symbol.iterator]()):e,"%Symbol%":N?Symbol:e,"%SyntaxError%":s,"%ThrowTypeError%":S,"%TypedArray%":_,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":o,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":L,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":k,"%Math.abs%":c,"%Math.floor%":l,"%Math.max%":f,"%Math.min%":d,"%Math.pow%":h,"%Math.round%":v,"%Math.sign%":p,"%Reflect.getPrototypeOf%":B};if(j)try{null.error}catch(H){var w=j(j(H));b["%Error.prototype%"]=w}var I=function H(z){var X;if(z==="%AsyncFunction%")X=E("async function () {}");else if(z==="%GeneratorFunction%")X=E("function* () {}");else if(z==="%AsyncGeneratorFunction%")X=E("async function* () {}");else if(z==="%AsyncGenerator%"){var Q=H("%AsyncGeneratorFunction%");Q&&(X=Q.prototype)}else if(z==="%AsyncIteratorPrototype%"){var re=H("%AsyncGenerator%");re&&j&&(X=j(re.prototype))}return b[z]=X,X},q={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=requireFunctionBind(),x=requireHasown(),m=U.call(R,Array.prototype.concat),T=U.call(L,Array.prototype.splice),W=U.call(R,String.prototype.replace),F=U.call(R,String.prototype.slice),D=U.call(R,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,te=function(z){var X=F(z,0,1),Q=F(z,-1);if(X==="%"&&Q!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(Q==="%"&&X!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var re=[];return W(z,V,function(oe,se,ae,ce){re[re.length]=ae?W(ce,Z,"$1"):se||oe}),re},ee=function(z,X){var Q=z,re;if(x(q,Q)&&(re=q[Q],Q="%"+re[0]+"%"),x(b,Q)){var oe=b[Q];if(oe===y&&(oe=I(Q)),typeof oe>"u"&&!X)throw new i("intrinsic "+z+" exists, but is not available. Please file an issue!");return{alias:re,name:Q,value:oe}}throw new s("intrinsic "+z+" does not exist!")};return getIntrinsic=function(z,X){if(typeof z!="string"||z.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof X!="boolean")throw new i('"allowMissing" argument must be a boolean');if(D(/^%?[^%]*%?$/,z)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Q=te(z),re=Q.length>0?Q[0]:"",oe=ee("%"+re+"%",X),se=oe.name,ae=oe.value,ce=!1,ue=oe.alias;ue&&(re=ue[0],T(Q,m([0,1],ue)));for(var ie=1,he=!0;ie<Q.length;ie+=1){var de=Q[ie],$e=F(de,0,1),pe=F(de,-1);if(($e==='"'||$e==="'"||$e==="`"||pe==='"'||pe==="'"||pe==="`")&&$e!==pe)throw new s("property names with quotes must have matching quotes");if((de==="constructor"||!he)&&(ce=!0),re+="."+de,se="%"+re+"%",x(b,se))ae=b[se];else if(ae!=null){if(!(de in ae)){if(!X)throw new i("base intrinsic for "+z+" exists, but the property is not available.");return}if(A&&ie+1>=Q.length){var ye=A(ae,de);he=!!ye,he&&"get"in ye&&!("originalValue"in ye.get)?ae=ye.get:ae=ae[de]}else he=x(ae,de),ae=ae[de];he&&!ce&&(b[se]=ae)}}return ae},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var e=requireGetIntrinsic(),r=requireCallBindApplyHelpers(),t=r([e("%String.prototype.indexOf%")]);return callBound=function(u,a){var s=e(u,!!a);return typeof s=="function"&&t(u,".prototype.")>-1?r([s]):s},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var e=requireShams()(),r=requireCallBound(),t=r("Object.prototype.toString"),n=function(i){return e&&i&&typeof i=="object"&&Symbol.toStringTag in i?!1:t(i)==="[object Arguments]"},u=function(i){return n(i)?!0:i!==null&&typeof i=="object"&&"length"in i&&typeof i.length=="number"&&i.length>=0&&t(i)!=="[object Array]"&&"callee"in i&&t(i.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=u,isArguments=a?n:u,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var e=requireCallBound(),r=requireShams()(),t=requireHasown(),n=requireGopd(),u;if(r){var a=e("RegExp.prototype.exec"),s={},i=function(){throw s},o={toString:i,valueOf:i};typeof Symbol.toPrimitive=="symbol"&&(o[Symbol.toPrimitive]=i),u=function(d){if(!d||typeof d!="object")return!1;var h=n(d,"lastIndex"),v=h&&t(h,"value");if(!v)return!1;try{a(d,o)}catch(p){return p===s}}}else{var c=e("Object.prototype.toString"),l="[object RegExp]";u=function(d){return!d||typeof d!="object"&&typeof d!="function"?!1:c(d)===l}}return isRegex=u,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var e=requireCallBound(),r=requireIsRegex(),t=e("RegExp.prototype.exec"),n=requireType();return safeRegexTest=function(a){if(!r(a))throw new n("`regex` must be a RegExp");return function(i){return t(a,i)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var e=requireCallBound(),r=requireSafeRegexTest(),t=r(/^\s*(?:function)?\*/),n=requireShams()(),u=requireGetProto(),a=e("Object.prototype.toString"),s=e("Function.prototype.toString"),i=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return isGeneratorFunction=function(l){if(typeof l!="function")return!1;if(t(s(l)))return!0;if(!n){var f=a(l);return f==="[object GeneratorFunction]"}if(!u)return!1;if(typeof o>"u"){var d=i();o=d?u(d):!1}return u(l)===o},isGeneratorFunction}var isCallable$n,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable$n;hasRequiredIsCallable=1;var e=Function.prototype.toString,r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof r=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},r(function(){throw 42},null,t)}catch(A){A!==n&&(r=null)}else r=null;var u=/^\s*class\b/,a=function(C){try{var P=e.call(C);return u.test(P)}catch{return!1}},s=function(C){try{return a(C)?!1:(e.call(C),!0)}catch{return!1}},i=Object.prototype.toString,o="[object Object]",c="[object Function]",l="[object GeneratorFunction]",f="[object HTMLAllCollection]",d="[object HTML document.all class]",h="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,p=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var E=document.all;i.call(E)===i.call(document.all)&&(g=function(C){if((p||!C)&&(typeof C>"u"||typeof C=="object"))try{var P=i.call(C);return(P===f||P===d||P===h||P===o)&&C("")==null}catch{}return!1})}return isCallable$n=r?function(C){if(g(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;try{r(C,null,t)}catch(P){if(P!==n)return!1}return!a(C)&&s(C)}:function(C){if(g(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;if(v)return s(C);if(a(C))return!1;var P=i.call(C);return P!==c&&P!==l&&!/^\[object HTML/.test(P)?!1:s(C)},isCallable$n}var forEach$1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach$1;hasRequiredForEach=1;var e=requireIsCallable(),r=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(o,c,l){for(var f=0,d=o.length;f<d;f++)t.call(o,f)&&(l==null?c(o[f],f,o):c.call(l,o[f],f,o))},u=function(o,c,l){for(var f=0,d=o.length;f<d;f++)l==null?c(o.charAt(f),f,o):c.call(l,o.charAt(f),f,o)},a=function(o,c,l){for(var f in o)t.call(o,f)&&(l==null?c(o[f],f,o):c.call(l,o[f],f,o))};function s(i){return r.call(i)==="[object Array]"}return forEach$1=function(o,c,l){if(!e(c))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=l),s(o)?n(o,c,f):typeof o=="string"?u(o,c,f):a(o,c,f)},forEach$1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var e=requirePossibleTypedArrayNames(),r=globalThis;return availableTypedArrays=function(){for(var n=[],u=0;u<e.length;u++)typeof r[e[u]]=="function"&&(n[n.length]=e[u]);return n},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var e=requireEsDefineProperty(),r=requireSyntax(),t=requireType(),n=requireGopd();return defineDataProperty=function(a,s,i){if(!a||typeof a!="object"&&typeof a!="function")throw new t("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,d=!!n&&n(a,s);if(e)e(a,s,{configurable:l===null&&d?d.configurable:!l,enumerable:o===null&&d?d.enumerable:!o,value:i,writable:c===null&&d?d.writable:!c});else if(f||!o&&!c&&!l)a[s]=i;else throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var e=requireEsDefineProperty(),r=function(){return!!e};return r.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=r,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var e=requireGetIntrinsic(),r=requireDefineDataProperty(),t=requireHasPropertyDescriptors()(),n=requireGopd(),u=requireType(),a=e("%Math.floor%");return setFunctionLength=function(i,o){if(typeof i!="function")throw new u("`fn` is not a function");if(typeof o!="number"||o<0||o>4294967295||a(o)!==o)throw new u("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],l=!0,f=!0;if("length"in i&&n){var d=n(i,"length");d&&!d.configurable&&(l=!1),d&&!d.writable&&(f=!1)}return(l||f||!c)&&(t?r(i,"length",o,!0,!0):r(i,"length",o)),i},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var e=requireFunctionBind(),r=requireFunctionApply(),t=requireActualApply();return applyBind=function(){return t(e,r,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(e){var r=requireSetFunctionLength(),t=requireEsDefineProperty(),n=requireCallBindApplyHelpers(),u=requireApplyBind();e.exports=function(s){var i=n(arguments),o=s.length-(arguments.length-1);return r(i,1+(o>0?o:0),!0)},t?t(e.exports,"apply",{value:u}):e.exports.apply=u}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var e=requireForEach(),r=requireAvailableTypedArrays(),t=requireCallBind(),n=requireCallBound(),u=requireGopd(),a=requireGetProto(),s=n("Object.prototype.toString"),i=requireShams()(),o=globalThis,c=r(),l=n("String.prototype.slice"),f=n("Array.prototype.indexOf",!0)||function(g,E){for(var A=0;A<g.length;A+=1)if(g[A]===E)return A;return-1},d={__proto__:null};i&&u&&a?e(c,function(p){var g=new o[p];if(Symbol.toStringTag in g&&a){var E=a(g),A=u(E,Symbol.toStringTag);if(!A&&E){var C=a(E);A=u(C,Symbol.toStringTag)}d["$"+p]=t(A.get)}}):e(c,function(p){var g=new o[p],E=g.slice||g.set;E&&(d["$"+p]=t(E))});var h=function(g){var E=!1;return e(d,function(A,C){if(!E)try{"$"+A(g)===C&&(E=l(C,1))}catch{}}),E},v=function(g){var E=!1;return e(d,function(A,C){if(!E)try{A(g),E=l(C,1)}catch{}}),E};return whichTypedArray=function(g){if(!g||typeof g!="object")return!1;if(!i){var E=l(s(g),8,-1);return f(c,E)>-1?E:E!=="Object"?!1:v(g)}return u?h(g):null},whichTypedArray}var isTypedArray$2,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray$2;hasRequiredIsTypedArray=1;var e=requireWhichTypedArray();return isTypedArray$2=function(t){return!!e(t)},isTypedArray$2}var hasRequiredTypes$1;function requireTypes$1(){return hasRequiredTypes$1||(hasRequiredTypes$1=1,function(e){var r=requireIsArguments(),t=requireIsGeneratorFunction(),n=requireWhichTypedArray(),u=requireIsTypedArray();function a(ie){return ie.call.bind(ie)}var s=typeof BigInt<"u",i=typeof Symbol<"u",o=a(Object.prototype.toString),c=a(Number.prototype.valueOf),l=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(s)var d=a(BigInt.prototype.valueOf);if(i)var h=a(Symbol.prototype.valueOf);function v(ie,he){if(typeof ie!="object")return!1;try{return he(ie),!0}catch{return!1}}e.isArgumentsObject=r,e.isGeneratorFunction=t,e.isTypedArray=u;function p(ie){return typeof Promise<"u"&&ie instanceof Promise||ie!==null&&typeof ie=="object"&&typeof ie.then=="function"&&typeof ie.catch=="function"}e.isPromise=p;function g(ie){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ie):u(ie)||F(ie)}e.isArrayBufferView=g;function E(ie){return n(ie)==="Uint8Array"}e.isUint8Array=E;function A(ie){return n(ie)==="Uint8ClampedArray"}e.isUint8ClampedArray=A;function C(ie){return n(ie)==="Uint16Array"}e.isUint16Array=C;function P(ie){return n(ie)==="Uint32Array"}e.isUint32Array=P;function S(ie){return n(ie)==="Int8Array"}e.isInt8Array=S;function N(ie){return n(ie)==="Int16Array"}e.isInt16Array=N;function j(ie){return n(ie)==="Int32Array"}e.isInt32Array=j;function k(ie){return n(ie)==="Float32Array"}e.isFloat32Array=k;function B(ie){return n(ie)==="Float64Array"}e.isFloat64Array=B;function L(ie){return n(ie)==="BigInt64Array"}e.isBigInt64Array=L;function R(ie){return n(ie)==="BigUint64Array"}e.isBigUint64Array=R;function y(ie){return o(ie)==="[object Map]"}y.working=typeof Map<"u"&&y(new Map);function _(ie){return typeof Map>"u"?!1:y.working?y(ie):ie instanceof Map}e.isMap=_;function b(ie){return o(ie)==="[object Set]"}b.working=typeof Set<"u"&&b(new Set);function w(ie){return typeof Set>"u"?!1:b.working?b(ie):ie instanceof Set}e.isSet=w;function I(ie){return o(ie)==="[object WeakMap]"}I.working=typeof WeakMap<"u"&&I(new WeakMap);function q(ie){return typeof WeakMap>"u"?!1:I.working?I(ie):ie instanceof WeakMap}e.isWeakMap=q;function U(ie){return o(ie)==="[object WeakSet]"}U.working=typeof WeakSet<"u"&&U(new WeakSet);function x(ie){return U(ie)}e.isWeakSet=x;function m(ie){return o(ie)==="[object ArrayBuffer]"}m.working=typeof ArrayBuffer<"u"&&m(new ArrayBuffer);function T(ie){return typeof ArrayBuffer>"u"?!1:m.working?m(ie):ie instanceof ArrayBuffer}e.isArrayBuffer=T;function W(ie){return o(ie)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function F(ie){return typeof DataView>"u"?!1:W.working?W(ie):ie instanceof DataView}e.isDataView=F;var D=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function V(ie){return o(ie)==="[object SharedArrayBuffer]"}function Z(ie){return typeof D>"u"?!1:(typeof V.working>"u"&&(V.working=V(new D)),V.working?V(ie):ie instanceof D)}e.isSharedArrayBuffer=Z;function te(ie){return o(ie)==="[object AsyncFunction]"}e.isAsyncFunction=te;function ee(ie){return o(ie)==="[object Map Iterator]"}e.isMapIterator=ee;function H(ie){return o(ie)==="[object Set Iterator]"}e.isSetIterator=H;function z(ie){return o(ie)==="[object Generator]"}e.isGeneratorObject=z;function X(ie){return o(ie)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=X;function Q(ie){return v(ie,c)}e.isNumberObject=Q;function re(ie){return v(ie,l)}e.isStringObject=re;function oe(ie){return v(ie,f)}e.isBooleanObject=oe;function se(ie){return s&&v(ie,d)}e.isBigIntObject=se;function ae(ie){return i&&v(ie,h)}e.isSymbolObject=ae;function ce(ie){return Q(ie)||re(ie)||oe(ie)||se(ie)||ae(ie)}e.isBoxedPrimitive=ce;function ue(ie){return typeof Uint8Array<"u"&&(T(ie)||Z(ie))}e.isAnyArrayBuffer=ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ie){Object.defineProperty(e,ie,{enumerable:!1,value:function(){throw new Error(ie+" is not supported in userland")}})})}(types$1)),types$1}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(e){var r={},t=Object.getOwnPropertyDescriptors||function(D){for(var V=Object.keys(D),Z={},te=0;te<V.length;te++)Z[V[te]]=Object.getOwnPropertyDescriptor(D,V[te]);return Z},n=/%[sdj%]/g;e.format=function(F){if(!N(F)){for(var D=[],V=0;V<arguments.length;V++)D.push(i(arguments[V]));return D.join(" ")}for(var V=1,Z=arguments,te=Z.length,ee=String(F).replace(n,function(z){if(z==="%%")return"%";if(V>=te)return z;switch(z){case"%s":return String(Z[V++]);case"%d":return Number(Z[V++]);case"%j":try{return JSON.stringify(Z[V++])}catch{return"[Circular]"}default:return z}}),H=Z[V];V<te;H=Z[++V])C(H)||!L(H)?ee+=" "+H:ee+=" "+i(H);return ee},e.deprecate=function(F,D){if(typeof process<"u"&&process.noDeprecation===!0)return F;if(typeof process>"u")return function(){return e.deprecate(F,D).apply(this,arguments)};var V=!1;function Z(){if(!V){if(process.throwDeprecation)throw new Error(D);process.traceDeprecation?console.trace(D):console.error(D),V=!0}return F.apply(this,arguments)}return Z};var u={},a=/^$/;if(r.NODE_DEBUG){var s=r.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+s+"$","i")}e.debuglog=function(F){if(F=F.toUpperCase(),!u[F])if(a.test(F)){var D=process.pid;u[F]=function(){var V=e.format.apply(e,arguments);console.error("%s %d: %s",F,D,V)}}else u[F]=function(){};return u[F]};function i(F,D){var V={seen:[],stylize:c};return arguments.length>=3&&(V.depth=arguments[2]),arguments.length>=4&&(V.colors=arguments[3]),A(D)?V.showHidden=D:D&&e._extend(V,D),k(V.showHidden)&&(V.showHidden=!1),k(V.depth)&&(V.depth=2),k(V.colors)&&(V.colors=!1),k(V.customInspect)&&(V.customInspect=!0),V.colors&&(V.stylize=o),f(V,F,V.depth)}e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(F,D){var V=i.styles[D];return V?"\x1B["+i.colors[V][0]+"m"+F+"\x1B["+i.colors[V][1]+"m":F}function c(F,D){return F}function l(F){var D={};return F.forEach(function(V,Z){D[V]=!0}),D}function f(F,D,V){if(F.customInspect&&D&&_(D.inspect)&&D.inspect!==e.inspect&&!(D.constructor&&D.constructor.prototype===D)){var Z=D.inspect(V,F);return N(Z)||(Z=f(F,Z,V)),Z}var te=d(F,D);if(te)return te;var ee=Object.keys(D),H=l(ee);if(F.showHidden&&(ee=Object.getOwnPropertyNames(D)),y(D)&&(ee.indexOf("message")>=0||ee.indexOf("description")>=0))return h(D);if(ee.length===0){if(_(D)){var z=D.name?": "+D.name:"";return F.stylize("[Function"+z+"]","special")}if(B(D))return F.stylize(RegExp.prototype.toString.call(D),"regexp");if(R(D))return F.stylize(Date.prototype.toString.call(D),"date");if(y(D))return h(D)}var X="",Q=!1,re=["{","}"];if(E(D)&&(Q=!0,re=["[","]"]),_(D)){var oe=D.name?": "+D.name:"";X=" [Function"+oe+"]"}if(B(D)&&(X=" "+RegExp.prototype.toString.call(D)),R(D)&&(X=" "+Date.prototype.toUTCString.call(D)),y(D)&&(X=" "+h(D)),ee.length===0&&(!Q||D.length==0))return re[0]+X+re[1];if(V<0)return B(D)?F.stylize(RegExp.prototype.toString.call(D),"regexp"):F.stylize("[Object]","special");F.seen.push(D);var se;return Q?se=v(F,D,V,H,ee):se=ee.map(function(ae){return p(F,D,V,H,ae,Q)}),F.seen.pop(),g(se,X,re)}function d(F,D){if(k(D))return F.stylize("undefined","undefined");if(N(D)){var V="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(V,"string")}if(S(D))return F.stylize(""+D,"number");if(A(D))return F.stylize(""+D,"boolean");if(C(D))return F.stylize("null","null")}function h(F){return"["+Error.prototype.toString.call(F)+"]"}function v(F,D,V,Z,te){for(var ee=[],H=0,z=D.length;H<z;++H)x(D,String(H))?ee.push(p(F,D,V,Z,String(H),!0)):ee.push("");return te.forEach(function(X){X.match(/^\d+$/)||ee.push(p(F,D,V,Z,X,!0))}),ee}function p(F,D,V,Z,te,ee){var H,z,X;if(X=Object.getOwnPropertyDescriptor(D,te)||{value:D[te]},X.get?X.set?z=F.stylize("[Getter/Setter]","special"):z=F.stylize("[Getter]","special"):X.set&&(z=F.stylize("[Setter]","special")),x(Z,te)||(H="["+te+"]"),z||(F.seen.indexOf(X.value)<0?(C(V)?z=f(F,X.value,null):z=f(F,X.value,V-1),z.indexOf(`
`)>-1&&(ee?z=z.split(`
`).map(function(Q){return"  "+Q}).join(`
`).slice(2):z=`
`+z.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):z=F.stylize("[Circular]","special")),k(H)){if(ee&&te.match(/^\d+$/))return z;H=JSON.stringify(""+te),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=F.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=F.stylize(H,"string"))}return H+": "+z}function g(F,D,V){var Z=F.reduce(function(te,ee){return ee.indexOf(`
`)>=0,te+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Z>60?V[0]+(D===""?"":D+`
 `)+" "+F.join(`,
  `)+" "+V[1]:V[0]+D+" "+F.join(", ")+" "+V[1]}e.types=requireTypes$1();function E(F){return Array.isArray(F)}e.isArray=E;function A(F){return typeof F=="boolean"}e.isBoolean=A;function C(F){return F===null}e.isNull=C;function P(F){return F==null}e.isNullOrUndefined=P;function S(F){return typeof F=="number"}e.isNumber=S;function N(F){return typeof F=="string"}e.isString=N;function j(F){return typeof F=="symbol"}e.isSymbol=j;function k(F){return F===void 0}e.isUndefined=k;function B(F){return L(F)&&w(F)==="[object RegExp]"}e.isRegExp=B,e.types.isRegExp=B;function L(F){return typeof F=="object"&&F!==null}e.isObject=L;function R(F){return L(F)&&w(F)==="[object Date]"}e.isDate=R,e.types.isDate=R;function y(F){return L(F)&&(w(F)==="[object Error]"||F instanceof Error)}e.isError=y,e.types.isNativeError=y;function _(F){return typeof F=="function"}e.isFunction=_;function b(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}e.isPrimitive=b,e.isBuffer=requireIsBufferBrowser();function w(F){return Object.prototype.toString.call(F)}function I(F){return F<10?"0"+F.toString(10):F.toString(10)}var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(){var F=new Date,D=[I(F.getHours()),I(F.getMinutes()),I(F.getSeconds())].join(":");return[F.getDate(),q[F.getMonth()],D].join(" ")}e.log=function(){console.log("%s - %s",U(),e.format.apply(e,arguments))},e.inherits=requireInherits_browser(),e._extend=function(F,D){if(!D||!L(D))return F;for(var V=Object.keys(D),Z=V.length;Z--;)F[V[Z]]=D[V[Z]];return F};function x(F,D){return Object.prototype.hasOwnProperty.call(F,D)}var m=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');if(m&&D[m]){var V=D[m];if(typeof V!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(V,m,{value:V,enumerable:!1,writable:!1,configurable:!0}),V}function V(){for(var Z,te,ee=new Promise(function(X,Q){Z=X,te=Q}),H=[],z=0;z<arguments.length;z++)H.push(arguments[z]);H.push(function(X,Q){X?te(X):Z(Q)});try{D.apply(this,H)}catch(X){te(X)}return ee}return Object.setPrototypeOf(V,Object.getPrototypeOf(D)),m&&Object.defineProperty(V,m,{value:V,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(V,t(D))},e.promisify.custom=m;function T(F,D){if(!F){var V=new Error("Promise was rejected with a falsy value");V.reason=F,F=V}return D(F)}function W(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function D(){for(var V=[],Z=0;Z<arguments.length;Z++)V.push(arguments[Z]);var te=V.pop();if(typeof te!="function")throw new TypeError("The last argument must be of type Function");var ee=this,H=function(){return te.apply(ee,arguments)};F.apply(this,V).then(function(z){process.nextTick(H.bind(null,null,z))},function(z){process.nextTick(T.bind(null,z,H))})}return Object.setPrototypeOf(D,Object.getPrototypeOf(F)),Object.defineProperties(D,t(F)),D}e.callbackify=W}(util)),util}var generateFunction,hasRequiredGenerateFunction;function requireGenerateFunction(){if(hasRequiredGenerateFunction)return generateFunction;hasRequiredGenerateFunction=1;for(var e=requireUtil(),r=requireIsProperty(),t=/[\{\[]/,n=/[\}\]]/,u=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],a={},s=0;s<u.length;s++)a[u[s]]=!0;var i=function(l){return r(l)&&!a.hasOwnProperty(l)},o={s:function(l){return""+l},d:function(l){return""+Number(l)},o:function(l){return JSON.stringify(l)}},c=function(){var l=[],f=0,d={},h=function(g){for(var E="";E.length<f*2;)E+="  ";l.push(E+g)},v=function(g){if(n.test(g.trim()[0])&&t.test(g[g.length-1])){f--,h(g),f++;return}if(t.test(g[g.length-1])){h(g),f++;return}if(n.test(g.trim()[0])){f--,h(g);return}h(g)},p=function(g){if(!g)return p;if(arguments.length===1&&g.indexOf(`
`)>-1)for(var E=g.trim().split(`
`),A=0;A<E.length;A++)v(E[A].trim());else v(e.format.apply(e,arguments));return p};return p.scope={},p.formats=o,p.sym=function(g){return(!g||!i(g))&&(g="tmp"),d[g]||(d[g]=0),g+(d[g]++||"")},p.property=function(g,E){return arguments.length===1&&(E=g,g=""),E=E+"",r(E)?g?g+"."+E:E:g?g+"["+JSON.stringify(E)+"]":JSON.stringify(E)},p.toString=function(){return l.join(`
`)},p.toFunction=function(g){g||(g={});var E="return ("+p.toString()+")";Object.keys(p.scope).forEach(function(P){g[P]||(g[P]=p.scope[P])});var A=Object.keys(g).map(function(P){return P}),C=A.map(function(P){return g[P]});return Function.apply(null,A.concat(E)).apply(null,C)},arguments.length&&p.apply(null,arguments),p};return c.formats=o,generateFunction=c,generateFunction}var jsonpointer={},hasRequiredJsonpointer;function requireJsonpointer(){if(hasRequiredJsonpointer)return jsonpointer;hasRequiredJsonpointer=1;var e=/~/,r=/~[01]/g;function t(c){switch(c){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+c)}function n(c){return e.test(c)?c.replace(r,t):c}function u(c,l,f){for(var d,h,v=1,p=l.length;v<p;){if(l[v]==="constructor"||l[v]==="prototype"||l[v]==="__proto__")return c;if(d=n(l[v++]),h=p>v,typeof c[d]>"u"&&(Array.isArray(c)&&d==="-"&&(d=c.length),h&&(l[v]!==""&&l[v]<1/0||l[v]==="-"?c[d]=[]:c[d]={})),!h)break;c=c[d]}var g=c[d];return f===void 0?delete c[d]:c[d]=f,g}function a(c){if(typeof c=="string"){if(c=c.split("/"),c[0]==="")return c;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(c)){for(const l of c)if(typeof l!="string"&&typeof l!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return c}throw new Error("Invalid JSON pointer.")}function s(c,l){if(typeof c!="object")throw new Error("Invalid input object.");l=a(l);var f=l.length;if(f===1)return c;for(var d=1;d<f;){if(c=c[n(l[d++])],f===d)return c;if(typeof c!="object"||c===null)return}}function i(c,l,f){if(typeof c!="object")throw new Error("Invalid input object.");if(l=a(l),l.length===0)throw new Error("Invalid JSON pointer for set.");return u(c,l,f)}function o(c){var l=a(c);return{get:function(f){return s(f,l)},set:function(f,d){return i(f,l,d)}}}return jsonpointer.get=s,jsonpointer.set=i,jsonpointer.compile=o,jsonpointer}var immutable,hasRequiredImmutable;function requireImmutable(){if(hasRequiredImmutable)return immutable;hasRequiredImmutable=1,immutable=r;var e=Object.prototype.hasOwnProperty;function r(){for(var t={},n=0;n<arguments.length;n++){var u=arguments[n];for(var a in u)e.call(u,a)&&(t[a]=u[a])}return t}return immutable}var formats={},isMyIpValid={exports:{}},hasRequiredIsMyIpValid;function requireIsMyIpValid(){return hasRequiredIsMyIpValid||(hasRequiredIsMyIpValid=1,function(e){var r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t=/\/\d{1,3}(?=%|$)/,n=/\//,u=/%.*$/,a=/([^0-9a-f:/%])/i,s=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function i(l){if(!r.test(l))return!1;var f=l.split(".");if(f.length!==4||f[0][0]==="0"&&f[0].length>1||f[1][0]==="0"&&f[1].length>1||f[2][0]==="0"&&f[2].length>1||f[3][0]==="0"&&f[3].length>1)return!1;var d=Number(f[0]),h=Number(f[1]),v=Number(f[2]),p=Number(f[3]);return d>=0&&d<256&&h>=0&&h<256&&v>=0&&v<256&&p>=0&&p<256}function o(l){var f=l.replace(t,""),d=l.length!==f.length;if(d||!d&&n.test(l))return!1;var h=f.replace(u,""),v=h.lastIndexOf(":");if(v===-1)return!1;var p=h.substring(v+1),g=i(p),E=g?h.substring(0,v+1)+"1234:5678":h;if(a.test(E)||s.test(E))return!1;var A=E.split("::");if(A.length>2)return!1;if(A.length===2){var C=A[0]===""?[]:A[0].split(":"),P=A[1]===""?[]:A[1].split(":"),S=8-(C.length+P.length);if(S<=0)return!1}else if(E.split(":").length!==8)return!1;return!0}function c(l){return i(l)||o(l)}e.exports=function(f){if(f||(f={}),f.version===4)return i;if(f.version===6)return o;if(f.version==null)return c;throw new Error("Unknown version: "+f.version)},e.exports.__all_regexes__=[r,t,n,u,a,s]}(isMyIpValid)),isMyIpValid.exports}var hasRequiredFormats;function requireFormats(){return hasRequiredFormats||(hasRequiredFormats=1,function(e){var r=requireIsMyIpValid(),t=/\s/,n=/^[a-zA-Z0-9.-]+$/,u=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,a=/^\+[0-9][0-9 ]{5,27}[0-9]$/,s=/ {2}/,i=/ /g;e["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,e.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,e.time=/^\d{2}:\d{2}:\d{2}$/,e.email=function(o){return o.indexOf("@")!==-1&&!t.test(o)},e["ip-address"]=e.ipv4=r({version:4}),e.ipv6=r({version:6}),e.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,e.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,e.hostname=function(o){if(!n.test(o))return!1;for(var c=o.split("."),l=0;l<c.length;l++)if(!u.test(c[l]))return!1;return!0},e.alpha=/^[a-zA-Z]+$/,e.alphanumeric=/^[a-zA-Z0-9]+$/,e.style=/.:\s*[^;]/g,e.phone=function(o){if(!a.test(o)||s.test(o))return!1;var c=o.substring(1).replace(i,"").length;return c>=7&&c<=15},e["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/}(formats)),formats}isMyJsonValid.exports;var hasRequiredIsMyJsonValid;function requireIsMyJsonValid(){return hasRequiredIsMyJsonValid||(hasRequiredIsMyJsonValid=1,function(e){var r=requireGenerateObjectProperty(),t=requireGenerateFunction(),n=requireJsonpointer(),u=requireImmutable(),a=requireFormats(),s=function(d,h,v){var p=function(S){return S&&S.id===v?S:typeof S!="object"||!S?null:Object.keys(S).reduce(function(N,j){return N||p(S[j])},null)},g=p(d);if(g)return g;v=v.replace(/^#/,""),v=v.replace(/\/$/,"");try{return n.get(d,decodeURI(v))}catch{var E=v.indexOf("#"),A;if(E!==0)if(E===-1)A=h[v];else{var C=v.slice(0,E);A=h[C];var P=v.slice(E).replace(/^#/,"");try{return n.get(A,P)}catch{}}else A=h[v];return A||null}},i={};i.any=function(){return"true"},i.null=function(d){return d+" === null"},i.boolean=function(d){return"typeof "+d+' === "boolean"'},i.array=function(d){return"Array.isArray("+d+")"},i.object=function(d){return"typeof "+d+' === "object" && '+d+" && !Array.isArray("+d+")"},i.number=function(d){return"typeof "+d+' === "number" && isFinite('+d+")"},i.integer=function(d){return"typeof "+d+' === "number" && (Math.floor('+d+") === "+d+" || "+d+" > 9007199254740992 || "+d+" < -9007199254740992)"},i.string=function(d){return"typeof "+d+' === "string"'};var o=function(d,h){h=Math.min(h===-1?d.length:h,d.length);for(var v=[],p=0;p<h;p++)v.push(typeof d[p]=="object"?JSON.stringify(d[p]):d[p]);for(var p=1;p<v.length;p++)if(v.indexOf(v[p])!==p)return!1;return!0},c=function(d,h){var v,p=(h|0)!==h?Math.pow(10,h.toString().split(".").pop().length):1;if(p>1){var g=(d|0)!==d?Math.pow(10,d.toString().split(".").pop().length):1;g>p?v=!0:v=Math.round(p*d)%(p*h)}else v=d%h;return!v},l=function(d,h,v){return v>-1&&h.length>v?!0:d.test(h)},f=function(d,h,v,p,g){var E=g?u(a,g.formats):a,A={unique:o,formats:E,isMultipleOf:c,testLimitedRegex:l},C=g?!!g.verbose:!1,P=g&&g.greedy!==void 0?g.greedy:!1,S={},N=[],j=function(w){var I=w+(S[w]=(S[w]||0)+1);return N.push(I),I},k=function(w){var I=JSON.stringify(w);try{for(var q=/\[([^\[\]"]+)\]/;q.test(I);)I=I.replace(q,U);return I}catch{return JSON.stringify(w)}function U(x,m){if(N.indexOf(m)===-1)throw new Error("Unreplaceable");return'." + '+m+' + "'}},B={},L=function(w){if(B[w])return B[w];var I=j("pattern");return A[I]=new RegExp(w),B[w]=I,I},R=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],y=function(){var w=R.shift();return R.push(w+w[0]),N.push(w),w},_=function(w,I,q,U,x){var m=I.properties,T=I.type,W=!1;Array.isArray(I.items)&&(m={},I.items.forEach(function(he,de){m[de]=he}),T="array",W=!0);var F=0,D=function(he,de,$e){b("errors++"),q===!0&&(b("if (validate.errors === null) validate.errors = []"),C?b("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",k(de||w),JSON.stringify(he),$e||w,JSON.stringify(T),JSON.stringify(x)):b("validate.errors.push({field:%s,message:%s})",k(de||w),JSON.stringify(he)))};I.required===!0?(F++,b("if (%s === undefined) {",w),D("is required"),b("} else {")):(F++,b("if (%s !== undefined) {",w));var V=[].concat(T).map(function(he){if(he&&!i.hasOwnProperty(he))throw new Error("Unknown type: "+he);return i[he||"any"](w)}).join(" || ")||"true";if(V!=="true"&&(F++,b("if (!(%s)) {",V),D("is the wrong type"),b("} else {")),W){if(I.additionalItems===!1)b("if (%s.length > %d) {",w,I.items.length),D("has additional items"),b("}");else if(I.additionalItems){var Z=y();b("for (var %s = %d; %s < %s.length; %s++) {",Z,I.items.length,Z,w,Z),_(w+"["+Z+"]",I.additionalItems,q,U,x.concat("additionalItems")),b("}")}}if(I.format&&E[I.format]){T!=="string"&&a[I.format]&&b("if (%s) {",i.string(w));var te=j("format");A[te]=E[I.format],typeof A[te]=="function"?b("if (!%s(%s)) {",te,w):b("if (!testLimitedRegex(%s, %s, %d)) {",te,w,typeof I.maxLength>"u"?-1:I.maxLength),D("must be "+I.format+" format"),b("}"),T!=="string"&&a[I.format]&&b("}")}if(Array.isArray(I.required)){var te=j("missing");b("var %s = 0",te);var ee=function(de){var $e=r(w,de);b("if (%s === undefined) {",$e),D("is required",$e),b("%s++",te),b("}")};b("if ((%s)) {",T!=="object"?i.object(w):"true"),I.required.map(ee),b("}"),P||(b("if (%s === 0) {",te),F++)}if(I.uniqueItems&&(T!=="array"&&b("if (%s) {",i.array(w)),b("if (!(unique(%s, %d))) {",w,I.maxItems||-1),D("must be unique"),b("}"),T!=="array"&&b("}")),I.enum){var H=I.enum.some(function(he){return typeof he=="object"}),z=H?function(he){return"JSON.stringify("+w+") !== JSON.stringify("+JSON.stringify(he)+")"}:function(he){return w+" !== "+JSON.stringify(he)};b("if (%s) {",I.enum.map(z).join(" && ")||"false"),D("must be an enum value"),b("}")}if(I.dependencies&&(T!=="object"&&b("if (%s) {",i.object(w)),Object.keys(I.dependencies).forEach(function(he){var de=I.dependencies[he];typeof de=="string"&&(de=[de]);var $e=function(pe){return r(w,pe)+" !== undefined"};Array.isArray(de)&&(b("if (%s !== undefined && !(%s)) {",r(w,he),de.map($e).join(" && ")||"true"),D("dependencies not set"),b("}")),typeof de=="object"&&(b("if (%s !== undefined) {",r(w,he)),_(w,de,q,U,x.concat(["dependencies",he])),b("}"))}),T!=="object"&&b("}")),I.additionalProperties||I.additionalProperties===!1){T!=="object"&&b("if (%s) {",i.object(w));var Z=y(),X=j("keys"),Q=function(de){return X+"["+Z+"] !== "+JSON.stringify(de)},re=function(de){return"!"+L(de)+".test("+X+"["+Z+"])"},oe=Object.keys(m||{}).map(Q).concat(Object.keys(I.patternProperties||{}).map(re)).join(" && ")||"true";b("var %s = Object.keys(%s)",X,w)("for (var %s = 0; %s < %s.length; %s++) {",Z,Z,X,Z)("if (%s) {",oe),I.additionalProperties===!1?(U&&b("delete %s",w+"["+X+"["+Z+"]]"),D("has additional properties",null,JSON.stringify(w+".")+" + "+X+"["+Z+"]")):_(w+"["+X+"["+Z+"]]",I.additionalProperties,q,U,x.concat(["additionalProperties"])),b("}")("}"),T!=="object"&&b("}")}if(I.$ref){var se=s(v,g&&g.schemas||{},I.$ref);if(se){var ae=h[I.$ref];ae||(h[I.$ref]=function($e){return ae($e)},ae=f(se,h,v,!1,g));var te=j("ref");A[te]=ae,b("if (!(%s(%s))) {",te,w),D("referenced schema does not match"),b("}")}}if(I.not){var ce=j("prev");b("var %s = errors",ce),_(w,I.not,!1,U,x.concat("not")),b("if (%s === errors) {",ce),D("negative schema matches"),b("} else {")("errors = %s",ce)("}")}if(I.items&&!W){T!=="array"&&b("if (%s) {",i.array(w));var Z=y();b("for (var %s = 0; %s < %s.length; %s++) {",Z,Z,w,Z),_(w+"["+Z+"]",I.items,q,U,x.concat("items")),b("}"),T!=="array"&&b("}")}if(I.patternProperties){T!=="object"&&b("if (%s) {",i.object(w));var X=j("keys"),Z=y();b("var %s = Object.keys(%s)",X,w)("for (var %s = 0; %s < %s.length; %s++) {",Z,Z,X,Z),Object.keys(I.patternProperties).forEach(function($e){var pe=L($e);b("if (%s.test(%s)) {",pe,X+"["+Z+"]"),_(w+"["+X+"["+Z+"]]",I.patternProperties[$e],q,U,x.concat(["patternProperties",$e])),b("}")}),b("}"),T!=="object"&&b("}")}if(I.pattern){var ue=L(I.pattern);T!=="string"&&b("if (%s) {",i.string(w)),b("if (!(testLimitedRegex(%s, %s, %d))) {",ue,w,typeof I.maxLength>"u"?-1:I.maxLength),D("pattern mismatch"),b("}"),T!=="string"&&b("}")}if(I.allOf&&I.allOf.forEach(function(he,de){_(w,he,q,U,x.concat(["allOf",de]))}),I.anyOf&&I.anyOf.length){var ce=j("prev");I.anyOf.forEach(function(de,$e){$e===0?b("var %s = errors",ce):b("if (errors !== %s) {",ce)("errors = %s",ce),_(w,de,!1,!1,x)}),I.anyOf.forEach(function(de,$e){$e&&b("}")}),b("if (%s !== errors) {",ce),D("no schemas match"),b("}")}if(I.oneOf&&I.oneOf.length){var ce=j("prev"),ie=j("passes");b("var %s = errors",ce)("var %s = 0",ie),I.oneOf.forEach(function(de,$e){_(w,de,!1,!1,x),b("if (%s === errors) {",ce)("%s++",ie)("} else {")("errors = %s",ce)("}")}),b("if (%s !== 1) {",ie),D("no (or more than one) schemas match"),b("}")}for(I.multipleOf!==void 0&&(T!=="number"&&T!=="integer"&&b("if (%s) {",i.number(w)),b("if (!isMultipleOf(%s, %d)) {",w,I.multipleOf),D("has a remainder"),b("}"),T!=="number"&&T!=="integer"&&b("}")),I.maxProperties!==void 0&&(T!=="object"&&b("if (%s) {",i.object(w)),b("if (Object.keys(%s).length > %d) {",w,I.maxProperties),D("has more properties than allowed"),b("}"),T!=="object"&&b("}")),I.minProperties!==void 0&&(T!=="object"&&b("if (%s) {",i.object(w)),b("if (Object.keys(%s).length < %d) {",w,I.minProperties),D("has less properties than allowed"),b("}"),T!=="object"&&b("}")),I.maxItems!==void 0&&(T!=="array"&&b("if (%s) {",i.array(w)),b("if (%s.length > %d) {",w,I.maxItems),D("has more items than allowed"),b("}"),T!=="array"&&b("}")),I.minItems!==void 0&&(T!=="array"&&b("if (%s) {",i.array(w)),b("if (%s.length < %d) {",w,I.minItems),D("has less items than allowed"),b("}"),T!=="array"&&b("}")),I.maxLength!==void 0&&(T!=="string"&&b("if (%s) {",i.string(w)),b("if (%s.length > %d) {",w,I.maxLength),D("has longer length than allowed"),b("}"),T!=="string"&&b("}")),I.minLength!==void 0&&(T!=="string"&&b("if (%s) {",i.string(w)),b("if (%s.length < %d) {",w,I.minLength),D("has less length than allowed"),b("}"),T!=="string"&&b("}")),I.minimum!==void 0&&(T!=="number"&&T!=="integer"&&b("if (%s) {",i.number(w)),b("if (%s %s %d) {",w,I.exclusiveMinimum?"<=":"<",I.minimum),D("is less than minimum"),b("}"),T!=="number"&&T!=="integer"&&b("}")),I.maximum!==void 0&&(T!=="number"&&T!=="integer"&&b("if (%s) {",i.number(w)),b("if (%s %s %d) {",w,I.exclusiveMaximum?">=":">",I.maximum),D("is more than maximum"),b("}"),T!=="number"&&T!=="integer"&&b("}")),m&&Object.keys(m).forEach(function(he){Array.isArray(T)&&T.indexOf("null")!==-1&&b("if (%s !== null) {",w),_(r(w,he),m[he],q,U,x.concat(W?he:["properties",he])),Array.isArray(T)&&T.indexOf("null")!==-1&&b("}")});F--;)b("}")},b=t("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return _("data",d,p,g&&g.filter,[]),b("return errors === 0")("}"),b=b.toFunction(A),b.errors=null,Object.defineProperty&&Object.defineProperty(b,"error",{get:function(){return b.errors?b.errors.map(function(w){return w.field+" "+w.message}).join(`
`):""}}),b.toJSON=function(){return d},b};e.exports=function(d,h){return typeof d=="string"&&(d=JSON.parse(d)),f(d,{},d,!0,h)},e.exports.filter=function(d,h){var v=e.exports(d,u(h,{filter:!0}));return function(p){return v(p),p}}}(isMyJsonValid)),isMyJsonValid.exports}var lib$2={},hasRequiredLib$2;function requireLib$2(){return hasRequiredLib$2||(hasRequiredLib$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbiSerializationType=e.AbiFunctionModifier=e.AbiFunctionKind=e.SCHEMA_VERSION=void 0,e.SCHEMA_VERSION="0.4.0",function(r){r.View="view",r.Call="call"}(e.AbiFunctionKind||(e.AbiFunctionKind={})),function(r){r.Init="init",r.Private="private",r.Payable="payable"}(e.AbiFunctionModifier||(e.AbiFunctionModifier={})),function(r){r.Json="json",r.Borsh="borsh"}(e.AbiSerializationType||(e.AbiSerializationType={}))}(lib$2)),lib$2}var errors$4={},hasRequiredErrors$4;function requireErrors$4(){if(hasRequiredErrors$4)return errors$4;hasRequiredErrors$4=1,Object.defineProperty(errors$4,"__esModule",{value:!0}),errors$4.ConflictingOptions=errors$4.ArgumentSchemaError=errors$4.UnknownArgumentError=errors$4.UnsupportedSerializationError=void 0;class e extends Error{constructor(a,s){super(`Contract method '${a}' is using an unsupported serialization type ${s}`)}}errors$4.UnsupportedSerializationError=e;class r extends Error{constructor(a,s){super(`Unrecognized argument '${a}', expected '${JSON.stringify(s)}'`)}}errors$4.UnknownArgumentError=r;class t extends Error{constructor(a,s){super(`Argument '${a}' does not conform to the specified ABI schema: '${JSON.stringify(s)}'`)}}errors$4.ArgumentSchemaError=t;class n extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}return errors$4.ConflictingOptions=n,errors$4}var hasRequiredContract$3;function requireContract$3(){if(hasRequiredContract$3)return contract$3;hasRequiredContract$3=1;var e=contract$3&&contract$3.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(contract$3,"__esModule",{value:!0}),contract$3.Contract=void 0;const r=requireCommonjs$i(),t=requireCommonjs$j(),n=requireLocalViewExecution$1(),u=e(requireIsMyJsonValid()),a=e(requireBrowser$2()),s=requireLib$2(),i=requireAccount$3(),o=requireErrors$4(),c=requireUtils$6();function l(g,E){return{[g](...A){return E(...A)}}[g]}function f(g,E,A){var P;if(!h(g))return;if(E.params&&E.params.serialization_type!==s.AbiSerializationType.Json)throw new o.UnsupportedSerializationError(E.name,E.params.serialization_type);if(E.result&&E.result.serialization_type!==s.AbiSerializationType.Json)throw new o.UnsupportedSerializationError(E.name,E.result.serialization_type);const C=((P=E.params)==null?void 0:P.args)||[];for(const S of C){const N=g[S.name],j=S.type_schema;j.definitions=A.body.root_schema.definitions;const k=(0,u.default)(j);if(!k(N))throw new o.ArgumentSchemaError(S.name,k.errors)}for(const S of Object.keys(g))if(!C.find(j=>j.name===S))throw new o.UnknownArgumentError(S,C.map(j=>j.name))}const d=g=>g&&g.byteLength!==void 0&&g.byteLength===g.length,h=g=>Object.prototype.toString.call(g)==="[object Object]";class v{constructor(E,A,C){J(this,"account");J(this,"connection");J(this,"contractId");J(this,"lve");this.connection=E.getConnection(),E instanceof i.Account&&((0,a.default)("new Contract(account, contractId, options)")("use `new Contract(connection, contractId, options)` instead"),this.account=E),this.contractId=A,this.lve=new n.LocalViewExecution(E);const{viewMethods:P=[],changeMethods:S=[],abi:N,useLocalViewExecution:j}=C;let k=P.map(L=>({name:L,abi:null})),B=S.map(L=>({name:L,abi:null}));if(N){if(k.length>0||B.length>0)throw new o.ConflictingOptions;k=N.body.functions.filter(L=>L.kind===s.AbiFunctionKind.View).map(L=>({name:L.name,abi:L})),B=N.body.functions.filter(L=>L.kind===s.AbiFunctionKind.Call).map(L=>({name:L.name,abi:L}))}k.forEach(({name:L,abi:R})=>{Object.defineProperty(this,L,{writable:!1,enumerable:!0,value:l(L,async(y={},_={},...b)=>{if(b.length||!(h(y)||d(y))||!h(_))throw new t.PositionalArgsError;if(R&&f(y,R,N),j)try{return await this.lve.viewFunction({contractId:this.contractId,methodName:L,args:y,..._})}catch(w){r.Logger.warn(`Local view execution failed with: "${w.message}"`),r.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction({contractId:this.contractId,methodName:L,args:y,..._}):(0,c.viewFunction)(this.connection,{contractId:this.contractId,methodName:L,args:y,..._})})})}),B.forEach(({name:L,abi:R})=>{Object.defineProperty(this,L,{writable:!1,enumerable:!0,value:l(L,async(...y)=>{if(y.length&&(y.length>3||!(h(y[0])||d(y[0]))))throw new t.PositionalArgsError;return(y.length>1||!(y[0]&&y[0].args))&&((0,a.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),y[0]={args:y[0],gas:y[1],amount:y[2]}),R&&f(y[0].args,R,N),this._changeMethod({methodName:L,...y[0]})})})})}async _changeMethod({signerAccount:E,args:A,methodName:C,gas:P,amount:S,meta:N,callbackUrl:j}){p({gas:P,amount:S});const k=this.account||E;if(!k)throw new Error("signerAccount must be specified");const B=await k.functionCall({contractId:this.contractId,methodName:C,args:A,gas:P,attachedDeposit:S,walletMeta:N,walletCallbackUrl:j});return(0,r.getTransactionLastResult)(B)}}contract$3.Contract=v;function p(g){const E="number, decimal string or BigInt";for(const A of Object.keys(g)){const C=g[A];if(C&&typeof C!="bigint"&&isNaN(C))throw new t.ArgumentTypeError(A,E,C)}}return contract$3}var hasRequiredCommonjs$b;function requireCommonjs$b(){return hasRequiredCommonjs$b||(hasRequiredCommonjs$b=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=e.Contract=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.Connection=e.AccountMultisig=e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=e.Account2FA=e.Account=void 0;var r=requireAccount$3();Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return r.Account}});var t=requireAccount_2fa$1();Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return t.Account2FA}});var n=requireAccount_creator$3();Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return n.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return n.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return n.UrlAccountCreator}});var u=requireAccount_multisig$3();Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return u.AccountMultisig}});var a=requireConnection$3();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return a.Connection}});var s=requireConstants$3();Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return s.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return s.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return s.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return s.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return s.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return s.MULTISIG_CONFIRM_METHODS}});var i=requireContract$3();Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return i.Contract}});var o=requireErrors$4();Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return o.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return o.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return o.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return o.UnsupportedSerializationError}});var c=requireTypes$2();Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return c.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return c.MultisigStateStatus}})}(commonjs$c)),commonjs$c}var hasRequiredAccount$2;function requireAccount$2(){return hasRequiredAccount$2||(hasRequiredAccount$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;var r=requireCommonjs$b();Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return r.Account}})}(account$3)),account$3}var account_multisig$2={},hasRequiredAccount_multisig$2;function requireAccount_multisig$2(){return hasRequiredAccount_multisig$2||(hasRequiredAccount_multisig$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.AccountMultisig=e.Account2FA=void 0;var r=requireCommonjs$b();Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return r.Account2FA}}),Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return r.AccountMultisig}}),Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return r.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return r.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return r.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return r.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return r.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return r.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return r.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return r.MultisigStateStatus}})}(account_multisig$2)),account_multisig$2}var account_creator$2={},hasRequiredAccount_creator$2;function requireAccount_creator$2(){return hasRequiredAccount_creator$2||(hasRequiredAccount_creator$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;var r=requireCommonjs$b();Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return r.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return r.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return r.UrlAccountCreator}})}(account_creator$2)),account_creator$2}var connection$2={},hasRequiredConnection$2;function requireConnection$2(){return hasRequiredConnection$2||(hasRequiredConnection$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var r=requireCommonjs$b();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return r.Connection}})}(connection$2)),connection$2}var signer$2={},hasRequiredSigner$2;function requireSigner$2(){return hasRequiredSigner$2||(hasRequiredSigner$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var r=requireCommonjs$c();Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return r.InMemorySigner}}),Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return r.Signer}})}(signer$2)),signer$2}var contract$2={},hasRequiredContract$2;function requireContract$2(){return hasRequiredContract$2||(hasRequiredContract$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;var r=requireCommonjs$b();Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return r.Contract}})}(contract$2)),contract$2}var near$3={},commonjs$a={},near$2={},hasRequiredNear$3;function requireNear$3(){if(hasRequiredNear$3)return near$2;hasRequiredNear$3=1,Object.defineProperty(near$2,"__esModule",{value:!0}),near$2.Near=void 0;const e=requireCommonjs$b();class r{constructor(n){J(this,"config");J(this,"connection");J(this,"accountCreator");var u;if(this.config=n,this.connection=e.Connection.fromConfig({networkId:n.networkId,provider:n.provider||{type:"JsonRpcProvider",args:{url:n.nodeUrl,headers:n.headers}},signer:n.signer||{type:"InMemorySigner",keyStore:n.keyStore||((u=n.deps)==null?void 0:u.keyStore)},jsvmAccountId:n.jsvmAccountId||`jsvm.${n.networkId}`}),n.masterAccount){const a=n.initialBalance?BigInt(n.initialBalance):500000000000000000000000000n;this.accountCreator=new e.LocalAccountCreator(new e.Account(this.connection,n.masterAccount),a)}else n.helperUrl?this.accountCreator=new e.UrlAccountCreator(this.connection,n.helperUrl):this.accountCreator=null}async account(n){return new e.Account(this.connection,n)}async createAccount(n,u){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return await this.accountCreator.createAccount(n,u),new e.Account(this.connection,n)}}return near$2.Near=r,near$2}var wallet_account$1={},hasRequiredWallet_account$1;function requireWallet_account$1(){if(hasRequiredWallet_account$1)return wallet_account$1;hasRequiredWallet_account$1=1,Object.defineProperty(wallet_account$1,"__esModule",{value:!0}),wallet_account$1.ConnectedWalletAccount=wallet_account$1.WalletConnection=void 0;const e=requireCommonjs$b(),r=requireCommonjs$h(),t=requireCommonjs$i(),n=requireCommonjs$e(),u=requireCjs(),a="/login/",s="add_request_and_confirm",i="_wallet_auth_key",o="pending_key";class c{constructor(d,h){J(this,"_walletBaseUrl");J(this,"_authDataKey");J(this,"_keyStore");J(this,"_authData");J(this,"_networkId");J(this,"_near");J(this,"_connectedAccount");J(this,"_completeSignInPromise");if(typeof h!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(g,E){return E==="isSignedIn"?()=>!1:E==="getAccountId"?()=>"":g[E]&&typeof g[E]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:g[E]}});this._near=d;const v=h+i,p=JSON.parse(window.localStorage.getItem(v));this._networkId=d.config.networkId,this._walletBaseUrl=d.config.walletUrl,h=h||d.config.contractName||"default",this._keyStore=d.connection.signer.keyStore,this._authData=p||{allKeys:[]},this._authDataKey=v,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}async isSignedInAsync(){return this._completeSignInPromise?(await this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()}getAccountId(){return this._authData.accountId||""}async requestSignInUrl({contractId:d,methodNames:h,successUrl:v,failureUrl:p,keyType:g="ed25519"}){const E=new URL(window.location.href),A=new URL(this._walletBaseUrl+a);if(A.searchParams.set("success_url",v||E.href),A.searchParams.set("failure_url",p||E.href),d){await(await this._near.account(d)).state(),A.searchParams.set("contract_id",d);const P=r.KeyPair.fromRandom(g);A.searchParams.set("public_key",P.getPublicKey().toString()),await this._keyStore.setKey(this._networkId,o+P.getPublicKey(),P)}return h&&h.forEach(C=>{A.searchParams.append("methodNames",C)}),A.toString()}async requestSignIn(d){const h=await this.requestSignInUrl(d);window.location.assign(h)}requestSignTransactionsUrl({transactions:d,meta:h,callbackUrl:v}){const p=new URL(window.location.href),g=new URL("sign",this._walletBaseUrl);return g.searchParams.set("transactions",d.map(E=>(0,u.serialize)(n.SCHEMA.Transaction,E)).map(E=>Buffer.from(E).toString("base64")).join(",")),g.searchParams.set("callbackUrl",v||p.href),h&&g.searchParams.set("meta",h),g.toString()}requestSignTransactions(d){const h=this.requestSignTransactionsUrl(d);window.location.assign(h)}async _completeSignInWithAccessKey(){const d=new URL(window.location.href),h=d.searchParams.get("public_key")||"",v=(d.searchParams.get("all_keys")||"").split(","),p=d.searchParams.get("account_id")||"";if(p){const g={accountId:p,allKeys:v};window.localStorage.setItem(this._authDataKey,JSON.stringify(g)),h&&await this._moveKeyFromTempToPermanent(p,h),this._authData=g}d.searchParams.delete("public_key"),d.searchParams.delete("all_keys"),d.searchParams.delete("account_id"),d.searchParams.delete("meta"),d.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,d.toString())}async _moveKeyFromTempToPermanent(d,h){const v=await this._keyStore.getKey(this._networkId,o+h);await this._keyStore.setKey(this._networkId,d,v),await this._keyStore.removeKey(this._networkId,o+h)}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new l(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}wallet_account$1.WalletConnection=c;class l extends e.Account{constructor(h,v,p){super(v,p);J(this,"walletConnection");this.walletConnection=h}async signAndSendTransaction({receiverId:h,actions:v,walletMeta:p,walletCallbackUrl:g=window.location.href}){const E=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let A=await this.accessKeyForTransaction(h,v,E);if(!A)throw new Error(`Cannot find matching key for transaction sent to ${h}`);if(E&&E.toString()===A.public_key)try{return await super.signAndSendTransaction({receiverId:h,actions:v})}catch(k){if(k.type==="NotEnoughAllowance")A=await this.accessKeyForTransaction(h,v);else throw k}const C=await this.connection.provider.block({finality:"final"}),P=(0,t.baseDecode)(C.header.hash),S=r.PublicKey.from(A.public_key),N=A.access_key.nonce+1n,j=(0,n.createTransaction)(this.accountId,S,h,N,v,P);return await this.walletConnection.requestSignTransactions({transactions:[j],meta:p,callbackUrl:g}),new Promise((k,B)=>{setTimeout(()=>{B(new Error("Failed to redirect to sign transaction"))},1e3)})}async accessKeyMatchesTransaction(h,v,p){const{access_key:{permission:g}}=h;if(g==="FullAccess")return!0;if(g.FunctionCall){const{receiver_id:E,method_names:A}=g.FunctionCall;if(E===this.accountId&&A.includes(s))return!0;if(E===v){if(p.length!==1)return!1;const[{functionCall:C}]=p;return C&&(!C.deposit||C.deposit.toString()==="0")&&(A.length===0||A.includes(C.methodName))}}return!1}async accessKeyForTransaction(h,v,p){const g=await this.getAccessKeys();if(p){const A=g.find(C=>C.public_key.toString()===p.toString());if(A&&await this.accessKeyMatchesTransaction(A,h,v))return A}const E=this.walletConnection._authData.allKeys;for(const A of g)if(E.indexOf(A.public_key)!==-1&&await this.accessKeyMatchesTransaction(A,h,v))return A;return null}}return wallet_account$1.ConnectedWalletAccount=l,wallet_account$1}var hasRequiredCommonjs$a;function requireCommonjs$a(){return hasRequiredCommonjs$a||(hasRequiredCommonjs$a=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=void 0;var r=requireNear$3();Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return r.Near}});var t=requireWallet_account$1();Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return t.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return t.WalletConnection}})}(commonjs$a)),commonjs$a}var hasRequiredNear$2;function requireNear$2(){return hasRequiredNear$2||(hasRequiredNear$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;var r=requireCommonjs$a();Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return r.Near}})}(near$3)),near$3}var walletAccount$1={},hasRequiredWalletAccount$1;function requireWalletAccount$1(){return hasRequiredWalletAccount$1||(hasRequiredWalletAccount$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=void 0;var r=requireCommonjs$a();Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return r.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return r.WalletConnection}})}(walletAccount$1)),walletAccount$1}var hasRequiredCommonIndex$1;function requireCommonIndex$1(){return hasRequiredCommonIndex$1||(hasRequiredCommonIndex$1=1,function(e){var r=commonIndex$1&&commonIndex$1.__createBinding||(Object.create?function(E,A,C,P){P===void 0&&(P=C);var S=Object.getOwnPropertyDescriptor(A,C);(!S||("get"in S?!A.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return A[C]}}),Object.defineProperty(E,P,S)}:function(E,A,C,P){P===void 0&&(P=C),E[P]=A[C]}),t=commonIndex$1&&commonIndex$1.__setModuleDefault||(Object.create?function(E,A){Object.defineProperty(E,"default",{enumerable:!0,value:A})}:function(E,A){E.default=A}),n=commonIndex$1&&commonIndex$1.__importStar||function(E){if(E&&E.__esModule)return E;var A={};if(E!=null)for(var C in E)C!=="default"&&Object.prototype.hasOwnProperty.call(E,C)&&r(A,E,C);return t(A,E),A};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const u=n(requireProviders$1());e.providers=u;const a=n(requireUtils$7());e.utils=a;const s=n(requireTransaction$1());e.transactions=s;const i=n(requireValidators$2());e.validators=i;const o=requireAccount$2();Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return o.Account}});const c=n(requireAccount_multisig$2());e.multisig=c;const l=n(requireAccount_creator$2());e.accountCreator=l;const f=requireConnection$2();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return f.Connection}});const d=requireSigner$2();Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return d.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return d.InMemorySigner}});const h=requireContract$2();Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return h.Contract}});const v=requireKey_pair$2();Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return v.KeyPair}});const p=requireNear$2();Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return p.Near}});const g=requireWalletAccount$1();Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return g.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return g.WalletConnection}})}(commonIndex$1)),commonIndex$1}var browserConnect$1={},hasRequiredBrowserConnect$1;function requireBrowserConnect$1(){if(hasRequiredBrowserConnect$1)return browserConnect$1;hasRequiredBrowserConnect$1=1,Object.defineProperty(browserConnect$1,"__esModule",{value:!0}),browserConnect$1.connect=void 0;const e=requireNear$2();async function r(t){return new e.Near(t)}return browserConnect$1.connect=r,browserConnect$1}var hasRequiredBrowserIndex$2;function requireBrowserIndex$2(){return hasRequiredBrowserIndex$2||(hasRequiredBrowserIndex$2=1,function(e){var r=browserIndex$4&&browserIndex$4.__createBinding||(Object.create?function(a,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(a,o,c)}:function(a,s,i,o){o===void 0&&(o=i),a[o]=s[i]}),t=browserIndex$4&&browserIndex$4.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),n=browserIndex$4&&browserIndex$4.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var i in a)i!=="default"&&Object.prototype.hasOwnProperty.call(a,i)&&r(s,a,i);return t(s,a),s},u=browserIndex$4&&browserIndex$4.__exportStar||function(a,s){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&r(s,a,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=void 0,e.keyStores=n(requireBrowserIndex$3()),u(requireCommonIndex$1(),e),u(requireBrowserConnect$1(),e)}(browserIndex$4)),browserIndex$4}var browserIndexExports$1=requireBrowserIndex$2(),providersExports=requireProviders$1(),events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var e=typeof Reflect=="object"?Reflect:null,r=e&&typeof e.apply=="function"?e.apply:function(S,N,j){return Function.prototype.apply.call(S,N,j)},t;e&&typeof e.ownKeys=="function"?t=e.ownKeys:Object.getOwnPropertySymbols?t=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:t=function(S){return Object.getOwnPropertyNames(S)};function n(P){console&&console.warn&&console.warn(P)}var u=Number.isNaN||function(S){return S!==S};function a(){a.init.call(this)}events.exports=a,events.exports.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function i(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(P){if(typeof P!="number"||P<0||u(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");s=P}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||u(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function o(P){return P._maxListeners===void 0?a.defaultMaxListeners:P._maxListeners}a.prototype.getMaxListeners=function(){return o(this)},a.prototype.emit=function(S){for(var N=[],j=1;j<arguments.length;j++)N.push(arguments[j]);var k=S==="error",B=this._events;if(B!==void 0)k=k&&B.error===void 0;else if(!k)return!1;if(k){var L;if(N.length>0&&(L=N[0]),L instanceof Error)throw L;var R=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw R.context=L,R}var y=B[S];if(y===void 0)return!1;if(typeof y=="function")r(y,this,N);else for(var _=y.length,b=v(y,_),j=0;j<_;++j)r(b[j],this,N);return!0};function c(P,S,N,j){var k,B,L;if(i(N),B=P._events,B===void 0?(B=P._events=Object.create(null),P._eventsCount=0):(B.newListener!==void 0&&(P.emit("newListener",S,N.listener?N.listener:N),B=P._events),L=B[S]),L===void 0)L=B[S]=N,++P._eventsCount;else if(typeof L=="function"?L=B[S]=j?[N,L]:[L,N]:j?L.unshift(N):L.push(N),k=o(P),k>0&&L.length>k&&!L.warned){L.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");R.name="MaxListenersExceededWarning",R.emitter=P,R.type=S,R.count=L.length,n(R)}return P}a.prototype.addListener=function(S,N){return c(this,S,N,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(S,N){return c(this,S,N,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(P,S,N){var j={fired:!1,wrapFn:void 0,target:P,type:S,listener:N},k=l.bind(j);return k.listener=N,j.wrapFn=k,k}a.prototype.once=function(S,N){return i(N),this.on(S,f(this,S,N)),this},a.prototype.prependOnceListener=function(S,N){return i(N),this.prependListener(S,f(this,S,N)),this},a.prototype.removeListener=function(S,N){var j,k,B,L,R;if(i(N),k=this._events,k===void 0)return this;if(j=k[S],j===void 0)return this;if(j===N||j.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete k[S],k.removeListener&&this.emit("removeListener",S,j.listener||N));else if(typeof j!="function"){for(B=-1,L=j.length-1;L>=0;L--)if(j[L]===N||j[L].listener===N){R=j[L].listener,B=L;break}if(B<0)return this;B===0?j.shift():p(j,B),j.length===1&&(k[S]=j[0]),k.removeListener!==void 0&&this.emit("removeListener",S,R||N)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(S){var N,j,k;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[S]),this;if(arguments.length===0){var B=Object.keys(j),L;for(k=0;k<B.length;++k)L=B[k],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=j[S],typeof N=="function")this.removeListener(S,N);else if(N!==void 0)for(k=N.length-1;k>=0;k--)this.removeListener(S,N[k]);return this};function d(P,S,N){var j=P._events;if(j===void 0)return[];var k=j[S];return k===void 0?[]:typeof k=="function"?N?[k.listener||k]:[k]:N?g(k):v(k,k.length)}a.prototype.listeners=function(S){return d(this,S,!0)},a.prototype.rawListeners=function(S){return d(this,S,!1)},a.listenerCount=function(P,S){return typeof P.listenerCount=="function"?P.listenerCount(S):h.call(P,S)},a.prototype.listenerCount=h;function h(P){var S=this._events;if(S!==void 0){var N=S[P];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function v(P,S){for(var N=new Array(S),j=0;j<S;++j)N[j]=P[j];return N}function p(P,S){for(;S+1<P.length;S++)P[S]=P[S+1];P.pop()}function g(P){for(var S=new Array(P.length),N=0;N<S.length;++N)S[N]=P[N].listener||P[N];return S}function E(P,S){return new Promise(function(N,j){function k(L){P.removeListener(S,B),j(L)}function B(){typeof P.removeListener=="function"&&P.removeListener("error",k),N([].slice.call(arguments))}C(P,S,B,{once:!0}),S!=="error"&&A(P,k,{once:!0})})}function A(P,S,N){typeof P.on=="function"&&C(P,"error",S,N)}function C(P,S,N,j){if(typeof P.on=="function")j.once?P.once(S,N):P.on(S,N);else if(typeof P.addEventListener=="function")P.addEventListener(S,function k(B){j.once&&P.removeEventListener(S,k),N(B)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return events.exports}var eventsExports=requireEvents(),extendStatics=function(e,r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])},extendStatics(e,r)};function __extends$1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function __values(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),u,a=[],s;try{for(;(r===void 0||r-- >0)&&!(u=n.next()).done;)a.push(u.value)}catch(i){s={error:i}}finally{try{u&&!u.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return a}function __spreadArray(e,r,t){if(t||arguments.length===2)for(var n=0,u=r.length,a;n<u;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))}typeof SuppressedError=="function"&&SuppressedError;function isFunction(e){return typeof e=="function"}function createErrorClass(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var UnsubscriptionError=createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,u){return u+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function arrRemove(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var Subscription=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,u,a;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var i=__values(s),o=i.next();!o.done;o=i.next()){var c=o.value;c.remove(this)}}catch(p){r={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}else s.remove(this);var l=this.initialTeardown;if(isFunction(l))try{l()}catch(p){a=p instanceof UnsubscriptionError?p.errors:[p]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=__values(f),h=d.next();!h.done;h=d.next()){var v=h.value;try{execFinalizer(v)}catch(p){a=a??[],p instanceof UnsubscriptionError?a=__spreadArray(__spreadArray([],__read(a)),__read(p.errors)):a.push(p)}}}catch(p){n={error:p}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(n)throw n.error}}}if(a)throw new UnsubscriptionError(a)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)execFinalizer(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&arrRemove(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&arrRemove(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(e){return e instanceof Subscription||e&&"closed"in e&&isFunction(e.remove)&&isFunction(e.add)&&isFunction(e.unsubscribe)}function execFinalizer(e){isFunction(e)?e():e.unsubscribe()}var config={Promise:void 0},timeoutProvider={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setTimeout.apply(void 0,__spreadArray([e,r],__read(t)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function reportUnhandledError(e){timeoutProvider.setTimeout(function(){throw e})}function noop$3(){}function errorContext(e){e()}var Subscriber=function(e){__extends$1(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,isSubscription(t)&&t.add(n)):n.destination=EMPTY_OBSERVER,n}return r.create=function(t,n,u){return new SafeSubscriber(t,n,u)},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(Subscription),ConsumerObserver=function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){handleUnhandledError(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){handleUnhandledError(n)}else handleUnhandledError(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){handleUnhandledError(t)}},e}(),SafeSubscriber=function(e){__extends$1(r,e);function r(t,n,u){var a=e.call(this)||this,s;return isFunction(t)||!t?s={next:t??void 0,error:n??void 0,complete:u??void 0}:s=t,a.destination=new ConsumerObserver(s),a}return r}(Subscriber);function handleUnhandledError(e){reportUnhandledError(e)}function defaultErrorHandler(e){throw e}var EMPTY_OBSERVER={closed:!0,next:noop$3,error:defaultErrorHandler,complete:noop$3},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(e){return e}function pipeFromArray(e){return e.length===0?identity:e.length===1?e[0]:function(t){return e.reduce(function(n,u){return u(n)},t)}}var Observable=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var u=this,a=isSubscriber(r)?r:new SafeSubscriber(r,t,n);return errorContext(function(){var s=u,i=s.operator,o=s.source;a.add(i?i.call(a,o):o?u._subscribe(a):u._trySubscribe(a))}),a},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=getPromiseCtor(t),new t(function(u,a){var s=new SafeSubscriber({next:function(i){try{r(i)}catch(o){a(o),s.unsubscribe()}},error:a,complete:u});n.subscribe(s)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[observable]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return pipeFromArray(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=getPromiseCtor(r),new r(function(n,u){var a;t.subscribe(function(s){return a=s},function(s){return u(s)},function(){return n(a)})})},e.create=function(r){return new e(r)},e}();function getPromiseCtor(e){var r;return(r=e??config.Promise)!==null&&r!==void 0?r:Promise}function isObserver(e){return e&&isFunction(e.next)&&isFunction(e.error)&&isFunction(e.complete)}function isSubscriber(e){return e&&e instanceof Subscriber||isObserver(e)&&isSubscription(e)}function hasLift(e){return isFunction(e==null?void 0:e.lift)}function operate(e){return function(r){if(hasLift(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(e,r,t,n,u){return new OperatorSubscriber(e,r,t,n,u)}var OperatorSubscriber=function(e){__extends$1(r,e);function r(t,n,u,a,s,i){var o=e.call(this,t)||this;return o.onFinalize=s,o.shouldUnsubscribe=i,o._next=n?function(c){try{n(c)}catch(l){t.error(l)}}:e.prototype._next,o._error=a?function(c){try{a(c)}catch(l){t.error(l)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=u?function(){try{u()}catch(c){t.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,o}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(e){__extends$1(r,e);function r(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.prototype.lift=function(t){var n=new AnonymousSubject(this,this);return n.operator=t,n},r.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},r.prototype.next=function(t){var n=this;errorContext(function(){var u,a;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=__values(n.currentObservers),i=s.next();!i.done;i=s.next()){var o=i.value;o.next(t)}}catch(c){u={error:c}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(u)throw u.error}}}})},r.prototype.error=function(t){var n=this;errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var u=n.observers;u.length;)u.shift().error(t)}})},r.prototype.complete=function(){var t=this;errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},r.prototype._innerSubscribe=function(t){var n=this,u=this,a=u.hasError,s=u.isStopped,i=u.observers;return a||s?EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(t),new Subscription(function(){n.currentObservers=null,arrRemove(i,t)}))},r.prototype._checkFinalizedStatuses=function(t){var n=this,u=n.hasError,a=n.thrownError,s=n.isStopped;u?t.error(a):s&&t.complete()},r.prototype.asObservable=function(){var t=new Observable;return t.source=this,t},r.create=function(t,n){return new AnonymousSubject(t,n)},r}(Observable),AnonymousSubject=function(e){__extends$1(r,e);function r(t,n){var u=e.call(this)||this;return u.destination=t,u.source=n,u}return r.prototype.next=function(t){var n,u;(u=(n=this.destination)===null||n===void 0?void 0:n.next)===null||u===void 0||u.call(n,t)},r.prototype.error=function(t){var n,u;(u=(n=this.destination)===null||n===void 0?void 0:n.error)===null||u===void 0||u.call(n,t)},r.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},r.prototype._subscribe=function(t){var n,u;return(u=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&u!==void 0?u:EMPTY_SUBSCRIPTION},r}(Subject),BehaviorSubject=function(e){__extends$1(r,e);function r(t){var n=e.call(this)||this;return n._value=t,n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},r.prototype.getValue=function(){var t=this,n=t.hasError,u=t.thrownError,a=t._value;if(n)throw u;return this._throwIfClosed(),a},r.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},r}(Subject);function scanInternals(e,r,t,n,u){return function(a,s){var i=t,o=r,c=0;a.subscribe(createOperatorSubscriber(s,function(l){var f=c++;o=i?e(o,l,f):(i=!0,l),s.next(o)},u))}}function scan(e,r){return operate(scanInternals(e,r,arguments.length>=2,!0))}var integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],EncodeBuffer=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(r){if(this.buffer_size-this.offset<r){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+r);var t=new ArrayBuffer(this.buffer_size);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(r,t){var n=t.substring(1),u=parseInt(n)/8;this.resize_if_necessary(u);var a=t[0]==="f"?"setFloat".concat(n):t[0]==="i"?"setInt".concat(n):"setUint".concat(n);this.view[a](this.offset,r,!0),this.offset+=u},e.prototype.store_bytes=function(r){this.resize_if_necessary(r.length),new Uint8Array(this.buffer).set(new Uint8Array(r),this.offset),this.offset+=r.length},e}(),__extends=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(n[a]=u[a])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();function isArrayLike(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}function expect_type(e,r,t){if(typeof e!==r)throw new Error("Expected ".concat(r," not ").concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}function expect_bigint(e,r){var t=["number","string","bigint","boolean"].includes(typeof e),n=typeof e=="object"&&e!==null&&"toString"in e;if(!t&&!n)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(r.join(".")))}function expect_same_size(e,r,t){if(e!==r)throw new Error("Array length ".concat(e," does not match schema length ").concat(r," at ").concat(t.join(".")))}function expect_enum(e,r){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(r.join(".")))}var VALID_STRING_TYPES=integers.concat(["bool","string"]),VALID_OBJECT_KEYS=["option","enum","array","set","map","struct"],ErrorSchema=function(e){__extends(r,e);function r(t,n){var u="Invalid schema: ".concat(JSON.stringify(t)," expected ").concat(n);return e.call(this,u)||this}return r}(Error);function validate_schema(e){if(!(typeof e=="string"&&VALID_STRING_TYPES.includes(e))){if(e&&typeof e=="object"){var r=Object.keys(e);if(r.length===1&&VALID_OBJECT_KEYS.includes(r[0])){var t=r[0];if(t==="option")return validate_schema(e[t]);if(t==="enum")return validate_enum_schema(e[t]);if(t==="array")return validate_array_schema(e[t]);if(t==="set")return validate_schema(e[t]);if(t==="map")return validate_map_schema(e[t]);if(t==="struct")return validate_struct_schema(e[t])}}throw new ErrorSchema(e,VALID_OBJECT_KEYS.join(", ")+" or "+VALID_STRING_TYPES.join(", "))}}function validate_enum_schema(e){if(!Array.isArray(e))throw new ErrorSchema(e,"Array");for(var r=0,t=e;r<t.length;r++){var n=t[r];if(typeof n!="object"||!("struct"in n))throw new Error('Missing "struct" key in enum schema');if(typeof n.struct!="object"||Object.keys(n.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema({struct:n.struct})}}function validate_array_schema(e){if(typeof e!="object")throw new ErrorSchema(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return validate_schema(e.type);throw new ErrorSchema(e,"{ type, len? }")}function validate_map_schema(e){if(typeof e=="object"&&"key"in e&&"value"in e)validate_schema(e.key),validate_schema(e.value);else throw new ErrorSchema(e,"{ key, value }")}function validate_struct_schema(e){if(typeof e!="object")throw new ErrorSchema(e,"object");for(var r in e)validate_schema(e[r])}var BorshSerializer=function(){function e(r){this.encoded=new EncodeBuffer,this.fieldPath=["value"],this.checkTypes=r}return e.prototype.encode=function(r,t){return this.encode_value(r,t),this.encoded.get_used_buffer()},e.prototype.encode_value=function(r,t){if(typeof t=="string"){if(integers.includes(t))return this.encode_integer(r,t);if(t==="string")return this.encode_string(r);if(t==="bool")return this.encode_boolean(r)}if(typeof t=="object"){if("option"in t)return this.encode_option(r,t);if("enum"in t)return this.encode_enum(r,t);if("array"in t)return this.encode_array(r,t);if("set"in t)return this.encode_set(r,t);if("map"in t)return this.encode_map(r,t);if("struct"in t)return this.encode_struct(r,t)}},e.prototype.encode_integer=function(r,t){var n=parseInt(t.substring(1));n<=32||t=="f64"?(this.checkTypes&&expect_type(r,"number",this.fieldPath),this.encoded.store_value(r,t)):(this.checkTypes&&expect_bigint(r,this.fieldPath),this.encode_bigint(BigInt(r),n))},e.prototype.encode_bigint=function(r,t){for(var n=t/8,u=new Uint8Array(n),a=0;a<n;a++)u[a]=Number(r&BigInt(255)),r=r>>BigInt(8);this.encoded.store_bytes(new Uint8Array(u))},e.prototype.encode_string=function(r){this.checkTypes&&expect_type(r,"string",this.fieldPath);for(var t=r,n=[],u=0;u<t.length;u++){var a=t.charCodeAt(u);a<128?n.push(a):a<2048?n.push(192|a>>6,128|a&63):a<55296||a>=57344?n.push(224|a>>12,128|a>>6&63,128|a&63):(u++,a=65536+((a&1023)<<10|t.charCodeAt(u)&1023),n.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63))}this.encoded.store_value(n.length,"u32"),this.encoded.store_bytes(new Uint8Array(n))},e.prototype.encode_boolean=function(r){this.checkTypes&&expect_type(r,"boolean",this.fieldPath),this.encoded.store_value(r?1:0,"u8")},e.prototype.encode_option=function(r,t){r==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(r,t.option))},e.prototype.encode_enum=function(r,t){this.checkTypes&&expect_enum(r,this.fieldPath);for(var n=Object.keys(r)[0],u=0;u<t.enum.length;u++){var a=t.enum[u];if(n===Object.keys(a.struct)[0])return this.encoded.store_value(u,"u8"),this.encode_struct(r,a)}throw new Error("Enum key (".concat(n,") not found in enum schema: ").concat(JSON.stringify(t)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(r,t){if(isArrayLike(r))return this.encode_arraylike(r,t);if(r instanceof ArrayBuffer)return this.encode_buffer(r,t);throw new Error("Expected Array-like not ".concat(typeof r,"(").concat(r,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(r,t){t.array.len?expect_same_size(r.length,t.array.len,this.fieldPath):this.encoded.store_value(r.length,"u32");for(var n=0;n<r.length;n++)this.encode_value(r[n],t.array.type)},e.prototype.encode_buffer=function(r,t){t.array.len?expect_same_size(r.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(r.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(r))},e.prototype.encode_set=function(r,t){this.checkTypes&&expect_type(r,"object",this.fieldPath);var n=r instanceof Set,u=n?Array.from(r.values()):Object.values(r);this.encoded.store_value(u.length,"u32");for(var a=0,s=u;a<s.length;a++){var i=s[a];this.encode_value(i,t.set)}},e.prototype.encode_map=function(r,t){this.checkTypes&&expect_type(r,"object",this.fieldPath);var n=r instanceof Map,u=n?Array.from(r.keys()):Object.keys(r);this.encoded.store_value(u.length,"u32");for(var a=0,s=u;a<s.length;a++){var i=s[a];this.encode_value(i,t.map.key),this.encode_value(n?r.get(i):r[i],t.map.value)}},e.prototype.encode_struct=function(r,t){this.checkTypes&&expect_type(r,"object",this.fieldPath);for(var n=0,u=Object.keys(t.struct);n<u.length;n++){var a=u[n];this.fieldPath.push(a),this.encode_value(r[a],t.struct[a]),this.fieldPath.pop()}},e}();function serialize$2(e,r,t){t===void 0&&(t=!0),t&&validate_schema(e);var n=new BorshSerializer(t);return n.encode(r,e)}var sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=globalThis:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,r){return function(t){return new Sha256(r,!0).update(t)[e]()}},createMethod=function(e){var r=createOutputMethod("hex",e);NODE_JS&&(r=nodeWrap(r,e)),r.create=function(){return new Sha256(e)},r.update=function(u){return r.create().update(u)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];r[n]=createOutputMethod(n,e)}return r},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if(typeof e=="string")return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(e==null)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,r){return function(t,n){return new HmacSha256(t,r,!0).update(n)[e]()}},createHmacMethod=function(e){var r=createHmacOutputMethod("hex",e);r.create=function(u){return new HmacSha256(u,e)},r.update=function(u,a){return r.create(u).update(a)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];r[n]=createHmacOutputMethod(n,e)}return r};function Sha256(e,r){r?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}Sha256.prototype.update=function(e){if(!this.finalized){var r,t=typeof e;if(t!=="string"){if(t==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);r=!0}for(var n,u=0,a,s=e.length,i=this.blocks;u<s;){if(this.hashed&&(this.hashed=!1,i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),r)for(a=this.start;u<s&&a<64;++u)i[a>>2]|=e[u]<<SHIFT[a++&3];else for(a=this.start;u<s&&a<64;++u)n=e.charCodeAt(u),n<128?i[a>>2]|=n<<SHIFT[a++&3]:n<2048?(i[a>>2]|=(192|n>>6)<<SHIFT[a++&3],i[a>>2]|=(128|n&63)<<SHIFT[a++&3]):n<55296||n>=57344?(i[a>>2]|=(224|n>>12)<<SHIFT[a++&3],i[a>>2]|=(128|n>>6&63)<<SHIFT[a++&3],i[a>>2]|=(128|n&63)<<SHIFT[a++&3]):(n=65536+((n&1023)<<10|e.charCodeAt(++u)&1023),i[a>>2]|=(240|n>>18)<<SHIFT[a++&3],i[a>>2]|=(128|n>>12&63)<<SHIFT[a++&3],i[a>>2]|=(128|n>>6&63)<<SHIFT[a++&3],i[a>>2]|=(128|n&63)<<SHIFT[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=i[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,r=this.lastByteIndex;e[16]=this.block,e[r>>2]|=EXTRA[r&3],this.block=e[16],r>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e=this.h0,r=this.h1,t=this.h2,n=this.h3,u=this.h4,a=this.h5,s=this.h6,i=this.h7,o=this.blocks,c,l,f,d,h,v,p,g,E,A,C;for(c=16;c<64;++c)h=o[c-15],l=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,h=o[c-2],f=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,o[c]=o[c-16]+l+o[c-7]+f<<0;for(C=r&t,c=0;c<64;c+=4)this.first?(this.is224?(g=300032,h=o[0]-1413257819,i=h-150054599<<0,n=h+24177077<<0):(g=704751109,h=o[0]-210244248,i=h-1521486534<<0,n=h+143694565<<0),this.first=!1):(l=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),g=e&r,d=g^e&t^C,p=u&a^~u&s,h=i+f+p+K[c]+o[c],v=l+d,i=n+h<<0,n=h+v<<0),l=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),E=n&e,d=E^n&r^g,p=i&u^~i&a,h=s+f+p+K[c+1]+o[c+1],v=l+d,s=t+h<<0,t=h+v<<0,l=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),A=t&n,d=A^t&e^E,p=s&i^~s&u,h=a+f+p+K[c+2]+o[c+2],v=l+d,a=r+h<<0,r=h+v<<0,l=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),C=r&t,d=C^r&n^A,p=a&s^~a&i,h=u+f+p+K[c+3]+o[c+3],v=l+d,u=e+h<<0,e=h+v<<0;this.h0=this.h0+e<<0,this.h1=this.h1+r<<0,this.h2=this.h2+t<<0,this.h3=this.h3+n<<0,this.h4=this.h4+u<<0,this.h5=this.h5+a<<0,this.h6=this.h6+s<<0,this.h7=this.h7+i<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,r=this.h1,t=this.h2,n=this.h3,u=this.h4,a=this.h5,s=this.h6,i=this.h7,o=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15];return this.is224||(o+=HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]),o},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,r=this.h1,t=this.h2,n=this.h3,u=this.h4,a=this.h5,s=this.h6,i=this.h7,o=[e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,u>>24&255,u>>16&255,u>>8&255,u&255,a>>24&255,a>>16&255,a>>8&255,a&255,s>>24&255,s>>16&255,s>>8&255,s&255];return this.is224||o.push(i>>24&255,i>>16&255,i>>8&255,i&255),o},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),r=new DataView(e);return r.setUint32(0,this.h0),r.setUint32(4,this.h1),r.setUint32(8,this.h2),r.setUint32(12,this.h3),r.setUint32(16,this.h4),r.setUint32(20,this.h5),r.setUint32(24,this.h6),this.is224||r.setUint32(28,this.h7),e};function HmacSha256(e,r,t){var n,u=typeof e;if(u==="string"){var a=[],s=e.length,i=0,o;for(n=0;n<s;++n)o=e.charCodeAt(n),o<128?a[i++]=o:o<2048?(a[i++]=192|o>>6,a[i++]=128|o&63):o<55296||o>=57344?(a[i++]=224|o>>12,a[i++]=128|o>>6&63,a[i++]=128|o&63):(o=65536+((o&1023)<<10|e.charCodeAt(++n)&1023),a[i++]=240|o>>18,a[i++]=128|o>>12&63,a[i++]=128|o>>6&63,a[i++]=128|o&63);e=a}else if(u==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);e.length>64&&(e=new Sha256(r,!0).update(e).array());var c=[],l=[];for(n=0;n<64;++n){var f=e[n]||0;c[n]=92^f,l[n]=54^f}Sha256.call(this,r,t),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=t}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()}(sha256)),sha256.exports}requireSha256();function __awaiter$1(e,r,t,n){function u(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function i(l){try{c(n.next(l))}catch(f){s(f)}}function o(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?a(l.value):u(l.value).then(i,o)}c((n=n.apply(e,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Provider{constructor(r){this.provider=new browserIndexExports$1.providers.FailoverRpcProvider(this.urlsToProviders(r))}query(r,t){return typeof r=="string"&&t!==void 0?this.provider.query(r,t):this.provider.query(r)}viewAccessKey({accountId:r,publicKey:t}){return this.query({request_type:"view_access_key",finality:"final",account_id:r,public_key:t})}block(r){return this.provider.block(r)}sendTransaction(r){return this.provider.sendTransaction(r)}urlsToProviders(r){return r&&r.length>0?r.map(t=>new providersExports.JsonRpcProvider({url:t})):[]}}const KEY_DELIMITER=":";class JsonStorage{constructor(r,t){this.storage=r,this.namespace=Array.isArray(t)?t.join(KEY_DELIMITER):t}resolveKey(r){return[this.namespace,r].join(KEY_DELIMITER)}getItem(r){return this.storage.getItem(this.resolveKey(r)).then(t=>typeof t=="string"?JSON.parse(t):null)}setItem(r,t){return this.storage.setItem(this.resolveKey(r),JSON.stringify(t))}removeItem(r){return this.storage.removeItem(this.resolveKey(r))}}var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},check$2=function(e){return e&&e.Math===Math&&e},globalThis_1$2=check$2(typeof globalThis=="object"&&globalThis)||check$2(typeof window=="object"&&window)||check$2(typeof self=="object"&&self)||check$2(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||check$2(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor$2={},fails$r=function(e){try{return!!e()}catch{return!0}},fails$q=fails$r,descriptors$2=!fails$q(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),fails$p=fails$r,functionBindNative$2=!fails$p(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$3$2=functionBindNative$2,call$i$1=Function.prototype.call,functionCall$2=NATIVE_BIND$3$2?call$i$1.bind(call$i$1):function(){return call$i$1.apply(call$i$1,arguments)},objectPropertyIsEnumerable$2={},$propertyIsEnumerable$2={}.propertyIsEnumerable,getOwnPropertyDescriptor$2$2=Object.getOwnPropertyDescriptor,NASHORN_BUG$2=getOwnPropertyDescriptor$2$2&&!$propertyIsEnumerable$2.call({1:2},1);objectPropertyIsEnumerable$2.f=NASHORN_BUG$2?function e(r){var t=getOwnPropertyDescriptor$2$2(this,r);return!!t&&t.enumerable}:$propertyIsEnumerable$2;var createPropertyDescriptor$4$1=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},NATIVE_BIND$2$2=functionBindNative$2,FunctionPrototype$2$2=Function.prototype,call$h$1=FunctionPrototype$2$2.call,uncurryThisWithBind$2=NATIVE_BIND$2$2&&FunctionPrototype$2$2.bind.bind(call$h$1,call$h$1),functionUncurryThis$2=NATIVE_BIND$2$2?uncurryThisWithBind$2:function(e){return function(){return call$h$1.apply(e,arguments)}},uncurryThis$n=functionUncurryThis$2,toString$6=uncurryThis$n({}.toString),stringSlice$2$1=uncurryThis$n("".slice),classofRaw$2$2=function(e){return stringSlice$2$1(toString$6(e),8,-1)},uncurryThis$m=functionUncurryThis$2,fails$o=fails$r,classof$b=classofRaw$2$2,$Object$4$2=Object,split$5=uncurryThis$m("".split),indexedObject$2=fails$o(function(){return!$Object$4$2("z").propertyIsEnumerable(0)})?function(e){return classof$b(e)==="String"?split$5(e,""):$Object$4$2(e)}:$Object$4$2,isNullOrUndefined$4$2=function(e){return e==null},isNullOrUndefined$3$2=isNullOrUndefined$4$2,$TypeError$g=TypeError,requireObjectCoercible$5$1=function(e){if(isNullOrUndefined$3$2(e))throw new $TypeError$g("Can't call method on "+e);return e},IndexedObject$3=indexedObject$2,requireObjectCoercible$4$1=requireObjectCoercible$5$1,toIndexedObject$6$1=function(e){return IndexedObject$3(requireObjectCoercible$4$1(e))},documentAll$2=typeof document=="object"&&document.all,isCallable$l$1=typeof documentAll$2>"u"&&documentAll$2!==void 0?function(e){return typeof e=="function"||e===documentAll$2}:function(e){return typeof e=="function"},isCallable$k$1=isCallable$l$1,isObject$g=function(e){return typeof e=="object"?e!==null:isCallable$k$1(e)},globalThis$t=globalThis_1$2,isCallable$j$2=isCallable$l$1,aFunction$2=function(e){return isCallable$j$2(e)?e:void 0},getBuiltIn$7$2=function(e,r){return arguments.length<2?aFunction$2(globalThis$t[e]):globalThis$t[e]&&globalThis$t[e][r]},uncurryThis$l$1=functionUncurryThis$2,objectIsPrototypeOf$2=uncurryThis$l$1({}.isPrototypeOf),globalThis$s=globalThis_1$2,navigator$1$1=globalThis$s.navigator,userAgent$7=navigator$1$1&&navigator$1$1.userAgent,environmentUserAgent$2=userAgent$7?String(userAgent$7):"",globalThis$r=globalThis_1$2,userAgent$6$1=environmentUserAgent$2,process$3$2=globalThis$r.process,Deno$1$2=globalThis$r.Deno,versions$2=process$3$2&&process$3$2.versions||Deno$1$2&&Deno$1$2.version,v8$2=versions$2&&versions$2.v8,match$2,version$2;v8$2&&(match$2=v8$2.split("."),version$2=match$2[0]>0&&match$2[0]<4?1:+(match$2[0]+match$2[1]));!version$2&&userAgent$6$1&&(match$2=userAgent$6$1.match(/Edge\/(\d+)/),(!match$2||match$2[1]>=74)&&(match$2=userAgent$6$1.match(/Chrome\/(\d+)/),match$2&&(version$2=+match$2[1])));var environmentV8Version$2=version$2,V8_VERSION$1$2=environmentV8Version$2,fails$n=fails$r,globalThis$q=globalThis_1$2,$String$5$2=globalThis$q.String,symbolConstructorDetection$2=!!Object.getOwnPropertySymbols&&!fails$n(function(){var e=Symbol("symbol detection");return!$String$5$2(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1$2&&V8_VERSION$1$2<41}),NATIVE_SYMBOL$1$2=symbolConstructorDetection$2,useSymbolAsUid$2=NATIVE_SYMBOL$1$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$6$2=getBuiltIn$7$2,isCallable$i$2=isCallable$l$1,isPrototypeOf$4$1=objectIsPrototypeOf$2,USE_SYMBOL_AS_UID$1$2=useSymbolAsUid$2,$Object$3$2=Object,isSymbol$3$1=USE_SYMBOL_AS_UID$1$2?function(e){return typeof e=="symbol"}:function(e){var r=getBuiltIn$6$2("Symbol");return isCallable$i$2(r)&&isPrototypeOf$4$1(r.prototype,$Object$3$2(e))},$String$4$2=String,tryToString$6=function(e){try{return $String$4$2(e)}catch{return"Object"}},isCallable$h$2=isCallable$l$1,tryToString$5$1=tryToString$6,$TypeError$f=TypeError,aCallable$b=function(e){if(isCallable$h$2(e))return e;throw new $TypeError$f(tryToString$5$1(e)+" is not a function")},aCallable$a=aCallable$b,isNullOrUndefined$2$2=isNullOrUndefined$4$2,getMethod$3$2=function(e,r){var t=e[r];return isNullOrUndefined$2$2(t)?void 0:aCallable$a(t)},call$g$1=functionCall$2,isCallable$g$2=isCallable$l$1,isObject$f=isObject$g,$TypeError$e$1=TypeError,ordinaryToPrimitive$1$2=function(e,r){var t,n;if(r==="string"&&isCallable$g$2(t=e.toString)&&!isObject$f(n=call$g$1(t,e))||isCallable$g$2(t=e.valueOf)&&!isObject$f(n=call$g$1(t,e))||r!=="string"&&isCallable$g$2(t=e.toString)&&!isObject$f(n=call$g$1(t,e)))return n;throw new $TypeError$e$1("Can't convert object to primitive value")},sharedStore$2={exports:{}},globalThis$p=globalThis_1$2,defineProperty$6$1=Object.defineProperty,defineGlobalProperty$3$2=function(e,r){try{defineProperty$6$1(globalThis$p,e,{value:r,configurable:!0,writable:!0})}catch{globalThis$p[e]=r}return r},globalThis$o=globalThis_1$2,defineGlobalProperty$2$2=defineGlobalProperty$3$2,SHARED$2="__core-js_shared__",store$3$2=sharedStore$2.exports=globalThis$o[SHARED$2]||defineGlobalProperty$2$2(SHARED$2,{});(store$3$2.versions||(store$3$2.versions=[])).push({version:"3.41.0",mode:"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"});var store$2$2=sharedStore$2.exports,shared$4$1=function(e,r){return store$2$2[e]||(store$2$2[e]=r||{})},requireObjectCoercible$3$2=requireObjectCoercible$5$1,$Object$2$2=Object,toObject$8=function(e){return $Object$2$2(requireObjectCoercible$3$2(e))},uncurryThis$k$1=functionUncurryThis$2,toObject$7=toObject$8,hasOwnProperty$2=uncurryThis$k$1({}.hasOwnProperty),hasOwnProperty_1$2=Object.hasOwn||function e(r,t){return hasOwnProperty$2(toObject$7(r),t)},uncurryThis$j$1=functionUncurryThis$2,id$2=0,postfix$2=Math.random(),toString$5$1=uncurryThis$j$1(1 .toString),uid$3$1=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$5$1(++id$2+postfix$2,36)},globalThis$n=globalThis_1$2,shared$3$2=shared$4$1,hasOwn$b$1=hasOwnProperty_1$2,uid$2$2=uid$3$1,NATIVE_SYMBOL$3=symbolConstructorDetection$2,USE_SYMBOL_AS_UID$3=useSymbolAsUid$2,Symbol$1$2=globalThis$n.Symbol,WellKnownSymbolsStore$2=shared$3$2("wks"),createWellKnownSymbol$2=USE_SYMBOL_AS_UID$3?Symbol$1$2.for||Symbol$1$2:Symbol$1$2&&Symbol$1$2.withoutSetter||uid$2$2,wellKnownSymbol$i$1=function(e){return hasOwn$b$1(WellKnownSymbolsStore$2,e)||(WellKnownSymbolsStore$2[e]=NATIVE_SYMBOL$3&&hasOwn$b$1(Symbol$1$2,e)?Symbol$1$2[e]:createWellKnownSymbol$2("Symbol."+e)),WellKnownSymbolsStore$2[e]},call$f$1=functionCall$2,isObject$e=isObject$g,isSymbol$2$2=isSymbol$3$1,getMethod$2$2=getMethod$3$2,ordinaryToPrimitive$3=ordinaryToPrimitive$1$2,wellKnownSymbol$h$1=wellKnownSymbol$i$1,$TypeError$d$1=TypeError,TO_PRIMITIVE$2=wellKnownSymbol$h$1("toPrimitive"),toPrimitive$2$1=function(e,r){if(!isObject$e(e)||isSymbol$2$2(e))return e;var t=getMethod$2$2(e,TO_PRIMITIVE$2),n;if(t){if(r===void 0&&(r="default"),n=call$f$1(t,e,r),!isObject$e(n)||isSymbol$2$2(n))return n;throw new $TypeError$d$1("Can't convert object to primitive value")}return r===void 0&&(r="number"),ordinaryToPrimitive$3(e,r)},toPrimitive$1$2=toPrimitive$2$1,isSymbol$1$2=isSymbol$3$1,toPropertyKey$3$1=function(e){var r=toPrimitive$1$2(e,"string");return isSymbol$1$2(r)?r:r+""},globalThis$m=globalThis_1$2,isObject$d$1=isObject$g,document$3$2=globalThis$m.document,EXISTS$1$2=isObject$d$1(document$3$2)&&isObject$d$1(document$3$2.createElement),documentCreateElement$2$2=function(e){return EXISTS$1$2?document$3$2.createElement(e):{}},DESCRIPTORS$e$1=descriptors$2,fails$m=fails$r,createElement$1$2=documentCreateElement$2$2,ie8DomDefine$2=!DESCRIPTORS$e$1&&!fails$m(function(){return Object.defineProperty(createElement$1$2("div"),"a",{get:function(){return 7}}).a!==7}),DESCRIPTORS$d$1=descriptors$2,call$e$1=functionCall$2,propertyIsEnumerableModule$1$1=objectPropertyIsEnumerable$2,createPropertyDescriptor$3$2=createPropertyDescriptor$4$1,toIndexedObject$5$2=toIndexedObject$6$1,toPropertyKey$2$2=toPropertyKey$3$1,hasOwn$a$2=hasOwnProperty_1$2,IE8_DOM_DEFINE$1$2=ie8DomDefine$2,$getOwnPropertyDescriptor$1$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$2.f=DESCRIPTORS$d$1?$getOwnPropertyDescriptor$1$2:function e(r,t){if(r=toIndexedObject$5$2(r),t=toPropertyKey$2$2(t),IE8_DOM_DEFINE$1$2)try{return $getOwnPropertyDescriptor$1$2(r,t)}catch{}if(hasOwn$a$2(r,t))return createPropertyDescriptor$3$2(!call$e$1(propertyIsEnumerableModule$1$1.f,r,t),r[t])};var objectDefineProperty$2={},DESCRIPTORS$c$1=descriptors$2,fails$l=fails$r,v8PrototypeDefineBug$2=DESCRIPTORS$c$1&&fails$l(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),isObject$c$1=isObject$g,$String$3$2=String,$TypeError$c$2=TypeError,anObject$b$2=function(e){if(isObject$c$1(e))return e;throw new $TypeError$c$2($String$3$2(e)+" is not an object")},DESCRIPTORS$b$1=descriptors$2,IE8_DOM_DEFINE$3=ie8DomDefine$2,V8_PROTOTYPE_DEFINE_BUG$1$2=v8PrototypeDefineBug$2,anObject$a$2=anObject$b$2,toPropertyKey$1$2=toPropertyKey$3$1,$TypeError$b$2=TypeError,$defineProperty$2=Object.defineProperty,$getOwnPropertyDescriptor$3=Object.getOwnPropertyDescriptor,ENUMERABLE$2="enumerable",CONFIGURABLE$1$2="configurable",WRITABLE$2="writable";objectDefineProperty$2.f=DESCRIPTORS$b$1?V8_PROTOTYPE_DEFINE_BUG$1$2?function e(r,t,n){if(anObject$a$2(r),t=toPropertyKey$1$2(t),anObject$a$2(n),typeof r=="function"&&t==="prototype"&&"value"in n&&WRITABLE$2 in n&&!n[WRITABLE$2]){var u=$getOwnPropertyDescriptor$3(r,t);u&&u[WRITABLE$2]&&(r[t]=n.value,n={configurable:CONFIGURABLE$1$2 in n?n[CONFIGURABLE$1$2]:u[CONFIGURABLE$1$2],enumerable:ENUMERABLE$2 in n?n[ENUMERABLE$2]:u[ENUMERABLE$2],writable:!1})}return $defineProperty$2(r,t,n)}:$defineProperty$2:function e(r,t,n){if(anObject$a$2(r),t=toPropertyKey$1$2(t),anObject$a$2(n),IE8_DOM_DEFINE$3)try{return $defineProperty$2(r,t,n)}catch{}if("get"in n||"set"in n)throw new $TypeError$b$2("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var DESCRIPTORS$a$2=descriptors$2,definePropertyModule$4$1=objectDefineProperty$2,createPropertyDescriptor$2$2=createPropertyDescriptor$4$1,createNonEnumerableProperty$7=DESCRIPTORS$a$2?function(e,r,t){return definePropertyModule$4$1.f(e,r,createPropertyDescriptor$2$2(1,t))}:function(e,r,t){return e[r]=t,e},makeBuiltIn$3$2={exports:{}},DESCRIPTORS$9$2=descriptors$2,hasOwn$9$2=hasOwnProperty_1$2,FunctionPrototype$1$2=Function.prototype,getDescriptor$2=DESCRIPTORS$9$2&&Object.getOwnPropertyDescriptor,EXISTS$3=hasOwn$9$2(FunctionPrototype$1$2,"name"),PROPER$2=EXISTS$3&&(function e(){}).name==="something",CONFIGURABLE$3=EXISTS$3&&(!DESCRIPTORS$9$2||DESCRIPTORS$9$2&&getDescriptor$2(FunctionPrototype$1$2,"name").configurable),functionName$2={PROPER:PROPER$2,CONFIGURABLE:CONFIGURABLE$3},uncurryThis$i$1=functionUncurryThis$2,isCallable$f$2=isCallable$l$1,store$1$2=sharedStore$2.exports,functionToString$2=uncurryThis$i$1(Function.toString);isCallable$f$2(store$1$2.inspectSource)||(store$1$2.inspectSource=function(e){return functionToString$2(e)});var inspectSource$3$2=store$1$2.inspectSource,globalThis$l$1=globalThis_1$2,isCallable$e$2=isCallable$l$1,WeakMap$1$2=globalThis$l$1.WeakMap,weakMapBasicDetection$2=isCallable$e$2(WeakMap$1$2)&&/native code/.test(String(WeakMap$1$2)),shared$2$2=shared$4$1,uid$1$2=uid$3$1,keys$1=shared$2$2("keys"),sharedKey$3$2=function(e){return keys$1[e]||(keys$1[e]=uid$1$2(e))},hiddenKeys$4$2={},NATIVE_WEAK_MAP$2=weakMapBasicDetection$2,globalThis$k$1=globalThis_1$2,isObject$b$1=isObject$g,createNonEnumerableProperty$6=createNonEnumerableProperty$7,hasOwn$8$2=hasOwnProperty_1$2,shared$1$2=sharedStore$2.exports,sharedKey$2$2=sharedKey$3$2,hiddenKeys$3$2=hiddenKeys$4$2,OBJECT_ALREADY_INITIALIZED$2="Object already initialized",TypeError$3$1=globalThis$k$1.TypeError,WeakMap$4=globalThis$k$1.WeakMap,set$2$1,get$1$1,has$2,enforce$2=function(e){return has$2(e)?get$1$1(e):set$2$1(e,{})},getterFor$2=function(e){return function(r){var t;if(!isObject$b$1(r)||(t=get$1$1(r)).type!==e)throw new TypeError$3$1("Incompatible receiver, "+e+" required");return t}};if(NATIVE_WEAK_MAP$2||shared$1$2.state){var store$5=shared$1$2.state||(shared$1$2.state=new WeakMap$4);store$5.get=store$5.get,store$5.has=store$5.has,store$5.set=store$5.set,set$2$1=function(e,r){if(store$5.has(e))throw new TypeError$3$1(OBJECT_ALREADY_INITIALIZED$2);return r.facade=e,store$5.set(e,r),r},get$1$1=function(e){return store$5.get(e)||{}},has$2=function(e){return store$5.has(e)}}else{var STATE$2=sharedKey$2$2("state");hiddenKeys$3$2[STATE$2]=!0,set$2$1=function(e,r){if(hasOwn$8$2(e,STATE$2))throw new TypeError$3$1(OBJECT_ALREADY_INITIALIZED$2);return r.facade=e,createNonEnumerableProperty$6(e,STATE$2,r),r},get$1$1=function(e){return hasOwn$8$2(e,STATE$2)?e[STATE$2]:{}},has$2=function(e){return hasOwn$8$2(e,STATE$2)}}var internalState$2={set:set$2$1,get:get$1$1,has:has$2,enforce:enforce$2,getterFor:getterFor$2},uncurryThis$h$1=functionUncurryThis$2,fails$k=fails$r,isCallable$d$2=isCallable$l$1,hasOwn$7$2=hasOwnProperty_1$2,DESCRIPTORS$8$2=descriptors$2,CONFIGURABLE_FUNCTION_NAME$2$1=functionName$2.CONFIGURABLE,inspectSource$2$2=inspectSource$3$2,InternalStateModule$5$1=internalState$2,enforceInternalState$2=InternalStateModule$5$1.enforce,getInternalState$4=InternalStateModule$5$1.get,$String$2$2=String,defineProperty$5$2=Object.defineProperty,stringSlice$1$2=uncurryThis$h$1("".slice),replace$2$1=uncurryThis$h$1("".replace),join$6=uncurryThis$h$1([].join),CONFIGURABLE_LENGTH$2=DESCRIPTORS$8$2&&!fails$k(function(){return defineProperty$5$2(function(){},"length",{value:8}).length!==8}),TEMPLATE$2=String(String).split("String"),makeBuiltIn$2$2=makeBuiltIn$3$2.exports=function(e,r,t){stringSlice$1$2($String$2$2(r),0,7)==="Symbol("&&(r="["+replace$2$1($String$2$2(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!hasOwn$7$2(e,"name")||CONFIGURABLE_FUNCTION_NAME$2$1&&e.name!==r)&&(DESCRIPTORS$8$2?defineProperty$5$2(e,"name",{value:r,configurable:!0}):e.name=r),CONFIGURABLE_LENGTH$2&&t&&hasOwn$7$2(t,"arity")&&e.length!==t.arity&&defineProperty$5$2(e,"length",{value:t.arity});try{t&&hasOwn$7$2(t,"constructor")&&t.constructor?DESCRIPTORS$8$2&&defineProperty$5$2(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=enforceInternalState$2(e);return hasOwn$7$2(n,"source")||(n.source=join$6(TEMPLATE$2,typeof r=="string"?r:"")),e};Function.prototype.toString=makeBuiltIn$2$2(function e(){return isCallable$d$2(this)&&getInternalState$4(this).source||inspectSource$2$2(this)},"toString");var isCallable$c$2=isCallable$l$1,definePropertyModule$3$2=objectDefineProperty$2,makeBuiltIn$1$2=makeBuiltIn$3$2.exports,defineGlobalProperty$1$2=defineGlobalProperty$3$2,defineBuiltIn$7$1=function(e,r,t,n){n||(n={});var u=n.enumerable,a=n.name!==void 0?n.name:r;if(isCallable$c$2(t)&&makeBuiltIn$1$2(t,a,n),n.global)u?e[r]=t:defineGlobalProperty$1$2(r,t);else{try{n.unsafe?e[r]&&(u=!0):delete e[r]}catch{}u?e[r]=t:definePropertyModule$3$2.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},objectGetOwnPropertyNames$2={},ceil$2=Math.ceil,floor$3$1=Math.floor,mathTrunc$2=Math.trunc||function e(r){var t=+r;return(t>0?floor$3$1:ceil$2)(t)},trunc2$2=mathTrunc$2,toIntegerOrInfinity$5=function(e){var r=+e;return r!==r||r===0?0:trunc2$2(r)},toIntegerOrInfinity$4$1=toIntegerOrInfinity$5,max$2=Math.max,min$1$2=Math.min,toAbsoluteIndex$3$1=function(e,r){var t=toIntegerOrInfinity$4$1(e);return t<0?max$2(t+r,0):min$1$2(t,r)},toIntegerOrInfinity$3$1=toIntegerOrInfinity$5,min$3=Math.min,toLength$5=function(e){var r=toIntegerOrInfinity$3$1(e);return r>0?min$3(r,9007199254740991):0},toLength$4=toLength$5,lengthOfArrayLike$9=function(e){return toLength$4(e.length)},toIndexedObject$4$2=toIndexedObject$6$1,toAbsoluteIndex$2$1=toAbsoluteIndex$3$1,lengthOfArrayLike$8=lengthOfArrayLike$9,createMethod$3=function(e){return function(r,t,n){var u=toIndexedObject$4$2(r),a=lengthOfArrayLike$8(u);if(a===0)return!e&&-1;var s=toAbsoluteIndex$2$1(n,a),i;if(e&&t!==t){for(;a>s;)if(i=u[s++],i!==i)return!0}else for(;a>s;s++)if((e||s in u)&&u[s]===t)return e||s||0;return!e&&-1}},arrayIncludes$2={includes:createMethod$3(!0),indexOf:createMethod$3(!1)},uncurryThis$g$1=functionUncurryThis$2,hasOwn$6$2=hasOwnProperty_1$2,toIndexedObject$3$2=toIndexedObject$6$1,indexOf$1$1=arrayIncludes$2.indexOf,hiddenKeys$2$2=hiddenKeys$4$2,push$2$1=uncurryThis$g$1([].push),objectKeysInternal$2=function(e,r){var t=toIndexedObject$3$2(e),n=0,u=[],a;for(a in t)!hasOwn$6$2(hiddenKeys$2$2,a)&&hasOwn$6$2(t,a)&&push$2$1(u,a);for(;r.length>n;)hasOwn$6$2(t,a=r[n++])&&(~indexOf$1$1(u,a)||push$2$1(u,a));return u},enumBugKeys$3$2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$2=objectKeysInternal$2,enumBugKeys$2$2=enumBugKeys$3$2,hiddenKeys$1$2=enumBugKeys$2$2.concat("length","prototype");objectGetOwnPropertyNames$2.f=Object.getOwnPropertyNames||function e(r){return internalObjectKeys$1$2(r,hiddenKeys$1$2)};var objectGetOwnPropertySymbols$2={};objectGetOwnPropertySymbols$2.f=Object.getOwnPropertySymbols;var getBuiltIn$5$2=getBuiltIn$7$2,uncurryThis$f$1=functionUncurryThis$2,getOwnPropertyNamesModule$2=objectGetOwnPropertyNames$2,getOwnPropertySymbolsModule$1$1=objectGetOwnPropertySymbols$2,anObject$9$2=anObject$b$2,concat$1$1=uncurryThis$f$1([].concat),ownKeys$1$2=getBuiltIn$5$2("Reflect","ownKeys")||function e(r){var t=getOwnPropertyNamesModule$2.f(anObject$9$2(r)),n=getOwnPropertySymbolsModule$1$1.f;return n?concat$1$1(t,n(r)):t},hasOwn$5$2=hasOwnProperty_1$2,ownKeys2$2=ownKeys$1$2,getOwnPropertyDescriptorModule$1$1=objectGetOwnPropertyDescriptor$2,definePropertyModule$2$2=objectDefineProperty$2,copyConstructorProperties$2$1=function(e,r,t){for(var n=ownKeys2$2(r),u=definePropertyModule$2$2.f,a=getOwnPropertyDescriptorModule$1$1.f,s=0;s<n.length;s++){var i=n[s];!hasOwn$5$2(e,i)&&!(t&&hasOwn$5$2(t,i))&&u(e,i,a(r,i))}},fails$j=fails$r,isCallable$b$2=isCallable$l$1,replacement$2=/#|\.prototype\./,isForced$2$2=function(e,r){var t=data$2[normalize$2(e)];return t===POLYFILL$2?!0:t===NATIVE$2?!1:isCallable$b$2(r)?fails$j(r):!!r},normalize$2=isForced$2$2.normalize=function(e){return String(e).replace(replacement$2,".").toLowerCase()},data$2=isForced$2$2.data={},NATIVE$2=isForced$2$2.NATIVE="N",POLYFILL$2=isForced$2$2.POLYFILL="P",isForced_1$2=isForced$2$2,globalThis$j$2=globalThis_1$2,getOwnPropertyDescriptor$1$2=objectGetOwnPropertyDescriptor$2.f,createNonEnumerableProperty$5$1=createNonEnumerableProperty$7,defineBuiltIn$6$2=defineBuiltIn$7$1,defineGlobalProperty$5=defineGlobalProperty$3$2,copyConstructorProperties$1$2=copyConstructorProperties$2$1,isForced$1$2=isForced_1$2,_export$2=function(e,r){var t=e.target,n=e.global,u=e.stat,a,s,i,o,c,l;if(n?s=globalThis$j$2:u?s=globalThis$j$2[t]||defineGlobalProperty$5(t,{}):s=globalThis$j$2[t]&&globalThis$j$2[t].prototype,s)for(i in r){if(c=r[i],e.dontCallGetSet?(l=getOwnPropertyDescriptor$1$2(s,i),o=l&&l.value):o=s[i],a=isForced$1$2(n?i:t+(u?".":"#")+i,e.forced),!a&&o!==void 0){if(typeof c==typeof o)continue;copyConstructorProperties$1$2(c,o)}(e.sham||o&&o.sham)&&createNonEnumerableProperty$5$1(c,"sham",!0),defineBuiltIn$6$2(s,i,c,e)}},globalThis$i$2=globalThis_1$2,userAgent$5$2=environmentUserAgent$2,classof$a=classofRaw$2$2,userAgentStartsWith$2=function(e){return userAgent$5$2.slice(0,e.length)===e},environment$2=function(){return userAgentStartsWith$2("Bun/")?"BUN":userAgentStartsWith$2("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith$2("Deno/")?"DENO":userAgentStartsWith$2("Node.js/")?"NODE":globalThis$i$2.Bun&&typeof Bun.version=="string"?"BUN":globalThis$i$2.Deno&&typeof Deno.version=="object"?"DENO":classof$a(globalThis$i$2.process)==="process"?"NODE":globalThis$i$2.window&&globalThis$i$2.document?"BROWSER":"REST"}(),ENVIRONMENT$1$2=environment$2,environmentIsNode$2=ENVIRONMENT$1$2==="NODE",uncurryThis$e$1=functionUncurryThis$2,aCallable$9$1=aCallable$b,functionUncurryThisAccessor$2=function(e,r,t){try{return uncurryThis$e$1(aCallable$9$1(Object.getOwnPropertyDescriptor(e,r)[t]))}catch{}},isObject$a$2=isObject$g,isPossiblePrototype$1$2=function(e){return isObject$a$2(e)||e===null},isPossiblePrototype$3=isPossiblePrototype$1$2,$String$1$2=String,$TypeError$a$2=TypeError,aPossiblePrototype$1$2=function(e){if(isPossiblePrototype$3(e))return e;throw new $TypeError$a$2("Can't set "+$String$1$2(e)+" as a prototype")},uncurryThisAccessor$2=functionUncurryThisAccessor$2,isObject$9$2=isObject$g,requireObjectCoercible$2$2=requireObjectCoercible$5$1,aPossiblePrototype$3=aPossiblePrototype$1$2,objectSetPrototypeOf$2=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=uncurryThisAccessor$2(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch{}return function(u,a){return requireObjectCoercible$2$2(u),aPossiblePrototype$3(a),isObject$9$2(u)&&(e?t(u,a):u.__proto__=a),u}}():void 0),defineProperty$4$2=objectDefineProperty$2.f,hasOwn$4$2=hasOwnProperty_1$2,wellKnownSymbol$g$1=wellKnownSymbol$i$1,TO_STRING_TAG$3$1=wellKnownSymbol$g$1("toStringTag"),setToStringTag$5$1=function(e,r,t){e&&!t&&(e=e.prototype),e&&!hasOwn$4$2(e,TO_STRING_TAG$3$1)&&defineProperty$4$2(e,TO_STRING_TAG$3$1,{configurable:!0,value:r})},makeBuiltIn$5=makeBuiltIn$3$2.exports,defineProperty$3$2=objectDefineProperty$2,defineBuiltInAccessor$4$1=function(e,r,t){return t.get&&makeBuiltIn$5(t.get,r,{getter:!0}),t.set&&makeBuiltIn$5(t.set,r,{setter:!0}),defineProperty$3$2.f(e,r,t)},getBuiltIn$4$2=getBuiltIn$7$2,defineBuiltInAccessor$3$1=defineBuiltInAccessor$4$1,wellKnownSymbol$f$1=wellKnownSymbol$i$1,DESCRIPTORS$7$2=descriptors$2,SPECIES$3$1=wellKnownSymbol$f$1("species"),setSpecies$2$1=function(e){var r=getBuiltIn$4$2(e);DESCRIPTORS$7$2&&r&&!r[SPECIES$3$1]&&defineBuiltInAccessor$3$1(r,SPECIES$3$1,{configurable:!0,get:function(){return this}})},isPrototypeOf$3$2=objectIsPrototypeOf$2,$TypeError$9$2=TypeError,anInstance$3$1=function(e,r){if(isPrototypeOf$3$2(r,e))return e;throw new $TypeError$9$2("Incorrect invocation")},wellKnownSymbol$e$2=wellKnownSymbol$i$1,TO_STRING_TAG$2$2=wellKnownSymbol$e$2("toStringTag"),test$1$1={};test$1$1[TO_STRING_TAG$2$2]="z";var toStringTagSupport$2=String(test$1$1)==="[object z]",TO_STRING_TAG_SUPPORT$2=toStringTagSupport$2,isCallable$a$2=isCallable$l$1,classofRaw$1$2=classofRaw$2$2,wellKnownSymbol$d$2=wellKnownSymbol$i$1,TO_STRING_TAG$1$2=wellKnownSymbol$d$2("toStringTag"),$Object$1$2=Object,CORRECT_ARGUMENTS$2=classofRaw$1$2(function(){return arguments}())==="Arguments",tryGet$2=function(e,r){try{return e[r]}catch{}},classof$9=TO_STRING_TAG_SUPPORT$2?classofRaw$1$2:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=tryGet$2(r=$Object$1$2(e),TO_STRING_TAG$1$2))=="string"?t:CORRECT_ARGUMENTS$2?classofRaw$1$2(r):(n=classofRaw$1$2(r))==="Object"&&isCallable$a$2(r.callee)?"Arguments":n},uncurryThis$d$2=functionUncurryThis$2,fails$i=fails$r,isCallable$9$2=isCallable$l$1,classof$8$1=classof$9,getBuiltIn$3$2=getBuiltIn$7$2,inspectSource$1$2=inspectSource$3$2,noop$2=function(){},construct$2=getBuiltIn$3$2("Reflect","construct"),constructorRegExp$2=/^\s*(?:class|function)\b/,exec$1$1=uncurryThis$d$2(constructorRegExp$2.exec),INCORRECT_TO_STRING$2=!constructorRegExp$2.test(noop$2),isConstructorModern$2=function e(r){if(!isCallable$9$2(r))return!1;try{return construct$2(noop$2,[],r),!0}catch{return!1}},isConstructorLegacy$2=function e(r){if(!isCallable$9$2(r))return!1;switch(classof$8$1(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$2||!!exec$1$1(constructorRegExp$2,inspectSource$1$2(r))}catch{return!0}};isConstructorLegacy$2.sham=!0;var isConstructor$2$1=!construct$2||fails$i(function(){var e;return isConstructorModern$2(isConstructorModern$2.call)||!isConstructorModern$2(Object)||!isConstructorModern$2(function(){e=!0})||e})?isConstructorLegacy$2:isConstructorModern$2,isConstructor$1$2=isConstructor$2$1,tryToString$4$2=tryToString$6,$TypeError$8$2=TypeError,aConstructor$2$1=function(e){if(isConstructor$1$2(e))return e;throw new $TypeError$8$2(tryToString$4$2(e)+" is not a constructor")},anObject$8$2=anObject$b$2,aConstructor$1$2=aConstructor$2$1,isNullOrUndefined$1$2=isNullOrUndefined$4$2,wellKnownSymbol$c$2=wellKnownSymbol$i$1,SPECIES$2$2=wellKnownSymbol$c$2("species"),speciesConstructor$1$2=function(e,r){var t=anObject$8$2(e).constructor,n;return t===void 0||isNullOrUndefined$1$2(n=anObject$8$2(t)[SPECIES$2$2])?r:aConstructor$1$2(n)},NATIVE_BIND$1$2=functionBindNative$2,FunctionPrototype$4=Function.prototype,apply$2$1=FunctionPrototype$4.apply,call$d$2=FunctionPrototype$4.call,functionApply$2=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1$2?call$d$2.bind(apply$2$1):function(){return call$d$2.apply(apply$2$1,arguments)}),classofRaw$4=classofRaw$2$2,uncurryThis$c$2=functionUncurryThis$2,functionUncurryThisClause$2=function(e){if(classofRaw$4(e)==="Function")return uncurryThis$c$2(e)},uncurryThis$b$2=functionUncurryThisClause$2,aCallable$8$2=aCallable$b,NATIVE_BIND$5=functionBindNative$2,bind$6$1=uncurryThis$b$2(uncurryThis$b$2.bind),functionBindContext$2=function(e,r){return aCallable$8$2(e),r===void 0?e:NATIVE_BIND$5?bind$6$1(e,r):function(){return e.apply(r,arguments)}},getBuiltIn$2$2=getBuiltIn$7$2,html$2$2=getBuiltIn$2$2("document","documentElement"),uncurryThis$a$2=functionUncurryThis$2,arraySlice$4$1=uncurryThis$a$2([].slice),$TypeError$7$2=TypeError,validateArgumentsLength$1$2=function(e,r){if(e<r)throw new $TypeError$7$2("Not enough arguments");return e},userAgent$4$2=environmentUserAgent$2,environmentIsIos$2=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4$2),globalThis$h$2=globalThis_1$2,apply$1$2=functionApply$2,bind$5$1=functionBindContext$2,isCallable$8$2=isCallable$l$1,hasOwn$3$2=hasOwnProperty_1$2,fails$h$1=fails$r,html$1$2=html$2$2,arraySlice$3$1=arraySlice$4$1,createElement$3=documentCreateElement$2$2,validateArgumentsLength$5=validateArgumentsLength$1$2,IS_IOS$1$2=environmentIsIos$2,IS_NODE$3$1=environmentIsNode$2,set$1$2=globalThis$h$2.setImmediate,clear$2=globalThis$h$2.clearImmediate,process$2$2=globalThis$h$2.process,Dispatch$2=globalThis$h$2.Dispatch,Function$1$2=globalThis$h$2.Function,MessageChannel$2=globalThis$h$2.MessageChannel,String$1$2=globalThis$h$2.String,counter$2=0,queue$2$2={},ONREADYSTATECHANGE$2="onreadystatechange",$location$2,defer$2,channel$2,port$2;fails$h$1(function(){$location$2=globalThis$h$2.location});var run$2=function(e){if(hasOwn$3$2(queue$2$2,e)){var r=queue$2$2[e];delete queue$2$2[e],r()}},runner$2=function(e){return function(){run$2(e)}},eventListener$2=function(e){run$2(e.data)},globalPostMessageDefer$2=function(e){globalThis$h$2.postMessage(String$1$2(e),$location$2.protocol+"//"+$location$2.host)};(!set$1$2||!clear$2)&&(set$1$2=function(r){validateArgumentsLength$5(arguments.length,1);var t=isCallable$8$2(r)?r:Function$1$2(r),n=arraySlice$3$1(arguments,1);return queue$2$2[++counter$2]=function(){apply$1$2(t,void 0,n)},defer$2(counter$2),counter$2},clear$2=function(r){delete queue$2$2[r]},IS_NODE$3$1?defer$2=function(e){process$2$2.nextTick(runner$2(e))}:Dispatch$2&&Dispatch$2.now?defer$2=function(e){Dispatch$2.now(runner$2(e))}:MessageChannel$2&&!IS_IOS$1$2?(channel$2=new MessageChannel$2,port$2=channel$2.port2,channel$2.port1.onmessage=eventListener$2,defer$2=bind$5$1(port$2.postMessage,port$2)):globalThis$h$2.addEventListener&&isCallable$8$2(globalThis$h$2.postMessage)&&!globalThis$h$2.importScripts&&$location$2&&$location$2.protocol!=="file:"&&!fails$h$1(globalPostMessageDefer$2)?(defer$2=globalPostMessageDefer$2,globalThis$h$2.addEventListener("message",eventListener$2,!1)):ONREADYSTATECHANGE$2 in createElement$3("script")?defer$2=function(e){html$1$2.appendChild(createElement$3("script"))[ONREADYSTATECHANGE$2]=function(){html$1$2.removeChild(this),run$2(e)}}:defer$2=function(e){setTimeout(runner$2(e),0)});var task$1$2={set:set$1$2},globalThis$g$2=globalThis_1$2,DESCRIPTORS$6$2=descriptors$2,getOwnPropertyDescriptor2$2=Object.getOwnPropertyDescriptor,safeGetBuiltIn$1$2=function(e){if(!DESCRIPTORS$6$2)return globalThis$g$2[e];var r=getOwnPropertyDescriptor2$2(globalThis$g$2,e);return r&&r.value},Queue$2$2=function(){this.head=null,this.tail=null};Queue$2$2.prototype={add:function(e){var r={item:e,next:null},t=this.tail;t?t.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e){var r=this.head=e.next;return r===null&&(this.tail=null),e.item}}};var queue$1$2=Queue$2$2,userAgent$3$2=environmentUserAgent$2,environmentIsIosPebble$2=/ipad|iphone|ipod/i.test(userAgent$3$2)&&typeof Pebble<"u",userAgent$2$2=environmentUserAgent$2,environmentIsWebosWebkit$2=/web0s(?!.*chrome)/i.test(userAgent$2$2),globalThis$f$2=globalThis_1$2,safeGetBuiltIn$4=safeGetBuiltIn$1$2,bind$4$2=functionBindContext$2,macrotask$2=task$1$2.set,Queue$1$2=queue$1$2,IS_IOS$3=environmentIsIos$2,IS_IOS_PEBBLE$2=environmentIsIosPebble$2,IS_WEBOS_WEBKIT$2=environmentIsWebosWebkit$2,IS_NODE$2$2=environmentIsNode$2,MutationObserver$2=globalThis$f$2.MutationObserver||globalThis$f$2.WebKitMutationObserver,document$2$2=globalThis$f$2.document,process$1$2=globalThis$f$2.process,Promise$1$2=globalThis$f$2.Promise,microtask$1$2=safeGetBuiltIn$4("queueMicrotask"),notify$1$2,toggle$2,node$2,promise$2,then$2;if(!microtask$1$2){var queue$4=new Queue$1$2,flush$2=function(){var e,r;for(IS_NODE$2$2&&(e=process$1$2.domain)&&e.exit();r=queue$4.get();)try{r()}catch(t){throw queue$4.head&&notify$1$2(),t}e&&e.enter()};!IS_IOS$3&&!IS_NODE$2$2&&!IS_WEBOS_WEBKIT$2&&MutationObserver$2&&document$2$2?(toggle$2=!0,node$2=document$2$2.createTextNode(""),new MutationObserver$2(flush$2).observe(node$2,{characterData:!0}),notify$1$2=function(){node$2.data=toggle$2=!toggle$2}):!IS_IOS_PEBBLE$2&&Promise$1$2&&Promise$1$2.resolve?(promise$2=Promise$1$2.resolve(void 0),promise$2.constructor=Promise$1$2,then$2=bind$4$2(promise$2.then,promise$2),notify$1$2=function(){then$2(flush$2)}):IS_NODE$2$2?notify$1$2=function(){process$1$2.nextTick(flush$2)}:(macrotask$2=bind$4$2(macrotask$2,globalThis$f$2),notify$1$2=function(){macrotask$2(flush$2)}),microtask$1$2=function(e){queue$4.head||notify$1$2(),queue$4.add(e)}}var microtask_1$2=microtask$1$2,hostReportErrors$1$2=function(e,r){try{arguments.length===1?console.error(e):console.error(e,r)}catch{}},perform$3$2=function(e){try{return{error:!1,value:e()}}catch(r){return{error:!0,value:r}}},globalThis$e$2=globalThis_1$2,promiseNativeConstructor$2=globalThis$e$2.Promise,globalThis$d$2=globalThis_1$2,NativePromiseConstructor$3$2=promiseNativeConstructor$2,isCallable$7$2=isCallable$l$1,isForced$4=isForced_1$2,inspectSource$5=inspectSource$3$2,wellKnownSymbol$b$2=wellKnownSymbol$i$1,ENVIRONMENT$3=environment$2,V8_VERSION$3=environmentV8Version$2;NativePromiseConstructor$3$2&&NativePromiseConstructor$3$2.prototype;var SPECIES$1$2=wellKnownSymbol$b$2("species"),SUBCLASSING$2=!1,NATIVE_PROMISE_REJECTION_EVENT$1$2=isCallable$7$2(globalThis$d$2.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5$2=isForced$4("Promise",function(){var e=inspectSource$5(NativePromiseConstructor$3$2),r=e!==String(NativePromiseConstructor$3$2);if(!r&&V8_VERSION$3===66)return!0;if(!V8_VERSION$3||V8_VERSION$3<51||!/native code/.test(e)){var t=new NativePromiseConstructor$3$2(function(a){a(1)}),n=function(a){a(function(){},function(){})},u=t.constructor={};if(u[SPECIES$1$2]=n,SUBCLASSING$2=t.then(function(){})instanceof n,!SUBCLASSING$2)return!0}return!r&&(ENVIRONMENT$3==="BROWSER"||ENVIRONMENT$3==="DENO")&&!NATIVE_PROMISE_REJECTION_EVENT$1$2}),promiseConstructorDetection$2={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5$2,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1$2,SUBCLASSING:SUBCLASSING$2},newPromiseCapability$2$2={},aCallable$7$2=aCallable$b,$TypeError$6$2=TypeError,PromiseCapability$2=function(e){var r,t;this.promise=new e(function(n,u){if(r!==void 0||t!==void 0)throw new $TypeError$6$2("Bad Promise constructor");r=n,t=u}),this.resolve=aCallable$7$2(r),this.reject=aCallable$7$2(t)};newPromiseCapability$2$2.f=function(e){return new PromiseCapability$2(e)};var $$f=_export$2,IS_NODE$1$2=environmentIsNode$2,globalThis$c$2=globalThis_1$2,call$c$2=functionCall$2,defineBuiltIn$5$2=defineBuiltIn$7$1,setPrototypeOf$5=objectSetPrototypeOf$2,setToStringTag$4$2=setToStringTag$5$1,setSpecies$1$2=setSpecies$2$1,aCallable$6$2=aCallable$b,isCallable$6$2=isCallable$l$1,isObject$8$2=isObject$g,anInstance$2$1=anInstance$3$1,speciesConstructor$3=speciesConstructor$1$2,task$3=task$1$2.set,microtask$3=microtask_1$2,hostReportErrors$3=hostReportErrors$1$2,perform$2$2=perform$3$2,Queue$4=queue$1$2,InternalStateModule$4$1=internalState$2,NativePromiseConstructor$2$2=promiseNativeConstructor$2,PromiseConstructorDetection$2=promiseConstructorDetection$2,newPromiseCapabilityModule$3$2=newPromiseCapability$2$2,PROMISE$2="Promise",FORCED_PROMISE_CONSTRUCTOR$4$2=PromiseConstructorDetection$2.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT$3=PromiseConstructorDetection$2.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING$2=PromiseConstructorDetection$2.SUBCLASSING,getInternalPromiseState$2=InternalStateModule$4$1.getterFor(PROMISE$2),setInternalState$3$1=InternalStateModule$4$1.set,NativePromisePrototype$1$2=NativePromiseConstructor$2$2&&NativePromiseConstructor$2$2.prototype,PromiseConstructor$2=NativePromiseConstructor$2$2,PromisePrototype$2=NativePromisePrototype$1$2,TypeError$2$2=globalThis$c$2.TypeError,document$1$2=globalThis$c$2.document,process$6=globalThis$c$2.process,newPromiseCapability$1$2=newPromiseCapabilityModule$3$2.f,newGenericPromiseCapability$2=newPromiseCapability$1$2,DISPATCH_EVENT$2=!!(document$1$2&&document$1$2.createEvent&&globalThis$c$2.dispatchEvent),UNHANDLED_REJECTION$2="unhandledrejection",REJECTION_HANDLED$2="rejectionhandled",PENDING$2=0,FULFILLED$2=1,REJECTED$2=2,HANDLED$2=1,UNHANDLED$2=2,Internal$2,OwnPromiseCapability$2,PromiseWrapper$2,nativeThen$2,isThenable$2=function(e){var r;return isObject$8$2(e)&&isCallable$6$2(r=e.then)?r:!1},callReaction$2=function(e,r){var t=r.value,n=r.state===FULFILLED$2,u=n?e.ok:e.fail,a=e.resolve,s=e.reject,i=e.domain,o,c,l;try{u?(n||(r.rejection===UNHANDLED$2&&onHandleUnhandled$2(r),r.rejection=HANDLED$2),u===!0?o=t:(i&&i.enter(),o=u(t),i&&(i.exit(),l=!0)),o===e.promise?s(new TypeError$2$2("Promise-chain cycle")):(c=isThenable$2(o))?call$c$2(c,o,a,s):a(o)):s(t)}catch(f){i&&!l&&i.exit(),s(f)}},notify$3=function(e,r){e.notified||(e.notified=!0,microtask$3(function(){for(var t=e.reactions,n;n=t.get();)callReaction$2(n,e);e.notified=!1,r&&!e.rejection&&onUnhandled$2(e)}))},dispatchEvent$2=function(e,r,t){var n,u;DISPATCH_EVENT$2?(n=document$1$2.createEvent("Event"),n.promise=r,n.reason=t,n.initEvent(e,!1,!0),globalThis$c$2.dispatchEvent(n)):n={promise:r,reason:t},!NATIVE_PROMISE_REJECTION_EVENT$3&&(u=globalThis$c$2["on"+e])?u(n):e===UNHANDLED_REJECTION$2&&hostReportErrors$3("Unhandled promise rejection",t)},onUnhandled$2=function(e){call$c$2(task$3,globalThis$c$2,function(){var r=e.facade,t=e.value,n=isUnhandled$2(e),u;if(n&&(u=perform$2$2(function(){IS_NODE$1$2?process$6.emit("unhandledRejection",t,r):dispatchEvent$2(UNHANDLED_REJECTION$2,r,t)}),e.rejection=IS_NODE$1$2||isUnhandled$2(e)?UNHANDLED$2:HANDLED$2,u.error))throw u.value})},isUnhandled$2=function(e){return e.rejection!==HANDLED$2&&!e.parent},onHandleUnhandled$2=function(e){call$c$2(task$3,globalThis$c$2,function(){var r=e.facade;IS_NODE$1$2?process$6.emit("rejectionHandled",r):dispatchEvent$2(REJECTION_HANDLED$2,r,e.value)})},bind$3$2=function(e,r,t){return function(n){e(r,n,t)}},internalReject$2=function(e,r,t){e.done||(e.done=!0,t&&(e=t),e.value=r,e.state=REJECTED$2,notify$3(e,!0))},internalResolve$2=function(e,r,t){if(!e.done){e.done=!0,t&&(e=t);try{if(e.facade===r)throw new TypeError$2$2("Promise can't be resolved itself");var n=isThenable$2(r);n?microtask$3(function(){var u={done:!1};try{call$c$2(n,r,bind$3$2(internalResolve$2,u,e),bind$3$2(internalReject$2,u,e))}catch(a){internalReject$2(u,a,e)}}):(e.value=r,e.state=FULFILLED$2,notify$3(e,!1))}catch(u){internalReject$2({done:!1},u,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4$2&&(PromiseConstructor$2=function(r){anInstance$2$1(this,PromisePrototype$2),aCallable$6$2(r),call$c$2(Internal$2,this);var t=getInternalPromiseState$2(this);try{r(bind$3$2(internalResolve$2,t),bind$3$2(internalReject$2,t))}catch(n){internalReject$2(t,n)}},PromisePrototype$2=PromiseConstructor$2.prototype,Internal$2=function(r){setInternalState$3$1(this,{type:PROMISE$2,done:!1,notified:!1,parent:!1,reactions:new Queue$4,rejection:!1,state:PENDING$2,value:null})},Internal$2.prototype=defineBuiltIn$5$2(PromisePrototype$2,"then",function(r,t){var n=getInternalPromiseState$2(this),u=newPromiseCapability$1$2(speciesConstructor$3(this,PromiseConstructor$2));return n.parent=!0,u.ok=isCallable$6$2(r)?r:!0,u.fail=isCallable$6$2(t)&&t,u.domain=IS_NODE$1$2?process$6.domain:void 0,n.state===PENDING$2?n.reactions.add(u):microtask$3(function(){callReaction$2(u,n)}),u.promise}),OwnPromiseCapability$2=function(){var e=new Internal$2,r=getInternalPromiseState$2(e);this.promise=e,this.resolve=bind$3$2(internalResolve$2,r),this.reject=bind$3$2(internalReject$2,r)},newPromiseCapabilityModule$3$2.f=newPromiseCapability$1$2=function(e){return e===PromiseConstructor$2||e===PromiseWrapper$2?new OwnPromiseCapability$2(e):newGenericPromiseCapability$2(e)},isCallable$6$2(NativePromiseConstructor$2$2)&&NativePromisePrototype$1$2!==Object.prototype)){nativeThen$2=NativePromisePrototype$1$2.then,NATIVE_PROMISE_SUBCLASSING$2||defineBuiltIn$5$2(NativePromisePrototype$1$2,"then",function(r,t){var n=this;return new PromiseConstructor$2(function(u,a){call$c$2(nativeThen$2,n,u,a)}).then(r,t)},{unsafe:!0});try{delete NativePromisePrototype$1$2.constructor}catch{}setPrototypeOf$5&&setPrototypeOf$5(NativePromisePrototype$1$2,PromisePrototype$2)}$$f({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4$2},{Promise:PromiseConstructor$2});setToStringTag$4$2(PromiseConstructor$2,PROMISE$2,!1);setSpecies$1$2(PROMISE$2);var iterators$2={},wellKnownSymbol$a$2=wellKnownSymbol$i$1,Iterators$4$2=iterators$2,ITERATOR$5$2=wellKnownSymbol$a$2("iterator"),ArrayPrototype$1$2=Array.prototype,isArrayIteratorMethod$2$1=function(e){return e!==void 0&&(Iterators$4$2.Array===e||ArrayPrototype$1$2[ITERATOR$5$2]===e)},classof$7$1=classof$9,getMethod$1$2=getMethod$3$2,isNullOrUndefined$6=isNullOrUndefined$4$2,Iterators$3$2=iterators$2,wellKnownSymbol$9$2=wellKnownSymbol$i$1,ITERATOR$4$2=wellKnownSymbol$9$2("iterator"),getIteratorMethod$3$1=function(e){if(!isNullOrUndefined$6(e))return getMethod$1$2(e,ITERATOR$4$2)||getMethod$1$2(e,"@@iterator")||Iterators$3$2[classof$7$1(e)]},call$b$2=functionCall$2,aCallable$5$2=aCallable$b,anObject$7$2=anObject$b$2,tryToString$3$2=tryToString$6,getIteratorMethod$2$2=getIteratorMethod$3$1,$TypeError$5$2=TypeError,getIterator$2$1=function(e,r){var t=arguments.length<2?getIteratorMethod$2$2(e):r;if(aCallable$5$2(t))return anObject$7$2(call$b$2(t,e));throw new $TypeError$5$2(tryToString$3$2(e)+" is not iterable")},call$a$2=functionCall$2,anObject$6$2=anObject$b$2,getMethod$5=getMethod$3$2,iteratorClose$1$2=function(e,r,t){var n,u;anObject$6$2(e);try{if(n=getMethod$5(e,"return"),!n){if(r==="throw")throw t;return t}n=call$a$2(n,e)}catch(a){u=!0,n=a}if(r==="throw")throw t;if(u)throw n;return anObject$6$2(n),t},bind$2$2=functionBindContext$2,call$9$2=functionCall$2,anObject$5$2=anObject$b$2,tryToString$2$2=tryToString$6,isArrayIteratorMethod$1$2=isArrayIteratorMethod$2$1,lengthOfArrayLike$7=lengthOfArrayLike$9,isPrototypeOf$2$2=objectIsPrototypeOf$2,getIterator$1$2=getIterator$2$1,getIteratorMethod$1$2=getIteratorMethod$3$1,iteratorClose$4=iteratorClose$1$2,$TypeError$4$2=TypeError,Result$2=function(e,r){this.stopped=e,this.result=r},ResultPrototype$2=Result$2.prototype,iterate$2$2=function(e,r,t){var n=t&&t.that,u=!!(t&&t.AS_ENTRIES),a=!!(t&&t.IS_RECORD),s=!!(t&&t.IS_ITERATOR),i=!!(t&&t.INTERRUPTED),o=bind$2$2(r,n),c,l,f,d,h,v,p,g=function(A){return c&&iteratorClose$4(c,"normal",A),new Result$2(!0,A)},E=function(A){return u?(anObject$5$2(A),i?o(A[0],A[1],g):o(A[0],A[1])):i?o(A,g):o(A)};if(a)c=e.iterator;else if(s)c=e;else{if(l=getIteratorMethod$1$2(e),!l)throw new $TypeError$4$2(tryToString$2$2(e)+" is not iterable");if(isArrayIteratorMethod$1$2(l)){for(f=0,d=lengthOfArrayLike$7(e);d>f;f++)if(h=E(e[f]),h&&isPrototypeOf$2$2(ResultPrototype$2,h))return h;return new Result$2(!1)}c=getIterator$1$2(e,l)}for(v=a?e.next:c.next;!(p=call$9$2(v,c)).done;){try{h=E(p.value)}catch(A){iteratorClose$4(c,"throw",A)}if(typeof h=="object"&&h&&isPrototypeOf$2$2(ResultPrototype$2,h))return h}return new Result$2(!1)},wellKnownSymbol$8$2=wellKnownSymbol$i$1,ITERATOR$3$2=wellKnownSymbol$8$2("iterator"),SAFE_CLOSING$2=!1;try{var called$2=0,iteratorWithReturn$2={next:function(){return{done:!!called$2++}},return:function(){SAFE_CLOSING$2=!0}};iteratorWithReturn$2[ITERATOR$3$2]=function(){return this},Array.from(iteratorWithReturn$2,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$2$1=function(e,r){try{if(!r&&!SAFE_CLOSING$2)return!1}catch{return!1}var t=!1;try{var n={};n[ITERATOR$3$2]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},NativePromiseConstructor$1$2=promiseNativeConstructor$2,checkCorrectnessOfIteration$1$2=checkCorrectnessOfIteration$2$1,FORCED_PROMISE_CONSTRUCTOR$3$2=promiseConstructorDetection$2.CONSTRUCTOR,promiseStaticsIncorrectIteration$2=FORCED_PROMISE_CONSTRUCTOR$3$2||!checkCorrectnessOfIteration$1$2(function(e){NativePromiseConstructor$1$2.all(e).then(void 0,function(){})}),$$e$1=_export$2,call$8$2=functionCall$2,aCallable$4$2=aCallable$b,newPromiseCapabilityModule$2$2=newPromiseCapability$2$2,perform$1$2=perform$3$2,iterate$1$2=iterate$2$2,PROMISE_STATICS_INCORRECT_ITERATION$1$2=promiseStaticsIncorrectIteration$2;$$e$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1$2},{all:function e(r){var t=this,n=newPromiseCapabilityModule$2$2.f(t),u=n.resolve,a=n.reject,s=perform$1$2(function(){var i=aCallable$4$2(t.resolve),o=[],c=0,l=1;iterate$1$2(r,function(f){var d=c++,h=!1;l++,call$8$2(i,t,f).then(function(v){h||(h=!0,o[d]=v,--l||u(o))},a)}),--l||u(o)});return s.error&&a(s.value),n.promise}});var $$d$1=_export$2,FORCED_PROMISE_CONSTRUCTOR$2$2=promiseConstructorDetection$2.CONSTRUCTOR,NativePromiseConstructor$5=promiseNativeConstructor$2,getBuiltIn$1$2=getBuiltIn$7$2,isCallable$5$2=isCallable$l$1,defineBuiltIn$4$2=defineBuiltIn$7$1,NativePromisePrototype$3=NativePromiseConstructor$5&&NativePromiseConstructor$5.prototype;$$d$1({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2$2,real:!0},{catch:function(e){return this.then(void 0,e)}});if(isCallable$5$2(NativePromiseConstructor$5)){var method$2=getBuiltIn$1$2("Promise").prototype.catch;NativePromisePrototype$3.catch!==method$2&&defineBuiltIn$4$2(NativePromisePrototype$3,"catch",method$2,{unsafe:!0})}var $$c$1=_export$2,call$7$2=functionCall$2,aCallable$3$2=aCallable$b,newPromiseCapabilityModule$1$2=newPromiseCapability$2$2,perform$5=perform$3$2,iterate$4=iterate$2$2,PROMISE_STATICS_INCORRECT_ITERATION$3=promiseStaticsIncorrectIteration$2;$$c$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$3},{race:function e(r){var t=this,n=newPromiseCapabilityModule$1$2.f(t),u=n.reject,a=perform$5(function(){var s=aCallable$3$2(t.resolve);iterate$4(r,function(i){call$7$2(s,t,i).then(n.resolve,u)})});return a.error&&u(a.value),n.promise}});var $$b$1=_export$2,newPromiseCapabilityModule$5=newPromiseCapability$2$2,FORCED_PROMISE_CONSTRUCTOR$1$2=promiseConstructorDetection$2.CONSTRUCTOR;$$b$1({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1$2},{reject:function e(r){var t=newPromiseCapabilityModule$5.f(this),n=t.reject;return n(r),t.promise}});var anObject$4$2=anObject$b$2,isObject$7$2=isObject$g,newPromiseCapability$4=newPromiseCapability$2$2,promiseResolve$1$2=function(e,r){if(anObject$4$2(e),isObject$7$2(r)&&r.constructor===e)return r;var t=newPromiseCapability$4.f(e),n=t.resolve;return n(r),t.promise},$$a$1=_export$2,getBuiltIn$a=getBuiltIn$7$2,FORCED_PROMISE_CONSTRUCTOR$7=promiseConstructorDetection$2.CONSTRUCTOR,promiseResolve$3=promiseResolve$1$2;getBuiltIn$a("Promise");$$a$1({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$7},{resolve:function e(r){return promiseResolve$3(this,r)}});class WebStorageService{getItem(r){return new Promise(t=>{const n=localStorage.getItem(r);t(n)})}setItem(r,t){return new Promise(n=>{localStorage.setItem(r,t),n()})}removeItem(r){return new Promise(t=>{localStorage.removeItem(r),t()})}}var objectDefineProperties$2={},internalObjectKeys$3=objectKeysInternal$2,enumBugKeys$1$2=enumBugKeys$3$2,objectKeys$2$1=Object.keys||function e(r){return internalObjectKeys$3(r,enumBugKeys$1$2)},DESCRIPTORS$5$2=descriptors$2,V8_PROTOTYPE_DEFINE_BUG$3=v8PrototypeDefineBug$2,definePropertyModule$1$2=objectDefineProperty$2,anObject$3$2=anObject$b$2,toIndexedObject$2$2=toIndexedObject$6$1,objectKeys$1$2=objectKeys$2$1;objectDefineProperties$2.f=DESCRIPTORS$5$2&&!V8_PROTOTYPE_DEFINE_BUG$3?Object.defineProperties:function e(r,t){anObject$3$2(r);for(var n=toIndexedObject$2$2(t),u=objectKeys$1$2(t),a=u.length,s=0,i;a>s;)definePropertyModule$1$2.f(r,i=u[s++],n[i]);return r};var anObject$2$2=anObject$b$2,definePropertiesModule$2=objectDefineProperties$2,enumBugKeys$5=enumBugKeys$3$2,hiddenKeys$6=hiddenKeys$4$2,html$4=html$2$2,documentCreateElement$1$2=documentCreateElement$2$2,sharedKey$1$2=sharedKey$3$2,GT$2=">",LT$2="<",PROTOTYPE$1$1="prototype",SCRIPT$2="script",IE_PROTO$1$2=sharedKey$1$2("IE_PROTO"),EmptyConstructor$2=function(){},scriptTag$2=function(e){return LT$2+SCRIPT$2+GT$2+e+LT$2+"/"+SCRIPT$2+GT$2},NullProtoObjectViaActiveX$2=function(e){e.write(scriptTag$2("")),e.close();var r=e.parentWindow.Object;return e=null,r},NullProtoObjectViaIFrame$2=function(){var e=documentCreateElement$1$2("iframe"),r="java"+SCRIPT$2+":",t;return e.style.display="none",html$4.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(scriptTag$2("document.F=Object")),t.close(),t.F},activeXDocument$2,NullProtoObject$2=function(){try{activeXDocument$2=new ActiveXObject("htmlfile")}catch{}NullProtoObject$2=typeof document<"u"?document.domain&&activeXDocument$2?NullProtoObjectViaActiveX$2(activeXDocument$2):NullProtoObjectViaIFrame$2():NullProtoObjectViaActiveX$2(activeXDocument$2);for(var e=enumBugKeys$5.length;e--;)delete NullProtoObject$2[PROTOTYPE$1$1][enumBugKeys$5[e]];return NullProtoObject$2()};hiddenKeys$6[IE_PROTO$1$2]=!0;var objectCreate$2=Object.create||function e(r,t){var n;return r!==null?(EmptyConstructor$2[PROTOTYPE$1$1]=anObject$2$2(r),n=new EmptyConstructor$2,EmptyConstructor$2[PROTOTYPE$1$1]=null,n[IE_PROTO$1$2]=r):n=NullProtoObject$2(),t===void 0?n:definePropertiesModule$2.f(n,t)},wellKnownSymbol$7$2=wellKnownSymbol$i$1,create$3=objectCreate$2,defineProperty$2$2=objectDefineProperty$2.f,UNSCOPABLES$2=wellKnownSymbol$7$2("unscopables"),ArrayPrototype$3=Array.prototype;ArrayPrototype$3[UNSCOPABLES$2]===void 0&&defineProperty$2$2(ArrayPrototype$3,UNSCOPABLES$2,{configurable:!0,value:create$3(null)});var addToUnscopables$2$1=function(e){ArrayPrototype$3[UNSCOPABLES$2][e]=!0},fails$g$1=fails$r,correctPrototypeGetter$2=!fails$g$1(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hasOwn$2$2=hasOwnProperty_1$2,isCallable$4$2=isCallable$l$1,toObject$6=toObject$8,sharedKey$5=sharedKey$3$2,CORRECT_PROTOTYPE_GETTER$2=correctPrototypeGetter$2,IE_PROTO$3=sharedKey$5("IE_PROTO"),$Object$6=Object,ObjectPrototype$2=$Object$6.prototype,objectGetPrototypeOf$2=CORRECT_PROTOTYPE_GETTER$2?$Object$6.getPrototypeOf:function(e){var r=toObject$6(e);if(hasOwn$2$2(r,IE_PROTO$3))return r[IE_PROTO$3];var t=r.constructor;return isCallable$4$2(t)&&r instanceof t?t.prototype:r instanceof $Object$6?ObjectPrototype$2:null},fails$f$1=fails$r,isCallable$3$2=isCallable$l$1,isObject$6$2=isObject$g,getPrototypeOf$3=objectGetPrototypeOf$2,defineBuiltIn$3$2=defineBuiltIn$7$1,wellKnownSymbol$6$2=wellKnownSymbol$i$1,ITERATOR$2$2=wellKnownSymbol$6$2("iterator"),BUGGY_SAFARI_ITERATORS$1$2=!1,IteratorPrototype$2$2,PrototypeOfArrayIteratorPrototype$2,arrayIterator$2;[].keys&&(arrayIterator$2=[].keys(),"next"in arrayIterator$2?(PrototypeOfArrayIteratorPrototype$2=getPrototypeOf$3(getPrototypeOf$3(arrayIterator$2)),PrototypeOfArrayIteratorPrototype$2!==Object.prototype&&(IteratorPrototype$2$2=PrototypeOfArrayIteratorPrototype$2)):BUGGY_SAFARI_ITERATORS$1$2=!0);var NEW_ITERATOR_PROTOTYPE$2=!isObject$6$2(IteratorPrototype$2$2)||fails$f$1(function(){var e={};return IteratorPrototype$2$2[ITERATOR$2$2].call(e)!==e});NEW_ITERATOR_PROTOTYPE$2&&(IteratorPrototype$2$2={});isCallable$3$2(IteratorPrototype$2$2[ITERATOR$2$2])||defineBuiltIn$3$2(IteratorPrototype$2$2,ITERATOR$2$2,function(){return this});var iteratorsCore$2={IteratorPrototype:IteratorPrototype$2$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$2},IteratorPrototype$1$2=iteratorsCore$2.IteratorPrototype,create$2$1=objectCreate$2,createPropertyDescriptor$1$2=createPropertyDescriptor$4$1,setToStringTag$3$2=setToStringTag$5$1,Iterators$2$2=iterators$2,returnThis$1$2=function(){return this},iteratorCreateConstructor$2=function(e,r,t,n){var u=r+" Iterator";return e.prototype=create$2$1(IteratorPrototype$1$2,{next:createPropertyDescriptor$1$2(+!n,t)}),setToStringTag$3$2(e,u,!1),Iterators$2$2[u]=returnThis$1$2,e},$$9$1=_export$2,call$6$2=functionCall$2,FunctionName$1$1=functionName$2,isCallable$2$2=isCallable$l$1,createIteratorConstructor$3=iteratorCreateConstructor$2,getPrototypeOf$2$1=objectGetPrototypeOf$2,setPrototypeOf$4=objectSetPrototypeOf$2,setToStringTag$2$2=setToStringTag$5$1,createNonEnumerableProperty$4$2=createNonEnumerableProperty$7,defineBuiltIn$2$2=defineBuiltIn$7$1,wellKnownSymbol$5$2=wellKnownSymbol$i$1,Iterators$1$2=iterators$2,IteratorsCore$2=iteratorsCore$2,PROPER_FUNCTION_NAME$2$1=FunctionName$1$1.PROPER,CONFIGURABLE_FUNCTION_NAME$1$2=FunctionName$1$1.CONFIGURABLE,IteratorPrototype$4=IteratorsCore$2.IteratorPrototype,BUGGY_SAFARI_ITERATORS$3=IteratorsCore$2.BUGGY_SAFARI_ITERATORS,ITERATOR$1$2=wellKnownSymbol$5$2("iterator"),KEYS$2="keys",VALUES$2="values",ENTRIES$2="entries",returnThis$3=function(){return this},iteratorDefine$2=function(e,r,t,n,u,a,s){createIteratorConstructor$3(t,r,n);var i=function(E){if(E===u&&d)return d;if(!BUGGY_SAFARI_ITERATORS$3&&E&&E in l)return l[E];switch(E){case KEYS$2:return function(){return new t(this,E)};case VALUES$2:return function(){return new t(this,E)};case ENTRIES$2:return function(){return new t(this,E)}}return function(){return new t(this)}},o=r+" Iterator",c=!1,l=e.prototype,f=l[ITERATOR$1$2]||l["@@iterator"]||u&&l[u],d=!BUGGY_SAFARI_ITERATORS$3&&f||i(u),h=r==="Array"&&l.entries||f,v,p,g;if(h&&(v=getPrototypeOf$2$1(h.call(new e)),v!==Object.prototype&&v.next&&(getPrototypeOf$2$1(v)!==IteratorPrototype$4&&(setPrototypeOf$4?setPrototypeOf$4(v,IteratorPrototype$4):isCallable$2$2(v[ITERATOR$1$2])||defineBuiltIn$2$2(v,ITERATOR$1$2,returnThis$3)),setToStringTag$2$2(v,o,!0))),PROPER_FUNCTION_NAME$2$1&&u===VALUES$2&&f&&f.name!==VALUES$2&&(CONFIGURABLE_FUNCTION_NAME$1$2?createNonEnumerableProperty$4$2(l,"name",VALUES$2):(c=!0,d=function(){return call$6$2(f,this)})),u)if(p={values:i(VALUES$2),keys:a?d:i(KEYS$2),entries:i(ENTRIES$2)},s)for(g in p)(BUGGY_SAFARI_ITERATORS$3||c||!(g in l))&&defineBuiltIn$2$2(l,g,p[g]);else $$9$1({target:r,proto:!0,forced:BUGGY_SAFARI_ITERATORS$3||c},p);return l[ITERATOR$1$2]!==d&&defineBuiltIn$2$2(l,ITERATOR$1$2,d,{name:u}),Iterators$1$2[r]=d,p},createIterResultObject$1$2=function(e,r){return{value:e,done:r}},toIndexedObject$1$2=toIndexedObject$6$1,addToUnscopables$1$2=addToUnscopables$2$1,Iterators$6=iterators$2,InternalStateModule$3$1=internalState$2,defineProperty$1$2=objectDefineProperty$2.f,defineIterator$3=iteratorDefine$2,createIterResultObject$5=createIterResultObject$1$2,DESCRIPTORS$4$2=descriptors$2,ARRAY_ITERATOR$2="Array Iterator",setInternalState$2$1=InternalStateModule$3$1.set,getInternalState$3$1=InternalStateModule$3$1.getterFor(ARRAY_ITERATOR$2),es_array_iterator$2=defineIterator$3(Array,"Array",function(e,r){setInternalState$2$1(this,{type:ARRAY_ITERATOR$2,target:toIndexedObject$1$2(e),index:0,kind:r})},function(){var e=getInternalState$3$1(this),r=e.target,t=e.index++;if(!r||t>=r.length)return e.target=null,createIterResultObject$5(void 0,!0);switch(e.kind){case"keys":return createIterResultObject$5(t,!1);case"values":return createIterResultObject$5(r[t],!1)}return createIterResultObject$5([t,r[t]],!1)},"values"),values$2=Iterators$6.Arguments=Iterators$6.Array;addToUnscopables$1$2("keys");addToUnscopables$1$2("values");addToUnscopables$1$2("entries");if(DESCRIPTORS$4$2&&values$2.name!=="values")try{defineProperty$1$2(values$2,"name",{value:"values"})}catch(e){}var domIterables$2={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement$4=documentCreateElement$2$2,classList$2=documentCreateElement$4("span").classList,DOMTokenListPrototype$1$2=classList$2&&classList$2.constructor&&classList$2.constructor.prototype,domTokenListPrototype$2=DOMTokenListPrototype$1$2===Object.prototype?void 0:DOMTokenListPrototype$1$2,globalThis$b$2=globalThis_1$2,DOMIterables$2=domIterables$2,DOMTokenListPrototype$3=domTokenListPrototype$2,ArrayIteratorMethods$2=es_array_iterator$2,createNonEnumerableProperty$3$2=createNonEnumerableProperty$7,setToStringTag$1$2=setToStringTag$5$1,wellKnownSymbol$4$2=wellKnownSymbol$i$1,ITERATOR$9=wellKnownSymbol$4$2("iterator"),ArrayValues$2=ArrayIteratorMethods$2.values,handlePrototype$2=function(e,r){if(e){if(e[ITERATOR$9]!==ArrayValues$2)try{createNonEnumerableProperty$3$2(e,ITERATOR$9,ArrayValues$2)}catch{e[ITERATOR$9]=ArrayValues$2}if(setToStringTag$1$2(e,r,!0),DOMIterables$2[r]){for(var t in ArrayIteratorMethods$2)if(e[t]!==ArrayIteratorMethods$2[t])try{createNonEnumerableProperty$3$2(e,t,ArrayIteratorMethods$2[t])}catch{e[t]=ArrayIteratorMethods$2[t]}}}};for(var COLLECTION_NAME$2 in DOMIterables$2)handlePrototype$2(globalThis$b$2[COLLECTION_NAME$2]&&globalThis$b$2[COLLECTION_NAME$2].prototype,COLLECTION_NAME$2);handlePrototype$2(DOMTokenListPrototype$3,"DOMTokenList");class Logger{constructor(r){this.namespace=r}emit(r,...t){if(Logger.debug){if(this.namespace&&r!=="error"){console[r](this.namespace,...t);return}console[r](...t)}}log(...r){this.emit("log",...r)}info(...r){this.emit("info",...r)}warn(...r){this.emit("warn",...r)}error(...r){this.emit("error",...r)}}Logger.debug=!1;const logger$3=new Logger;var $$8$1=_export$2,$includes$1=arrayIncludes$2.includes,fails$e$1=fails$r,addToUnscopables$4=addToUnscopables$2$1,BROKEN_ON_SPARSE$1=fails$e$1(function(){return!Array(1).includes()});$$8$1({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE$1},{includes:function e(r){return $includes$1(this,r,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$4("includes");var DESCRIPTORS$3$2=descriptors$2,uncurryThis$9$2=functionUncurryThis$2,call$5$2=functionCall$2,fails$d$2=fails$r,objectKeys$4=objectKeys$2$1,getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols$2,propertyIsEnumerableModule$3=objectPropertyIsEnumerable$2,toObject$5$1=toObject$8,IndexedObject$2$1=indexedObject$2,$assign$1=Object.assign,defineProperty3$2=Object.defineProperty,concat$3=uncurryThis$9$2([].concat),objectAssign$1=!$assign$1||fails$d$2(function(){if(DESCRIPTORS$3$2&&$assign$1({b:1},$assign$1(defineProperty3$2({},"a",{enumerable:!0,get:function(){defineProperty3$2(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},r={},t=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[t]=7,n.split("").forEach(function(u){r[u]=u}),$assign$1({},e)[t]!==7||objectKeys$4($assign$1({},r)).join("")!==n})?function e(r,t){for(var n=toObject$5$1(r),u=arguments.length,a=1,s=getOwnPropertySymbolsModule$3.f,i=propertyIsEnumerableModule$3.f;u>a;)for(var o=IndexedObject$2$1(arguments[a++]),c=s?concat$3(objectKeys$4(o),s(o)):objectKeys$4(o),l=c.length,f=0,d;l>f;)d=c[f++],(!DESCRIPTORS$3$2||call$5$2(i,o,d))&&(n[d]=o[d]);return n}:$assign$1,$$7$1=_export$2,assign2$1=objectAssign$1;$$7$1({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign2$1},{assign:assign2$1});var isObject$5$2=isObject$g,classof$6$1=classofRaw$2$2,wellKnownSymbol$3$2=wellKnownSymbol$i$1,MATCH$1$1=wellKnownSymbol$3$2("match"),isRegexp$1=function(e){var r;return isObject$5$2(e)&&((r=e[MATCH$1$1])!==void 0?!!r:classof$6$1(e)==="RegExp")},isRegExp$1=isRegexp$1,$TypeError$3$2=TypeError,notARegexp$1=function(e){if(isRegExp$1(e))throw new $TypeError$3$2("The method doesn't accept regular expressions");return e},classof$5$2=classof$9,$String$7=String,toString$4$1=function(e){if(classof$5$2(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String$7(e)},wellKnownSymbol$2$2=wellKnownSymbol$i$1,MATCH$2=wellKnownSymbol$2$2("match"),correctIsRegexpLogic$1=function(e){var r=/./;try{"/./"[e](r)}catch{try{return r[MATCH$2]=!1,"/./"[e](r)}catch{}}return!1},$$6$2=_export$2,uncurryThis$8$2=functionUncurryThis$2,notARegExp$1=notARegexp$1,requireObjectCoercible$1$2=requireObjectCoercible$5$1,toString$3$1=toString$4$1,correctIsRegExpLogic$1=correctIsRegexpLogic$1,stringIndexOf$1=uncurryThis$8$2("".indexOf);$$6$2({target:"String",proto:!0,forced:!correctIsRegExpLogic$1("includes")},{includes:function e(r){return!!~stringIndexOf$1(toString$3$1(requireObjectCoercible$1$2(this)),toString$3$1(notARegExp$1(r)),arguments.length>1?arguments[1]:void 0)}});var whitespaces$2=`	
\v\f\r                　\u2028\u2029\uFEFF`,uncurryThis$7$2=functionUncurryThis$2,requireObjectCoercible$7=requireObjectCoercible$5$1,toString$2$2=toString$4$1,whitespaces$1=whitespaces$2,replace$1$1=uncurryThis$7$2("".replace),ltrim=RegExp("^["+whitespaces$1+"]+"),rtrim=RegExp("(^|[^"+whitespaces$1+"])["+whitespaces$1+"]+$"),createMethod$2$1=function(e){return function(r){var t=toString$2$2(requireObjectCoercible$7(r));return e&1&&(t=replace$1$1(t,ltrim,"")),e&2&&(t=replace$1$1(t,rtrim,"$1")),t}},stringTrim={trim:createMethod$2$1(3)},PROPER_FUNCTION_NAME$1$2=functionName$2.PROPER,fails$c$2=fails$r,whitespaces=whitespaces$2,non="​᠎",stringTrimForced=function(e){return fails$c$2(function(){return!!whitespaces[e]()||non[e]()!==non||PROPER_FUNCTION_NAME$1$2&&whitespaces[e].name!==e})},$$5$2=_export$2,$trim=stringTrim.trim,forcedStringTrimMethod=stringTrimForced;$$5$2({target:"String",proto:!0,forced:forcedStringTrimMethod("trim")},{trim:function e(){return $trim(this)}});class EventEmitter{constructor(){this.emitter=new eventsExports.EventEmitter}on(r,t){return this.emitter.on(r,t),{remove:()=>this.emitter.off(r,t)}}off(r,t){this.emitter.off(r,t)}emit(r,t){this.emitter.emit(r,t)}}const PACKAGE_NAME="near-wallet-selector",RECENTLY_SIGNED_IN_WALLETS="recentlySignedInWallets",REMEMBER_RECENT_WALLETS="rememberRecentWallets",REMEMBER_RECENT_WALLETS_STATE={ENABLED:"enabled",DISABLED:"disabled"},CONTRACT="contract",PENDING_CONTRACT="contract:pending",SELECTED_WALLET_ID="selectedWalletId",PENDING_SELECTED_WALLET_ID="selectedWalletId:pending";class WalletModules{constructor({factories:r,storage:t,options:n,store:u,emitter:a,provider:s}){this.factories=r,this.storage=t,this.options=n,this.store=u,this.emitter=a,this.provider=s,this.modules=[],this.instances={}}validateWallet(r){return __awaiter$1(this,void 0,void 0,function*(){let t=[];const n=yield this.getWallet(r);return n&&(t=yield n.getAccounts().catch(u=>(logger$3.log(`Failed to validate ${n.id} during setup`),logger$3.error(u),[]))),t})}resolveStorageState(){return __awaiter$1(this,void 0,void 0,function*(){const r=new JsonStorage(this.storage,PACKAGE_NAME),t=yield r.getItem(PENDING_SELECTED_WALLET_ID),n=yield r.getItem(PENDING_CONTRACT),u=yield r.getItem(REMEMBER_RECENT_WALLETS);if(t&&n){const c=yield this.validateWallet(t);if(yield r.removeItem(PENDING_SELECTED_WALLET_ID),yield r.removeItem(PENDING_CONTRACT),c.length){const{selectedWalletId:l}=this.store.getState(),f=yield this.getWallet(l);f&&t!==l&&(yield f.signOut().catch(h=>{logger$3.log("Failed to sign out existing wallet"),logger$3.error(h)}));let d=[];return u===REMEMBER_RECENT_WALLETS_STATE.ENABLED&&(d=yield this.setWalletAsRecentlySignedIn(t)),{accounts:c,contract:n,selectedWalletId:t,recentlySignedInWallets:d,rememberRecentWallets:u||REMEMBER_RECENT_WALLETS_STATE.ENABLED}}}const{contract:a,selectedWalletId:s}=this.store.getState(),i=yield this.validateWallet(s),o=yield r.getItem(RECENTLY_SIGNED_IN_WALLETS);return i.length?{accounts:i,contract:a,selectedWalletId:s,recentlySignedInWallets:o||[],rememberRecentWallets:u||REMEMBER_RECENT_WALLETS_STATE.ENABLED}:{accounts:[],contract:null,selectedWalletId:null,recentlySignedInWallets:o||[],rememberRecentWallets:u||REMEMBER_RECENT_WALLETS_STATE.ENABLED}})}setWalletAsRecentlySignedIn(r){return __awaiter$1(this,void 0,void 0,function*(){const t=new JsonStorage(this.storage,PACKAGE_NAME);let n=yield t.getItem(RECENTLY_SIGNED_IN_WALLETS);return n||(n=[]),n.includes(r)||(n.unshift(r),n=n.slice(0,5),yield t.setItem(RECENTLY_SIGNED_IN_WALLETS,n)),n})}signOutWallet(r){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.getWallet(r);yield t.signOut().catch(n=>{logger$3.log(`Failed to sign out ${t.id}`),logger$3.error(n),this.onWalletSignedOut(t.id)})})}onWalletSignedIn(r,{accounts:t,contractId:n,methodNames:u}){return __awaiter$1(this,void 0,void 0,function*(){const{selectedWalletId:a,rememberRecentWallets:s}=this.store.getState(),i=new JsonStorage(this.storage,PACKAGE_NAME),o={contractId:n,methodNames:u};if(!t.length){this.getModule(r).type==="browser"&&(yield i.setItem(PENDING_SELECTED_WALLET_ID,r),yield i.setItem(PENDING_CONTRACT,o));return}a&&a!==r&&(yield this.signOutWallet(a));let c=[];s===REMEMBER_RECENT_WALLETS_STATE.ENABLED&&(c=yield this.setWalletAsRecentlySignedIn(r)),this.store.dispatch({type:"WALLET_CONNECTED",payload:{walletId:r,contract:o,accounts:t,recentlySignedInWallets:c,rememberRecentWallets:s}}),this.emitter.emit("signedIn",{walletId:r,contractId:n,methodNames:u,accounts:t})})}onWalletSignedOut(r){this.store.dispatch({type:"WALLET_DISCONNECTED",payload:{walletId:r}}),this.emitter.emit("signedOut",{walletId:r})}setupWalletEmitter(r){const t=new EventEmitter;return t.on("signedOut",()=>{this.onWalletSignedOut(r.id)}),t.on("signedIn",n=>{this.onWalletSignedIn(r.id,n)}),t.on("accountsChanged",({accounts:n})=>__awaiter$1(this,void 0,void 0,function*(){if(this.emitter.emit("accountsChanged",{walletId:r.id,accounts:n}),!n.length)return this.signOutWallet(r.id);this.store.dispatch({type:"ACCOUNTS_CHANGED",payload:{walletId:r.id,accounts:n}})})),t.on("networkChanged",({networkId:n})=>{this.emitter.emit("networkChanged",{walletId:r.id,networkId:n})}),t.on("uriChanged",({uri:n})=>{this.emitter.emit("uriChanged",{walletId:r.id,uri:n})}),t}validateSignMessageParams({message:r,nonce:t,recipient:n}){if(!r||r.trim()==="")throw new Error("Invalid message. It must be a non-empty string.");if(!Buffer.isBuffer(t)||t.length!==32)throw new Error("Invalid nonce. It must be a Buffer with a length of 32 bytes.");if(!n||n.trim()==="")throw new Error("Invalid recipient. It must be a non-empty string.")}decorateWallet(r){const t=r.signIn,n=r.signOut,u=r.signMessage;return r.signIn=a=>__awaiter$1(this,void 0,void 0,function*(){const s=yield t(a),{contractId:i,methodNames:o=[]}=a;return yield this.onWalletSignedIn(r.id,{accounts:s,contractId:i,methodNames:o}),s}),r.signOut=()=>__awaiter$1(this,void 0,void 0,function*(){yield n(),this.onWalletSignedOut(r.id)}),r.signMessage=a=>__awaiter$1(this,void 0,void 0,function*(){if(u===void 0)throw Error(`The signMessage method is not supported by ${r.metadata.name}`);return this.validateSignMessageParams(a),yield u(a)}),r}setupInstance(r){return __awaiter$1(this,void 0,void 0,function*(){if(!r.metadata.available){const n=r.type==="injected"?"not installed":"not available";throw Error(`${r.metadata.name} is ${n}`)}const t=Object.assign({id:r.id,type:r.type,metadata:r.metadata},yield r.init({id:r.id,type:r.type,metadata:r.metadata,options:this.options,store:this.store.toReadOnly(),provider:this.provider,emitter:this.setupWalletEmitter(r),logger:new Logger(r.id),storage:new JsonStorage(this.storage,[PACKAGE_NAME,r.id])}));return this.decorateWallet(t)})}getModule(r){return this.modules.find(t=>t.id===r)}getWallet(r){return __awaiter$1(this,void 0,void 0,function*(){const t=this.getModule(r);if(!t)return null;const{selectedWalletId:n}=this.store.getState();return!t.metadata.available&&n?(this.onWalletSignedOut(n),null):yield t.wallet()})}setup(){return __awaiter$1(this,void 0,void 0,function*(){yield Promise.all(this.factories.map((s,i)=>s({options:this.options}).then(o=>__awaiter$1(this,void 0,void 0,function*(){if(!o)return;const c={id:o.id,type:o.type,metadata:o.metadata,listIndex:i,wallet:()=>__awaiter$1(this,void 0,void 0,function*(){let f=this.instances[o.id];return f||(f=yield this.setupInstance(o),this.instances[o.id]=f,f)})};if(this.modules.push(c),this.store.dispatch({type:"ADD_WALLET_MODULE",payload:{module:c}}),c.type!=="instant-link")return;const l=yield c.wallet();if(l.metadata.runOnStartup)try{yield l.signIn({contractId:l.getContractId()})}catch(f){logger$3.error("Failed to sign in to wallet. "+l.metadata.name+f)}})).catch(o=>{logger$3.log("Failed to setup module"),logger$3.error(o)})));const{accounts:r,contract:t,selectedWalletId:n,recentlySignedInWallets:u,rememberRecentWallets:a}=yield this.resolveStorageState();this.store.dispatch({type:"SETUP",payload:{accounts:r,contract:t,selectedWalletId:n,recentlySignedInWallets:u,rememberRecentWallets:a}})})}}const getNetworkPreset=(e,r)=>{switch(e){case"mainnet":return{networkId:e,nodeUrl:(r==null?void 0:r[0])||"https://rpc.mainnet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://nearblocks.io",indexerUrl:"https://api.fastnear.com/v0"};case"testnet":return{networkId:e,nodeUrl:(r==null?void 0:r[0])||"https://rpc.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://testnet.nearblocks.io",indexerUrl:"https://test.api.fastnear.com/v0"};default:throw Error(`Failed to find config for: '${e}'`)}},resolveNetwork=e=>typeof e=="string"?getNetworkPreset(e):e,resolveOptions=e=>({options:{languageCode:e.languageCode||void 0,network:resolveNetwork(e.network),debug:e.debug||!1,optimizeWalletOrder:e.optimizeWalletOrder!==!1,randomizeWalletOrder:e.randomizeWalletOrder||!1,relayerUrl:e.relayerUrl||void 0},storage:e.storage||new WebStorageService});var tryToString$1$2=tryToString$6,$TypeError$2$2=TypeError,deletePropertyOrThrow$1=function(e,r){if(!delete e[r])throw new $TypeError$2$2("Cannot delete property "+tryToString$1$2(r)+" of "+tryToString$1$2(e))},arraySlice$2$1=arraySlice$4$1,floor$2$1=Math.floor,sort$1=function(e,r){var t=e.length;if(t<8)for(var n=1,u,a;n<t;){for(a=n,u=e[n];a&&r(e[a-1],u)>0;)e[a]=e[--a];a!==n++&&(e[a]=u)}else for(var s=floor$2$1(t/2),i=sort$1(arraySlice$2$1(e,0,s),r),o=sort$1(arraySlice$2$1(e,s),r),c=i.length,l=o.length,f=0,d=0;f<c||d<l;)e[f+d]=f<c&&d<l?r(i[f],o[d])<=0?i[f++]:o[d++]:f<c?i[f++]:o[d++];return e},arraySort$2=sort$1,fails$b$2=fails$r,arrayMethodIsStrict$2=function(e,r){var t=[][e];return!!t&&fails$b$2(function(){t.call(null,r||function(){return 1},1)})},userAgent$1$2=environmentUserAgent$2,firefox=userAgent$1$2.match(/firefox\/(\d+)/i),environmentFfVersion=!!firefox&&+firefox[1],UA=environmentUserAgent$2,environmentIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent$8=environmentUserAgent$2,webkit=userAgent$8.match(/AppleWebKit\/(\d+)\./),environmentWebkitVersion=!!webkit&&+webkit[1],$$4$2=_export$2,uncurryThis$6$2=functionUncurryThis$2,aCallable$2$2=aCallable$b,toObject$4$1=toObject$8,lengthOfArrayLike$6=lengthOfArrayLike$9,deletePropertyOrThrow=deletePropertyOrThrow$1,toString$1$2=toString$4$1,fails$a$2=fails$r,internalSort$1=arraySort$2,arrayMethodIsStrict$1=arrayMethodIsStrict$2,FF$1=environmentFfVersion,IE_OR_EDGE$1=environmentIsIeOrEdge,V8$1=environmentV8Version$2,WEBKIT$1=environmentWebkitVersion,test$2=[],nativeSort$1=uncurryThis$6$2(test$2.sort),push$1$1=uncurryThis$6$2(test$2.push),FAILS_ON_UNDEFINED=fails$a$2(function(){test$2.sort(void 0)}),FAILS_ON_NULL=fails$a$2(function(){test$2.sort(null)}),STRICT_METHOD=arrayMethodIsStrict$1("sort"),STABLE_SORT$1=!fails$a$2(function(){if(V8$1)return V8$1<70;if(!(FF$1&&FF$1>3)){if(IE_OR_EDGE$1)return!0;if(WEBKIT$1)return WEBKIT$1<603;var e="",r,t,n,u;for(r=65;r<76;r++){switch(t=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(u=0;u<47;u++)test$2.push({k:t+u,v:n})}for(test$2.sort(function(a,s){return s.v-a.v}),u=0;u<test$2.length;u++)t=test$2[u].k.charAt(0),e.charAt(e.length-1)!==t&&(e+=t);return e!=="DGBEFHACIJK"}}),FORCED$2=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD||!STABLE_SORT$1,getSortCompare$1=function(e){return function(r,t){return t===void 0?-1:r===void 0?1:e!==void 0?+e(r,t)||0:toString$1$2(r)>toString$1$2(t)?1:-1}};$$4$2({target:"Array",proto:!0,forced:FORCED$2},{sort:function e(r){r!==void 0&&aCallable$2$2(r);var t=toObject$4$1(this);if(STABLE_SORT$1)return r===void 0?nativeSort$1(t):nativeSort$1(t,r);var n=[],u=lengthOfArrayLike$6(t),a,s;for(s=0;s<u;s++)s in t&&push$1$1(n,t[s]);for(internalSort$1(n,getSortCompare$1(r)),a=lengthOfArrayLike$6(n),s=0;s<a;)t[s]=n[s++];for(;s<u;)deletePropertyOrThrow(t,s++);return t}});const reducer=(e,r)=>{switch(logger$3.log("Store Action",r),r.type){case"SETUP":{const{accounts:t,contract:n,selectedWalletId:u,recentlySignedInWallets:a,rememberRecentWallets:s}=r.payload,i=t.map((o,c)=>Object.assign(Object.assign({},o),{active:c===0}));return Object.assign(Object.assign({},e),{accounts:i,contract:n,selectedWalletId:u,recentlySignedInWallets:a,rememberRecentWallets:s})}case"ADD_WALLET_MODULE":{const{module:t}=r.payload;let n=[...e.modules,t];return n=n.sort((u,a)=>u.listIndex-a.listIndex),Object.assign(Object.assign({},e),{modules:n})}case"WALLET_CONNECTED":{const{walletId:t,contract:n,accounts:u,recentlySignedInWallets:a}=r.payload;if(!u.length)return e;const s=e.accounts.findIndex(o=>o.active),i=u.map((o,c)=>Object.assign(Object.assign({},o),{active:c===(s>-1?s:0)}));return Object.assign(Object.assign({},e),{contract:n,accounts:i,selectedWalletId:t,recentlySignedInWallets:a})}case"WALLET_DISCONNECTED":{const{walletId:t}=r.payload;return t!==e.selectedWalletId?e:Object.assign(Object.assign({},e),{contract:null,accounts:[],selectedWalletId:null})}case"ACCOUNTS_CHANGED":{const{walletId:t,accounts:n}=r.payload;if(t!==e.selectedWalletId)return e;const u=e.accounts.find(i=>i.active),a=!n.some(i=>i.accountId===(u==null?void 0:u.accountId)),s=n.map((i,o)=>Object.assign(Object.assign({},i),{active:a?o===0:i.accountId===(u==null?void 0:u.accountId)}));return Object.assign(Object.assign({},e),{accounts:s})}case"SET_ACTIVE_ACCOUNT":{const{accountId:t}=r.payload,n=e.accounts.map(u=>Object.assign(Object.assign({},u),{active:u.accountId===t}));return Object.assign(Object.assign({},e),{accounts:n})}case"SET_REMEMBER_RECENT_WALLETS":{const{selectedWalletId:t,recentlySignedInWallets:n}=e,{rememberRecentWallets:u}=r.payload,a=u===REMEMBER_RECENT_WALLETS_STATE.ENABLED?REMEMBER_RECENT_WALLETS_STATE.DISABLED:REMEMBER_RECENT_WALLETS_STATE.ENABLED,s=[...n];t&&!n.includes(t)&&s.push(t);const i=a===REMEMBER_RECENT_WALLETS_STATE.ENABLED?s:[];return Object.assign(Object.assign({},e),{rememberRecentWallets:a,recentlySignedInWallets:i})}default:return e}},createStore=e=>__awaiter$1(void 0,void 0,void 0,function*(){const r=new JsonStorage(e,PACKAGE_NAME),t={modules:[],accounts:[],contract:yield r.getItem(CONTRACT),selectedWalletId:yield r.getItem(SELECTED_WALLET_ID),recentlySignedInWallets:(yield r.getItem(RECENTLY_SIGNED_IN_WALLETS))||[],rememberRecentWallets:(yield r.getItem(REMEMBER_RECENT_WALLETS))||""},n=new BehaviorSubject(t),u=new Subject;u.pipe(scan(reducer,t)).subscribe(n);const a=(i,o,c,l)=>__awaiter$1(void 0,void 0,void 0,function*(){if(o[l]!==i[l]){if(o[l]){yield r.setItem(c,o[l]);return}yield r.removeItem(c)}});let s=n.getValue();return n.subscribe(i=>{a(s,i,SELECTED_WALLET_ID,"selectedWalletId"),a(s,i,CONTRACT,"contract"),a(s,i,RECENTLY_SIGNED_IN_WALLETS,"recentlySignedInWallets"),a(s,i,REMEMBER_RECENT_WALLETS,"rememberRecentWallets"),s=i}),{observable:n,getState:()=>n.getValue(),dispatch:i=>u.next(i),toReadOnly:()=>({getState:()=>n.getValue(),observable:n.asObservable()})}});let walletSelectorInstance=null;const createSelector=(e,r,t,n)=>({options:e,store:r.toReadOnly(),wallet:u=>__awaiter$1(void 0,void 0,void 0,function*(){const{selectedWalletId:a}=r.getState(),s=yield t.getWallet(u||a);if(!s)throw u?new Error("Invalid wallet id"):new Error("No wallet selected");return s}),setActiveAccount:u=>{const{accounts:a}=r.getState();if(!a.some(s=>s.accountId===u))throw new Error("Invalid account id");r.dispatch({type:"SET_ACTIVE_ACCOUNT",payload:{accountId:u}})},setRememberRecentWallets:()=>{const{rememberRecentWallets:u}=r.getState();r.dispatch({type:"SET_REMEMBER_RECENT_WALLETS",payload:{rememberRecentWallets:u}})},isSignedIn(){const{accounts:u}=r.getState();return!!u.length},on:(u,a)=>n.on(u,a),off:(u,a)=>{n.off(u,a)},subscribeOnAccountChange(u){this.store.observable.subscribe(a=>__awaiter$1(this,void 0,void 0,function*(){var s;const i=(s=a==null?void 0:a.accounts.find(o=>o.active))===null||s===void 0?void 0:s.accountId;u(i||"")}))}}),setupWalletSelector=e=>__awaiter$1(void 0,void 0,void 0,function*(){const{options:r,storage:t}=resolveOptions(e);Logger.debug=r.debug;const n=new EventEmitter,u=yield createStore(t),a=yield getNetworkPreset(r.network.networkId,e.fallbackRpcUrls),s=e.fallbackRpcUrls&&e.fallbackRpcUrls.length>0?e.fallbackRpcUrls:[a.nodeUrl],i=new WalletModules({factories:e.modules,storage:t,options:r,store:u,emitter:n,provider:new Provider(s)});return i.setup(),e.allowMultipleSelectors?createSelector(r,u,i,n):(walletSelectorInstance||(walletSelectorInstance=createSelector(r,u,i,n)),walletSelectorInstance)});var aCallable$1$2=aCallable$b,toObject$3$1=toObject$8,IndexedObject$1$1=indexedObject$2,lengthOfArrayLike$5=lengthOfArrayLike$9,$TypeError$1$2=TypeError,REDUCE_EMPTY="Reduce of empty array with no initial value",createMethod$1$1=function(e){return function(r,t,n,u){var a=toObject$3$1(r),s=IndexedObject$1$1(a),i=lengthOfArrayLike$5(a);if(aCallable$1$2(t),i===0&&n<2)throw new $TypeError$1$2(REDUCE_EMPTY);var o=e?i-1:0,c=e?-1:1;if(n<2)for(;;){if(o in s){u=s[o],o+=c;break}if(o+=c,e?o<0:i<=o)throw new $TypeError$1$2(REDUCE_EMPTY)}for(;e?o>=0:i>o;o+=c)o in s&&(u=t(u,s[o],o,a));return u}},arrayReduce={left:createMethod$1$1(!1)},$$3$2=_export$2,$reduce=arrayReduce.left,arrayMethodIsStrict=arrayMethodIsStrict$2,CHROME_VERSION=environmentV8Version$2,IS_NODE$4=environmentIsNode$2,CHROME_BUG=!IS_NODE$4&&CHROME_VERSION>79&&CHROME_VERSION<83,FORCED$1=CHROME_BUG||!arrayMethodIsStrict("reduce");$$3$2({target:"Array",proto:!0,forced:FORCED$1},{reduce:function e(r){var t=arguments.length;return $reduce(this,r,t,t>1?arguments[1]:void 0)}});var anObject$1$2=anObject$b$2,regexpFlags$1$1=function(){var e=anObject$1$2(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},fails$9$2=fails$r,globalThis$a$2=globalThis_1$2,$RegExp$2=globalThis$a$2.RegExp,UNSUPPORTED_Y$1=fails$9$2(function(){var e=$RegExp$2("a","y");return e.lastIndex=2,e.exec("abcd")!==null});UNSUPPORTED_Y$1||fails$9$2(function(){return!$RegExp$2("a","y").sticky});var BROKEN_CARET=UNSUPPORTED_Y$1||fails$9$2(function(){var e=$RegExp$2("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),regexpStickyHelpers={BROKEN_CARET},fails$8$2=fails$r,globalThis$9$2=globalThis_1$2,$RegExp$1=globalThis$9$2.RegExp,regexpUnsupportedDotAll=fails$8$2(function(){var e=$RegExp$1(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),fails$7$2=fails$r,globalThis$8$2=globalThis_1$2,$RegExp=globalThis$8$2.RegExp,regexpUnsupportedNcg=fails$7$2(function(){var e=$RegExp("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),call$4$2=functionCall$2,uncurryThis$5$2=functionUncurryThis$2,toString2$2=toString$4$1,regexpFlags$2=regexpFlags$1$1,stickyHelpers=regexpStickyHelpers,shared$5=shared$4$1,create$1$2=objectCreate$2,getInternalState$2$1=internalState$2.get,UNSUPPORTED_DOT_ALL=regexpUnsupportedDotAll,UNSUPPORTED_NCG=regexpUnsupportedNcg,nativeReplace=shared$5("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt$4=uncurryThis$5$2("".charAt),indexOf$2=uncurryThis$5$2("".indexOf),replace$5=uncurryThis$5$2("".replace),stringSlice$6=uncurryThis$5$2("".slice),UPDATES_LAST_INDEX_WRONG=function(){var e=/a/,r=/b*/g;return call$4$2(nativeExec,e,"a"),call$4$2(nativeExec,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),UNSUPPORTED_Y=stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=/()??/.exec("")[1]!==void 0,PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG;PATCH&&(patchedExec=function(r){var t=this,n=getInternalState$2$1(t),u=toString2$2(r),a=n.raw,s,i,o,c,l,f,d;if(a)return a.lastIndex=t.lastIndex,s=call$4$2(patchedExec,a,u),t.lastIndex=a.lastIndex,s;var h=n.groups,v=UNSUPPORTED_Y&&t.sticky,p=call$4$2(regexpFlags$2,t),g=t.source,E=0,A=u;if(v&&(p=replace$5(p,"y",""),indexOf$2(p,"g")===-1&&(p+="g"),A=stringSlice$6(u,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&charAt$4(u,t.lastIndex-1)!==`
`)&&(g="(?: "+g+")",A=" "+A,E++),i=new RegExp("^(?:"+g+")",p)),NPCG_INCLUDED&&(i=new RegExp("^"+g+"$(?!\\s)",p)),UPDATES_LAST_INDEX_WRONG&&(o=t.lastIndex),c=call$4$2(nativeExec,v?i:t,A),v?c?(c.input=stringSlice$6(c.input,E),c[0]=stringSlice$6(c[0],E),c.index=t.lastIndex,t.lastIndex+=c[0].length):t.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&c&&(t.lastIndex=t.global?c.index+c[0].length:o),NPCG_INCLUDED&&c&&c.length>1&&call$4$2(nativeReplace,c[0],i,function(){for(l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(c[l]=void 0)}),c&&h)for(c.groups=f=create$1$2(null),l=0;l<h.length;l++)d=h[l],f[d[0]]=c[d[1]];return c});var regexpExec=patchedExec,$$2$2=_export$2,exec$5=regexpExec;$$2$2({target:"RegExp",proto:!0,forced:/./.exec!==exec$5},{exec:exec$5});var arrayBufferBasicDetection=typeof ArrayBuffer<"u"&&typeof DataView<"u",defineBuiltIn$1$2=defineBuiltIn$7$1,defineBuiltIns$1$1=function(e,r,t){for(var n in r)defineBuiltIn$1$2(e,n,r[n],t);return e},toIntegerOrInfinity$2$2=toIntegerOrInfinity$5,toLength$3=toLength$5,$RangeError$2=RangeError,toIndex$2=function(e){if(e===void 0)return 0;var r=toIntegerOrInfinity$2$2(e),t=toLength$3(r);if(r!==t)throw new $RangeError$2("Wrong length or index");return t},mathSign=Math.sign||function e(r){var t=+r;return t===0||t!==t?t:t<0?-1:1},EPSILON$1=2220446049250313e-31,INVERSE_EPSILON=1/EPSILON$1,mathRoundTiesToEven=function(e){return e+INVERSE_EPSILON-INVERSE_EPSILON},sign2=mathSign,roundTiesToEven=mathRoundTiesToEven,abs$1=Math.abs,EPSILON=2220446049250313e-31,mathFloatRound=function(e,r,t,n){var u=+e,a=abs$1(u),s=sign2(u);if(a<n)return s*roundTiesToEven(a/n/r)*n*r;var i=(1+r/EPSILON)*a,o=i-(i-a);return o>t||o!==o?s*(1/0):s*o},floatRound=mathFloatRound,FLOAT32_EPSILON=11920928955078125e-23,FLOAT32_MAX_VALUE=34028234663852886e22,FLOAT32_MIN_VALUE=11754943508222875e-54,mathFround=Math.fround||function e(r){return floatRound(r,FLOAT32_EPSILON,FLOAT32_MAX_VALUE,FLOAT32_MIN_VALUE)},$Array$1=Array,abs=Math.abs,pow$1=Math.pow,floor$1$1=Math.floor,log=Math.log,LN2=Math.LN2,pack=function(e,r,t){var n=$Array$1(t),u=t*8-r-1,a=(1<<u)-1,s=a>>1,i=r===23?pow$1(2,-24)-pow$1(2,-77):0,o=e<0||e===0&&1/e<0?1:0,c=0,l,f,d;for(e=abs(e),e!==e||e===1/0?(f=e!==e?1:0,l=a):(l=floor$1$1(log(e)/LN2),d=pow$1(2,-l),e*d<1&&(l--,d*=2),l+s>=1?e+=i/d:e+=i*pow$1(2,1-s),e*d>=2&&(l++,d/=2),l+s>=a?(f=0,l=a):l+s>=1?(f=(e*d-1)*pow$1(2,r),l+=s):(f=e*pow$1(2,s-1)*pow$1(2,r),l=0));r>=8;)n[c++]=f&255,f/=256,r-=8;for(l=l<<r|f,u+=r;u>0;)n[c++]=l&255,l/=256,u-=8;return n[c-1]|=o*128,n},unpack=function(e,r){var t=e.length,n=t*8-r-1,u=(1<<n)-1,a=u>>1,s=n-7,i=t-1,o=e[i--],c=o&127,l;for(o>>=7;s>0;)c=c*256+e[i--],s-=8;for(l=c&(1<<-s)-1,c>>=-s,s+=r;s>0;)l=l*256+e[i--],s-=8;if(c===0)c=1-a;else{if(c===u)return l?NaN:o?-1/0:1/0;l+=pow$1(2,r),c-=a}return(o?-1:1)*l*pow$1(2,c-r)},ieee754={pack,unpack},toObject$2$2=toObject$8,toAbsoluteIndex$1$2=toAbsoluteIndex$3$1,lengthOfArrayLike$4$1=lengthOfArrayLike$9,arrayFill$1=function e(r){for(var t=toObject$2$2(this),n=lengthOfArrayLike$4$1(t),u=arguments.length,a=toAbsoluteIndex$1$2(u>1?arguments[1]:void 0,n),s=u>2?arguments[2]:void 0,i=s===void 0?n:toAbsoluteIndex$1$2(s,n);i>a;)t[a++]=r;return t},isCallable$1$2=isCallable$l$1,isObject$4$2=isObject$g,setPrototypeOf$3=objectSetPrototypeOf$2,inheritIfRequired$2=function(e,r,t){var n,u;return setPrototypeOf$3&&isCallable$1$2(n=r.constructor)&&n!==t&&isObject$4$2(u=n.prototype)&&u!==t.prototype&&setPrototypeOf$3(e,u),e},globalThis$7$2=globalThis_1$2,uncurryThis$4$2=functionUncurryThis$2,DESCRIPTORS$2$2=descriptors$2,NATIVE_ARRAY_BUFFER$1=arrayBufferBasicDetection,FunctionName$2=functionName$2,createNonEnumerableProperty$2$2=createNonEnumerableProperty$7,defineBuiltInAccessor$2$1=defineBuiltInAccessor$4$1,defineBuiltIns$2=defineBuiltIns$1$1,fails$6$2=fails$r,anInstance$1$2=anInstance$3$1,toIntegerOrInfinity$1$2=toIntegerOrInfinity$5,toLength$2$1=toLength$5,toIndex$1=toIndex$2,fround2=mathFround,IEEE754=ieee754,getPrototypeOf$1$2=objectGetPrototypeOf$2,setPrototypeOf$2$1=objectSetPrototypeOf$2,arrayFill=arrayFill$1,arraySlice$1$2=arraySlice$4$1,inheritIfRequired$1=inheritIfRequired$2,copyConstructorProperties$3=copyConstructorProperties$2$1,setToStringTag$8=setToStringTag$5$1,InternalStateModule$2$2=internalState$2,PROPER_FUNCTION_NAME$3=FunctionName$2.PROPER,CONFIGURABLE_FUNCTION_NAME$3=FunctionName$2.CONFIGURABLE,ARRAY_BUFFER="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE$2="prototype",WRONG_LENGTH$1="Wrong length",WRONG_INDEX="Wrong index",getInternalArrayBufferState=InternalStateModule$2$2.getterFor(ARRAY_BUFFER),getInternalDataViewState=InternalStateModule$2$2.getterFor(DATA_VIEW),setInternalState$1$2=InternalStateModule$2$2.set,NativeArrayBuffer=globalThis$7$2[ARRAY_BUFFER],$ArrayBuffer=NativeArrayBuffer,ArrayBufferPrototype$1=$ArrayBuffer&&$ArrayBuffer[PROTOTYPE$2],$DataView=globalThis$7$2[DATA_VIEW],DataViewPrototype$1=$DataView&&$DataView[PROTOTYPE$2],ObjectPrototype$1$1=Object.prototype,Array$1=globalThis$7$2.Array,RangeError$3=globalThis$7$2.RangeError,fill2=uncurryThis$4$2(arrayFill),reverse=uncurryThis$4$2([].reverse),packIEEE754=IEEE754.pack,unpackIEEE754=IEEE754.unpack,packInt8=function(e){return[e&255]},packInt16=function(e){return[e&255,e>>8&255]},packInt32=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},unpackInt32=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},packFloat32=function(e){return packIEEE754(fround2(e),23,4)},packFloat64=function(e){return packIEEE754(e,52,8)},addGetter$1=function(e,r,t){defineBuiltInAccessor$2$1(e[PROTOTYPE$2],r,{configurable:!0,get:function(){return t(this)[r]}})},get$2=function(e,r,t,n){var u=getInternalDataViewState(e),a=toIndex$1(t),s=!!n;if(a+r>u.byteLength)throw new RangeError$3(WRONG_INDEX);var i=u.bytes,o=a+u.byteOffset,c=arraySlice$1$2(i,o,o+r);return s?c:reverse(c)},set$3=function(e,r,t,n,u,a){var s=getInternalDataViewState(e),i=toIndex$1(t),o=n(+u),c=!!a;if(i+r>s.byteLength)throw new RangeError$3(WRONG_INDEX);for(var l=s.bytes,f=i+s.byteOffset,d=0;d<r;d++)l[f+d]=o[c?d:r-d-1]};if(!NATIVE_ARRAY_BUFFER$1)$ArrayBuffer=function(r){anInstance$1$2(this,ArrayBufferPrototype$1);var t=toIndex$1(r);setInternalState$1$2(this,{type:ARRAY_BUFFER,bytes:fill2(Array$1(t),0),byteLength:t}),DESCRIPTORS$2$2||(this.byteLength=t,this.detached=!1)},ArrayBufferPrototype$1=$ArrayBuffer[PROTOTYPE$2],$DataView=function(r,t,n){anInstance$1$2(this,DataViewPrototype$1),anInstance$1$2(r,ArrayBufferPrototype$1);var u=getInternalArrayBufferState(r),a=u.byteLength,s=toIntegerOrInfinity$1$2(t);if(s<0||s>a)throw new RangeError$3("Wrong offset");if(n=n===void 0?a-s:toLength$2$1(n),s+n>a)throw new RangeError$3(WRONG_LENGTH$1);setInternalState$1$2(this,{type:DATA_VIEW,buffer:r,byteLength:n,byteOffset:s,bytes:u.bytes}),DESCRIPTORS$2$2||(this.buffer=r,this.byteLength=n,this.byteOffset=s)},DataViewPrototype$1=$DataView[PROTOTYPE$2],DESCRIPTORS$2$2&&(addGetter$1($ArrayBuffer,"byteLength",getInternalArrayBufferState),addGetter$1($DataView,"buffer",getInternalDataViewState),addGetter$1($DataView,"byteLength",getInternalDataViewState),addGetter$1($DataView,"byteOffset",getInternalDataViewState)),defineBuiltIns$2(DataViewPrototype$1,{getInt8:function(r){return get$2(this,1,r)[0]<<24>>24},getUint8:function(r){return get$2(this,1,r)[0]},getInt16:function(r){var t=get$2(this,2,r,arguments.length>1?arguments[1]:!1);return(t[1]<<8|t[0])<<16>>16},getUint16:function(r){var t=get$2(this,2,r,arguments.length>1?arguments[1]:!1);return t[1]<<8|t[0]},getInt32:function(r){return unpackInt32(get$2(this,4,r,arguments.length>1?arguments[1]:!1))},getUint32:function(r){return unpackInt32(get$2(this,4,r,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(r){return unpackIEEE754(get$2(this,4,r,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(r){return unpackIEEE754(get$2(this,8,r,arguments.length>1?arguments[1]:!1),52)},setInt8:function(r,t){set$3(this,1,r,packInt8,t)},setUint8:function(r,t){set$3(this,1,r,packInt8,t)},setInt16:function(r,t){set$3(this,2,r,packInt16,t,arguments.length>2?arguments[2]:!1)},setUint16:function(r,t){set$3(this,2,r,packInt16,t,arguments.length>2?arguments[2]:!1)},setInt32:function(r,t){set$3(this,4,r,packInt32,t,arguments.length>2?arguments[2]:!1)},setUint32:function(r,t){set$3(this,4,r,packInt32,t,arguments.length>2?arguments[2]:!1)},setFloat32:function(r,t){set$3(this,4,r,packFloat32,t,arguments.length>2?arguments[2]:!1)},setFloat64:function(r,t){set$3(this,8,r,packFloat64,t,arguments.length>2?arguments[2]:!1)}});else{var INCORRECT_ARRAY_BUFFER_NAME=PROPER_FUNCTION_NAME$3&&NativeArrayBuffer.name!==ARRAY_BUFFER;!fails$6$2(function(){NativeArrayBuffer(1)})||!fails$6$2(function(){new NativeArrayBuffer(-1)})||fails$6$2(function(){return new NativeArrayBuffer,new NativeArrayBuffer(1.5),new NativeArrayBuffer(NaN),NativeArrayBuffer.length!==1||INCORRECT_ARRAY_BUFFER_NAME&&!CONFIGURABLE_FUNCTION_NAME$3})?($ArrayBuffer=function(r){return anInstance$1$2(this,ArrayBufferPrototype$1),inheritIfRequired$1(new NativeArrayBuffer(toIndex$1(r)),this,$ArrayBuffer)},$ArrayBuffer[PROTOTYPE$2]=ArrayBufferPrototype$1,ArrayBufferPrototype$1.constructor=$ArrayBuffer,copyConstructorProperties$3($ArrayBuffer,NativeArrayBuffer)):INCORRECT_ARRAY_BUFFER_NAME&&CONFIGURABLE_FUNCTION_NAME$3&&createNonEnumerableProperty$2$2(NativeArrayBuffer,"name",ARRAY_BUFFER),setPrototypeOf$2$1&&getPrototypeOf$1$2(DataViewPrototype$1)!==ObjectPrototype$1$1&&setPrototypeOf$2$1(DataViewPrototype$1,ObjectPrototype$1$1);var testView=new $DataView(new $ArrayBuffer(2)),$setInt8=uncurryThis$4$2(DataViewPrototype$1.setInt8);testView.setInt8(0,2147483648),testView.setInt8(1,2147483649),(testView.getInt8(0)||!testView.getInt8(1))&&defineBuiltIns$2(DataViewPrototype$1,{setInt8:function(r,t){$setInt8(this,r,t<<24>>24)},setUint8:function(r,t){$setInt8(this,r,t<<24>>24)}},{unsafe:!0})}setToStringTag$8($ArrayBuffer,ARRAY_BUFFER);setToStringTag$8($DataView,DATA_VIEW);var arrayBuffer={ArrayBuffer:$ArrayBuffer,DataView:$DataView},$$1$2=_export$2,uncurryThis$3$2=functionUncurryThisClause$2,fails$5$2=fails$r,ArrayBufferModule$1=arrayBuffer,anObject$f=anObject$b$2,toAbsoluteIndex$4=toAbsoluteIndex$3$1,toLength$1$2=toLength$5,ArrayBuffer$3=ArrayBufferModule$1.ArrayBuffer,DataView$2=ArrayBufferModule$1.DataView,DataViewPrototype=DataView$2.prototype,nativeArrayBufferSlice=uncurryThis$3$2(ArrayBuffer$3.prototype.slice),getUint8=uncurryThis$3$2(DataViewPrototype.getUint8),setUint8=uncurryThis$3$2(DataViewPrototype.setUint8),INCORRECT_SLICE=fails$5$2(function(){return!new ArrayBuffer$3(2).slice(1,void 0).byteLength});$$1$2({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:INCORRECT_SLICE},{slice:function e(r,t){if(nativeArrayBufferSlice&&t===void 0)return nativeArrayBufferSlice(anObject$f(this),r);for(var n=anObject$f(this).byteLength,u=toAbsoluteIndex$4(r,n),a=toAbsoluteIndex$4(t===void 0?n:t,n),s=new ArrayBuffer$3(toLength$1$2(a-u)),i=new DataView$2(this),o=new DataView$2(s),c=0;u<a;)setUint8(o,c++,getUint8(i,u++));return s}});var typedArrayConstructor={exports:{}},NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection,DESCRIPTORS$1$2=descriptors$2,globalThis$6$2=globalThis_1$2,isCallable$m=isCallable$l$1,isObject$3$2=isObject$g,hasOwn$1$2=hasOwnProperty_1$2,classof$4$2=classof$9,tryToString$7=tryToString$6,createNonEnumerableProperty$1$2=createNonEnumerableProperty$7,defineBuiltIn$b=defineBuiltIn$7$1,defineBuiltInAccessor$1$2=defineBuiltInAccessor$4$1,isPrototypeOf$1$2=objectIsPrototypeOf$2,getPrototypeOf$4=objectGetPrototypeOf$2,setPrototypeOf$1$2=objectSetPrototypeOf$2,wellKnownSymbol$1$2=wellKnownSymbol$i$1,uid$4=uid$3$1,InternalStateModule$1$2=internalState$2,enforceInternalState$1$1=InternalStateModule$1$2.enforce,Int8Array$4=globalThis$6$2.Int8Array,Int8ArrayPrototype$1=Int8Array$4&&Int8Array$4.prototype,Uint8ClampedArray$1=globalThis$6$2.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray$1&&Uint8ClampedArray$1.prototype,TypedArray$1=Int8Array$4&&getPrototypeOf$4(Int8Array$4),TypedArrayPrototype$1=Int8ArrayPrototype$1&&getPrototypeOf$4(Int8ArrayPrototype$1),ObjectPrototype$3=Object.prototype,TypeError$1$2=globalThis$6$2.TypeError,TO_STRING_TAG$4=wellKnownSymbol$1$2("toStringTag"),TYPED_ARRAY_TAG$1=uid$4("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS$2=NATIVE_ARRAY_BUFFER&&!!setPrototypeOf$1$2&&classof$4$2(globalThis$6$2.opera)!=="Opera",TYPED_ARRAY_TAG_REQUIRED=!1,NAME,Constructor,Prototype,TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},isTypedArray$1=function(e){if(!isObject$3$2(e))return!1;var r=classof$4$2(e);return hasOwn$1$2(TypedArrayConstructorsList,r)||hasOwn$1$2(BigIntArrayConstructorsList,r)},aTypedArray$4=function(e){if(isTypedArray$1(e))return e;throw new TypeError$1$2("Target is not a typed array")},aTypedArrayConstructor$1=function(e){if(isCallable$m(e)&&(!setPrototypeOf$1$2||isPrototypeOf$1$2(TypedArray$1,e)))return e;throw new TypeError$1$2(tryToString$7(e)+" is not a typed array constructor")},exportTypedArrayMethod$4=function(e,r,t,n){if(DESCRIPTORS$1$2){if(t)for(var u in TypedArrayConstructorsList){var a=globalThis$6$2[u];if(a&&hasOwn$1$2(a.prototype,e))try{delete a.prototype[e]}catch{try{a.prototype[e]=r}catch{}}}(!TypedArrayPrototype$1[e]||t)&&defineBuiltIn$b(TypedArrayPrototype$1,e,t?r:NATIVE_ARRAY_BUFFER_VIEWS$2&&Int8ArrayPrototype$1[e]||r,n)}},exportTypedArrayStaticMethod$1=function(e,r,t){var n,u;if(DESCRIPTORS$1$2){if(setPrototypeOf$1$2){if(t){for(n in TypedArrayConstructorsList)if(u=globalThis$6$2[n],u&&hasOwn$1$2(u,e))try{delete u[e]}catch{}}if(!TypedArray$1[e]||t)try{return defineBuiltIn$b(TypedArray$1,e,t?r:NATIVE_ARRAY_BUFFER_VIEWS$2&&TypedArray$1[e]||r)}catch{}else return}for(n in TypedArrayConstructorsList)u=globalThis$6$2[n],u&&(!u[e]||t)&&defineBuiltIn$b(u,e,r)}};for(NAME in TypedArrayConstructorsList)Constructor=globalThis$6$2[NAME],Prototype=Constructor&&Constructor.prototype,Prototype?enforceInternalState$1$1(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS$2=!1;for(NAME in BigIntArrayConstructorsList)Constructor=globalThis$6$2[NAME],Prototype=Constructor&&Constructor.prototype,Prototype&&(enforceInternalState$1$1(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS$2||!isCallable$m(TypedArray$1)||TypedArray$1===Function.prototype)&&(TypedArray$1=function(){throw new TypeError$1$2("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS$2))for(NAME in TypedArrayConstructorsList)globalThis$6$2[NAME]&&setPrototypeOf$1$2(globalThis$6$2[NAME],TypedArray$1);if((!NATIVE_ARRAY_BUFFER_VIEWS$2||!TypedArrayPrototype$1||TypedArrayPrototype$1===ObjectPrototype$3)&&(TypedArrayPrototype$1=TypedArray$1.prototype,NATIVE_ARRAY_BUFFER_VIEWS$2))for(NAME in TypedArrayConstructorsList)globalThis$6$2[NAME]&&setPrototypeOf$1$2(globalThis$6$2[NAME].prototype,TypedArrayPrototype$1);NATIVE_ARRAY_BUFFER_VIEWS$2&&getPrototypeOf$4(Uint8ClampedArrayPrototype)!==TypedArrayPrototype$1&&setPrototypeOf$1$2(Uint8ClampedArrayPrototype,TypedArrayPrototype$1);if(DESCRIPTORS$1$2&&!hasOwn$1$2(TypedArrayPrototype$1,TO_STRING_TAG$4)){TYPED_ARRAY_TAG_REQUIRED=!0,defineBuiltInAccessor$1$2(TypedArrayPrototype$1,TO_STRING_TAG$4,{configurable:!0,get:function(){return isObject$3$2(this)?this[TYPED_ARRAY_TAG$1]:void 0}});for(NAME in TypedArrayConstructorsList)globalThis$6$2[NAME]&&createNonEnumerableProperty$1$2(globalThis$6$2[NAME],TYPED_ARRAY_TAG$1,NAME)}var arrayBufferViewCore={NATIVE_ARRAY_BUFFER_VIEWS:NATIVE_ARRAY_BUFFER_VIEWS$2,TYPED_ARRAY_TAG:TYPED_ARRAY_TAG_REQUIRED&&TYPED_ARRAY_TAG$1,aTypedArray:aTypedArray$4,aTypedArrayConstructor:aTypedArrayConstructor$1,exportTypedArrayMethod:exportTypedArrayMethod$4,exportTypedArrayStaticMethod:exportTypedArrayStaticMethod$1,isTypedArray:isTypedArray$1,TypedArray:TypedArray$1,TypedArrayPrototype:TypedArrayPrototype$1},globalThis$5$2=globalThis_1$2,fails$4$2=fails$r,checkCorrectnessOfIteration$3=checkCorrectnessOfIteration$2$1,NATIVE_ARRAY_BUFFER_VIEWS$1=arrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS,ArrayBuffer$2=globalThis$5$2.ArrayBuffer,Int8Array$3=globalThis$5$2.Int8Array,typedArrayConstructorsRequireWrappers=!NATIVE_ARRAY_BUFFER_VIEWS$1||!fails$4$2(function(){Int8Array$3(1)})||!fails$4$2(function(){new Int8Array$3(-1)})||!checkCorrectnessOfIteration$3(function(e){new Int8Array$3,new Int8Array$3(null),new Int8Array$3(1.5),new Int8Array$3(e)},!0)||fails$4$2(function(){return new Int8Array$3(new ArrayBuffer$2(2),1,void 0).length!==1}),isObject$2$2=isObject$g,floor$5=Math.floor,isIntegralNumber$1=Number.isInteger||function e(r){return!isObject$2$2(r)&&isFinite(r)&&floor$5(r)===r},toIntegerOrInfinity$6=toIntegerOrInfinity$5,$RangeError$1$1=RangeError,toPositiveInteger$1=function(e){var r=toIntegerOrInfinity$6(e);if(r<0)throw new $RangeError$1$1("The argument can't be less than 0");return r},toPositiveInteger=toPositiveInteger$1,$RangeError$3=RangeError,toOffset$2=function(e,r){var t=toPositiveInteger(e);if(t%r)throw new $RangeError$3("Wrong offset");return t},round=Math.round,toUint8Clamped$1=function(e){var r=round(e);return r<0?0:r>255?255:r&255},classof$3$2=classof$9,isBigIntArray$1=function(e){var r=classof$3$2(e);return r==="BigInt64Array"||r==="BigUint64Array"},toPrimitive$3=toPrimitive$2$1,$TypeError$h=TypeError,toBigInt$2=function(e){var r=toPrimitive$3(e,"number");if(typeof r=="number")throw new $TypeError$h("Can't convert number to bigint");return BigInt(r)},bind$1$2=functionBindContext$2,call$3$2=functionCall$2,aConstructor$3=aConstructor$2$1,toObject$1$2=toObject$8,lengthOfArrayLike$3$1=lengthOfArrayLike$9,getIterator$5=getIterator$2$1,getIteratorMethod$6=getIteratorMethod$3$1,isArrayIteratorMethod$4=isArrayIteratorMethod$2$1,isBigIntArray=isBigIntArray$1,aTypedArrayConstructor=arrayBufferViewCore.aTypedArrayConstructor,toBigInt$1=toBigInt$2,typedArrayFrom$2=function e(r){var t=aConstructor$3(this),n=toObject$1$2(r),u=arguments.length,a=u>1?arguments[1]:void 0,s=a!==void 0,i=getIteratorMethod$6(n),o,c,l,f,d,h,v,p;if(i&&!isArrayIteratorMethod$4(i))for(v=getIterator$5(n,i),p=v.next,n=[];!(h=call$3$2(p,v)).done;)n.push(h.value);for(s&&u>2&&(a=bind$1$2(a,arguments[2])),c=lengthOfArrayLike$3$1(n),l=new(aTypedArrayConstructor(t))(c),f=isBigIntArray(l),o=0;c>o;o++)d=s?a(n[o],o):n[o],l[o]=f?toBigInt$1(d):+d;return l},classof$2$2=classofRaw$2$2,isArray$1=Array.isArray||function e(r){return classof$2$2(r)==="Array"},isArray2=isArray$1,isConstructor3$2=isConstructor$2$1,isObject$1$2=isObject$g,wellKnownSymbol$k=wellKnownSymbol$i$1,SPECIES$4=wellKnownSymbol$k("species"),$Array$2=Array,arraySpeciesConstructor$1=function(e){var r;return isArray2(e)&&(r=e.constructor,isConstructor3$2(r)&&(r===$Array$2||isArray2(r.prototype))?r=void 0:isObject$1$2(r)&&(r=r[SPECIES$4],r===null&&(r=void 0))),r===void 0?$Array$2:r},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$1=function(e,r){return new(arraySpeciesConstructor(e))(r===0?0:r)},bind$9=functionBindContext$2,uncurryThis$2$2=functionUncurryThis$2,IndexedObject$4=indexedObject$2,toObject$9=toObject$8,lengthOfArrayLike$2$2=lengthOfArrayLike$9,arraySpeciesCreate=arraySpeciesCreate$1,push$5=uncurryThis$2$2([].push),createMethod$4=function(e){var r=e===1,t=e===2,n=e===3,u=e===4,a=e===6,s=e===7,i=e===5||a;return function(o,c,l,f){for(var d=toObject$9(o),h=IndexedObject$4(d),v=lengthOfArrayLike$2$2(h),p=bind$9(c,l),g=0,E=f||arraySpeciesCreate,A=r?E(o,v):t||s?E(o,0):void 0,C,P;v>g;g++)if((i||g in h)&&(C=h[g],P=p(C,g,d),e))if(r)A[g]=P;else if(P)switch(e){case 3:return!0;case 5:return C;case 6:return g;case 2:push$5(A,C)}else switch(e){case 4:return!1;case 7:push$5(A,C)}return a?-1:n||u?u:A}},arrayIteration={forEach:createMethod$4(0)},lengthOfArrayLike$1$2=lengthOfArrayLike$9,arrayFromConstructorAndList$1=function(e,r,t){for(var n=0,u=arguments.length>2?t:lengthOfArrayLike$1$2(r),a=new e(u);u>n;)a[n]=r[n++];return a},$$g=_export$2,globalThis$4$2=globalThis_1$2,call$2$2=functionCall$2,DESCRIPTORS$h=descriptors$2,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1=typedArrayConstructorsRequireWrappers,ArrayBufferViewCore$4=arrayBufferViewCore,ArrayBufferModule=arrayBuffer,anInstance$5=anInstance$3$1,createPropertyDescriptor$7=createPropertyDescriptor$4$1,createNonEnumerableProperty$8=createNonEnumerableProperty$7,isIntegralNumber=isIntegralNumber$1,toLength$6=toLength$5,toIndex=toIndex$2,toOffset$1=toOffset$2,toUint8Clamped=toUint8Clamped$1,toPropertyKey$4=toPropertyKey$3$1,hasOwn2$2=hasOwnProperty_1$2,classof$1$2=classof$9,isObject$h=isObject$g,isSymbol$4=isSymbol$3$1,create2$2=objectCreate$2,isPrototypeOf$5=objectIsPrototypeOf$2,setPrototypeOf$6=objectSetPrototypeOf$2,getOwnPropertyNames2=objectGetOwnPropertyNames$2.f,typedArrayFrom$1=typedArrayFrom$2,forEach=arrayIteration.forEach,setSpecies$3=setSpecies$2$1,defineBuiltInAccessor$5=defineBuiltInAccessor$4$1,definePropertyModule$6=objectDefineProperty$2,getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor$2,arrayFromConstructorAndList=arrayFromConstructorAndList$1,InternalStateModule$7=internalState$2,inheritIfRequired=inheritIfRequired$2,getInternalState$5=InternalStateModule$7.get,setInternalState$6=InternalStateModule$7.set,enforceInternalState$3=InternalStateModule$7.enforce,nativeDefineProperty=definePropertyModule$6.f,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule$2.f,RangeError$2=globalThis$4$2.RangeError,ArrayBuffer$1=ArrayBufferModule.ArrayBuffer,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataView$1=ArrayBufferModule.DataView,NATIVE_ARRAY_BUFFER_VIEWS=ArrayBufferViewCore$4.NATIVE_ARRAY_BUFFER_VIEWS,TYPED_ARRAY_TAG=ArrayBufferViewCore$4.TYPED_ARRAY_TAG,TypedArray=ArrayBufferViewCore$4.TypedArray,TypedArrayPrototype=ArrayBufferViewCore$4.TypedArrayPrototype,isTypedArray=ArrayBufferViewCore$4.isTypedArray,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",WRONG_LENGTH="Wrong length",addGetter=function(e,r){defineBuiltInAccessor$5(e,r,{configurable:!0,get:function(){return getInternalState$5(this)[r]}})},isArrayBuffer=function(e){var r;return isPrototypeOf$5(ArrayBufferPrototype,e)||(r=classof$1$2(e))==="ArrayBuffer"||r==="SharedArrayBuffer"},isTypedArrayIndex=function(e,r){return isTypedArray(e)&&!isSymbol$4(r)&&r in e&&isIntegralNumber(+r)&&r>=0},wrappedGetOwnPropertyDescriptor=function e(r,t){return t=toPropertyKey$4(t),isTypedArrayIndex(r,t)?createPropertyDescriptor$7(2,r[t]):nativeGetOwnPropertyDescriptor(r,t)},wrappedDefineProperty=function e(r,t,n){return t=toPropertyKey$4(t),isTypedArrayIndex(r,t)&&isObject$h(n)&&hasOwn2$2(n,"value")&&!hasOwn2$2(n,"get")&&!hasOwn2$2(n,"set")&&!n.configurable&&(!hasOwn2$2(n,"writable")||n.writable)&&(!hasOwn2$2(n,"enumerable")||n.enumerable)?(r[t]=n.value,r):nativeDefineProperty(r,t,n)};DESCRIPTORS$h?(NATIVE_ARRAY_BUFFER_VIEWS||(getOwnPropertyDescriptorModule$2.f=wrappedGetOwnPropertyDescriptor,definePropertyModule$6.f=wrappedDefineProperty,addGetter(TypedArrayPrototype,"buffer"),addGetter(TypedArrayPrototype,"byteOffset"),addGetter(TypedArrayPrototype,"byteLength"),addGetter(TypedArrayPrototype,"length")),$$g({target:"Object",stat:!0,forced:!NATIVE_ARRAY_BUFFER_VIEWS},{getOwnPropertyDescriptor:wrappedGetOwnPropertyDescriptor,defineProperty:wrappedDefineProperty}),typedArrayConstructor.exports=function(e,r,t){var n=e.match(/\d+/)[0]/8,u=e+(t?"Clamped":"")+"Array",a="get"+e,s="set"+e,i=globalThis$4$2[u],o=i,c=o&&o.prototype,l={},f=function(p,g){var E=getInternalState$5(p);return E.view[a](g*n+E.byteOffset,!0)},d=function(p,g,E){var A=getInternalState$5(p);A.view[s](g*n+A.byteOffset,t?toUint8Clamped(E):E,!0)},h=function(p,g){nativeDefineProperty(p,g,{get:function(){return f(this,g)},set:function(E){return d(this,g,E)},enumerable:!0})};NATIVE_ARRAY_BUFFER_VIEWS?TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1&&(o=r(function(p,g,E,A){return anInstance$5(p,c),inheritIfRequired(function(){return isObject$h(g)?isArrayBuffer(g)?A!==void 0?new i(g,toOffset$1(E,n),A):E!==void 0?new i(g,toOffset$1(E,n)):new i(g):isTypedArray(g)?arrayFromConstructorAndList(o,g):call$2$2(typedArrayFrom$1,o,g):new i(toIndex(g))}(),p,o)}),setPrototypeOf$6&&setPrototypeOf$6(o,TypedArray),forEach(getOwnPropertyNames2(i),function(p){p in o||createNonEnumerableProperty$8(o,p,i[p])}),o.prototype=c):(o=r(function(p,g,E,A){anInstance$5(p,c);var C=0,P=0,S,N,j;if(!isObject$h(g))j=toIndex(g),N=j*n,S=new ArrayBuffer$1(N);else if(isArrayBuffer(g)){S=g,P=toOffset$1(E,n);var k=g.byteLength;if(A===void 0){if(k%n)throw new RangeError$2(WRONG_LENGTH);if(N=k-P,N<0)throw new RangeError$2(WRONG_LENGTH)}else if(N=toLength$6(A)*n,N+P>k)throw new RangeError$2(WRONG_LENGTH);j=N/n}else return isTypedArray(g)?arrayFromConstructorAndList(o,g):call$2$2(typedArrayFrom$1,o,g);for(setInternalState$6(p,{buffer:S,byteOffset:P,byteLength:N,length:j,view:new DataView$1(S)});C<j;)h(p,C++)}),setPrototypeOf$6&&setPrototypeOf$6(o,TypedArray),c=o.prototype=create2$2(TypedArrayPrototype)),c.constructor!==o&&createNonEnumerableProperty$8(c,"constructor",o),enforceInternalState$3(c).TypedArrayConstructor=o,TYPED_ARRAY_TAG&&createNonEnumerableProperty$8(c,TYPED_ARRAY_TAG,u);var v=o!==i;l[u]=o,$$g({global:!0,constructor:!0,forced:v,sham:!NATIVE_ARRAY_BUFFER_VIEWS},l),BYTES_PER_ELEMENT in o||createNonEnumerableProperty$8(o,BYTES_PER_ELEMENT,n),BYTES_PER_ELEMENT in c||createNonEnumerableProperty$8(c,BYTES_PER_ELEMENT,n),setSpecies$3(u)}):typedArrayConstructor.exports=function(){};var createTypedArrayConstructor=typedArrayConstructor.exports;createTypedArrayConstructor("Uint8",function(e){return function(t,n,u){return e(this,t,n,u)}});var ArrayBufferViewCore$3=arrayBufferViewCore,$fill=arrayFill$1,toBigInt=toBigInt$2,classof$c=classof$9,call$1$2=functionCall$2,uncurryThis$1$2=functionUncurryThis$2,fails$3$2=fails$r,aTypedArray$3=ArrayBufferViewCore$3.aTypedArray,exportTypedArrayMethod$3=ArrayBufferViewCore$3.exportTypedArrayMethod,slice2=uncurryThis$1$2("".slice),CONVERSION_BUG=fails$3$2(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});exportTypedArrayMethod$3("fill",function e(r){var t=arguments.length;aTypedArray$3(this);var n=slice2(classof$c(this),0,3)==="Big"?toBigInt(r):+r;return call$1$2($fill,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)},CONVERSION_BUG);var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS=typedArrayConstructorsRequireWrappers,exportTypedArrayStaticMethod=arrayBufferViewCore.exportTypedArrayStaticMethod,typedArrayFrom=typedArrayFrom$2;exportTypedArrayStaticMethod("from",typedArrayFrom,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);var globalThis$3$2=globalThis_1$2,call$j=functionCall$2,ArrayBufferViewCore$2=arrayBufferViewCore,lengthOfArrayLike$a=lengthOfArrayLike$9,toOffset=toOffset$2,toIndexedObject$7=toObject$8,fails$2$2=fails$r,RangeError$1=globalThis$3$2.RangeError,Int8Array$2=globalThis$3$2.Int8Array,Int8ArrayPrototype=Int8Array$2&&Int8Array$2.prototype,$set=Int8ArrayPrototype&&Int8ArrayPrototype.set,aTypedArray$2=ArrayBufferViewCore$2.aTypedArray,exportTypedArrayMethod$2=ArrayBufferViewCore$2.exportTypedArrayMethod,WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS=!fails$2$2(function(){var e=new Uint8ClampedArray(2);return call$j($set,e,{length:1,0:3},1),e[1]!==3}),TO_OBJECT_BUG=WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS&&ArrayBufferViewCore$2.NATIVE_ARRAY_BUFFER_VIEWS&&fails$2$2(function(){var e=new Int8Array$2(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});exportTypedArrayMethod$2("set",function e(r){aTypedArray$2(this);var t=toOffset(arguments.length>1?arguments[1]:void 0,1),n=toIndexedObject$7(r);if(WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS)return call$j($set,this,n,t);var u=this.length,a=lengthOfArrayLike$a(n),s=0;if(a+t>u)throw new RangeError$1("Wrong length");for(;s<a;)this[t+s]=n[s++]},!WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS||TO_OBJECT_BUG);var globalThis$2$2=globalThis_1$2,uncurryThis$o=functionUncurryThisClause$2,fails$1$2=fails$r,aCallable$c=aCallable$b,internalSort=arraySort$2,ArrayBufferViewCore$1=arrayBufferViewCore,FF=environmentFfVersion,IE_OR_EDGE=environmentIsIeOrEdge,V8=environmentV8Version$2,WEBKIT=environmentWebkitVersion,aTypedArray$1=ArrayBufferViewCore$1.aTypedArray,exportTypedArrayMethod$1=ArrayBufferViewCore$1.exportTypedArrayMethod,Uint16Array$1=globalThis$2$2.Uint16Array,nativeSort=Uint16Array$1&&uncurryThis$o(Uint16Array$1.prototype.sort),ACCEPT_INCORRECT_ARGUMENTS=!!nativeSort&&!(fails$1$2(function(){nativeSort(new Uint16Array$1(2),null)})&&fails$1$2(function(){nativeSort(new Uint16Array$1(2),{})})),STABLE_SORT=!!nativeSort&&!fails$1$2(function(){if(V8)return V8<74;if(FF)return FF<67;if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<602;var e=new Uint16Array$1(516),r=Array(516),t,n;for(t=0;t<516;t++)n=t%4,e[t]=515-t,r[t]=t-2*n+3;for(nativeSort(e,function(u,a){return(u/4|0)-(a/4|0)}),t=0;t<516;t++)if(e[t]!==r[t])return!0}),getSortCompare=function(e){return function(r,t){return e!==void 0?+e(r,t)||0:t!==t?-1:r!==r?1:r===0&&t===0?1/r>0&&1/t<0?1:-1:r>t}};exportTypedArrayMethod$1("sort",function e(r){return r!==void 0&&aCallable$c(r),STABLE_SORT?nativeSort(this,r):internalSort(aTypedArray$1(this),getSortCompare(r))},!STABLE_SORT||ACCEPT_INCORRECT_ARGUMENTS);var globalThis$1$2=globalThis_1$2,apply$3=functionApply$2,ArrayBufferViewCore=arrayBufferViewCore,fails$s=fails$r,arraySlice$5=arraySlice$4$1,Int8Array$1=globalThis$1$2.Int8Array,aTypedArray=ArrayBufferViewCore.aTypedArray,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,$toLocaleString=[].toLocaleString,TO_LOCALE_STRING_BUG=!!Int8Array$1&&fails$s(function(){$toLocaleString.call(new Int8Array$1(1))}),FORCED=fails$s(function(){return[1,2].toLocaleString()!==new Int8Array$1([1,2]).toLocaleString()})||!fails$s(function(){Int8Array$1.prototype.toLocaleString.call([1,2])});exportTypedArrayMethod("toLocaleString",function e(){return apply$3($toLocaleString,TO_LOCALE_STRING_BUG?arraySlice$5(aTypedArray(this)):aTypedArray(this),arraySlice$5(arguments))},FORCED);var browserIndex$2={},browserIndex$1={},keystore$1={},commonjs$9={},in_memory_key_store$1={},commonjs$8={},constants$2={},hasRequiredConstants$2;function requireConstants$2(){if(hasRequiredConstants$2)return constants$2;hasRequiredConstants$2=1,Object.defineProperty(constants$2,"__esModule",{value:!0}),constants$2.KeySize=constants$2.KeyType=void 0;var e;return function(r){r[r.ED25519=0]="ED25519",r[r.SECP256K1=1]="SECP256K1"}(e||(constants$2.KeyType=e={})),constants$2.KeySize={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64},constants$2}var key_pair$1={},key_pair_base={},hasRequiredKey_pair_base;function requireKey_pair_base(){if(hasRequiredKey_pair_base)return key_pair_base;hasRequiredKey_pair_base=1,Object.defineProperty(key_pair_base,"__esModule",{value:!0}),key_pair_base.KeyPairBase=void 0;class e{}return key_pair_base.KeyPairBase=e,key_pair_base}var key_pair_ed25519={},commonjs$7={},constants$1={},hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,Object.defineProperty(constants$1,"__esModule",{value:!0}),constants$1.DEFAULT_FUNCTION_CALL_GAS=void 0,constants$1.DEFAULT_FUNCTION_CALL_GAS=30000000000000n),constants$1}var errors$3={},errors$2={};const GasLimitExceeded="Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName="Method name is empty",WasmerCompileError="Wasmer compilation error: {{msg}}",GuestPanic="Smart contract panicked: {{panic_msg}}",Memory="Error creating Wasm memory",GasExceeded="Exceeded the prepaid gas",MethodUTF8Error="Method name is not valid UTF8 string",BadUTF16="String encoding is bad UTF-16 sequence",WasmTrap="WebAssembly trap: {{msg}}",GasInstrumentation="Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex="{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex="Accessed invalid promise result index: {{result_idx}}",Deserialization="Error happened while deserializing the module",MethodNotFound="Contract method is not found",InvalidRegisterId="Accessed invalid register id: {{register_id}}",InvalidReceiptIndex="VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName="Method name is empty in contract call",CannotReturnJointPromise="Returning joint promise is currently prohibited",StackHeightInstrumentation="Stack instrumentation failed",CodeDoesNotExist="Cannot find contract code for account {{account_id}}",MethodInvalidSignature="Invalid method signature",IntegerOverflow="Integer overflow happened during contract execution",MemoryAccessViolation="MemoryAccessViolation",InvalidIteratorIndex="Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId="VM Logic returned an invalid account id",Serialization="Error happened while serializing the module",CannotAppendActionToJointPromise="Actions can only be appended to non-joint promise.",InternalMemoryDeclared="Internal memory declaration has been found in the module",Instantiate="Error happened during instantiation",ProhibitedInView="{{method_name}} is not allowed in view calls",InvalidMethodName="VM Logic returned an invalid method name",BadUTF8="String encoding is bad UTF-8 sequence",BalanceExceeded="Exceeded the account balance",LinkError="Wasm contract link error: {{msg}}",InvalidPublicKey="VM Logic provided an invalid public key",ActorNoPermission="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow="Transaction gas or balance cost is too high",InvalidSignature="Transaction is not signed with the given public key",AccessKeyNotFound=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired="Transaction has expired",DeleteAccountStaking="Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist="Signer {{signer_id}} does not exist",TriesToStake="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists="The public key {{public_key}} is already used for an existing access key",InvalidSigner="Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed="The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake="Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists="Can't create a new account {{account_id}}, because it already exists",InvalidChain="Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist="Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist="Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch="Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver="Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist="Account {{account_id}} tries to remove an access key that doesn't exist",Timeout="Timeout exceeded",Closed="Connection closed",ShardCongested="Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later",ShardStuck="Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later",require$$0$1={GasLimitExceeded,MethodEmptyName,WasmerCompileError,GuestPanic,Memory,GasExceeded,MethodUTF8Error,BadUTF16,WasmTrap,GasInstrumentation,InvalidPromiseIndex,InvalidPromiseResultIndex,Deserialization,MethodNotFound,InvalidRegisterId,InvalidReceiptIndex,EmptyMethodName,CannotReturnJointPromise,StackHeightInstrumentation,CodeDoesNotExist,MethodInvalidSignature,IntegerOverflow,MemoryAccessViolation,InvalidIteratorIndex,IteratorWasInvalidated,InvalidAccountId,Serialization,CannotAppendActionToJointPromise,InternalMemoryDeclared,Instantiate,ProhibitedInView,InvalidMethodName,BadUTF8,BalanceExceeded,LinkError,InvalidPublicKey,ActorNoPermission,LackBalanceForState,ReceiverMismatch,CostOverflow,InvalidSignature,AccessKeyNotFound,NotEnoughBalance,NotEnoughAllowance,Expired,DeleteAccountStaking,SignerDoesNotExist,TriesToStake,AddKeyAlreadyExists,InvalidSigner,CreateAccountNotAllowed,RequiresFullAccess,TriesToUnstake,InvalidNonce,AccountAlreadyExists,InvalidChain,AccountDoesNotExist,AccessKeyDoesNotExist,MethodNameMismatch,DeleteAccountHasRent,DeleteAccountHasEnoughBalance,InvalidReceiver,DeleteKeyDoesNotExist,Timeout,Closed,ShardCongested,ShardStuck};var hasRequiredErrors$3;function requireErrors$3(){if(hasRequiredErrors$3)return errors$2;hasRequiredErrors$3=1;var e=errors$2&&errors$2.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(errors$2,"__esModule",{value:!0}),errors$2.ErrorMessages=void 0;const r=e(require$$0$1);return errors$2.ErrorMessages=r.default,errors$2}var rpc_errors$1={},commonjs$6={},assignable={},hasRequiredAssignable;function requireAssignable(){if(hasRequiredAssignable)return assignable;hasRequiredAssignable=1,Object.defineProperty(assignable,"__esModule",{value:!0}),assignable.Assignable=void 0;class e{constructor(t){Object.keys(t).map(n=>{this[n]=t[n]})}}return assignable.Assignable=e,assignable}var _enum={},hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,Object.defineProperty(_enum,"__esModule",{value:!0}),_enum.Enum=void 0;class e{constructor(t){if(Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(n=>{this[n]=t[n]})}}return _enum.Enum=e,_enum}var errors$1={},hasRequiredErrors$2;function requireErrors$2(){if(hasRequiredErrors$2)return errors$1;hasRequiredErrors$2=1,Object.defineProperty(errors$1,"__esModule",{value:!0}),errors$1.ErrorContext=errors$1.TypedError=errors$1.ArgumentTypeError=errors$1.PositionalArgsError=void 0;class e extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}errors$1.PositionalArgsError=e;class r extends Error{constructor(a,s,i){super(`Expected ${s} for '${a}' argument, but got '${JSON.stringify(i)}'`)}}errors$1.ArgumentTypeError=r;class t extends Error{constructor(s,i,o){super(s);J(this,"type");J(this,"context");this.type=i||"UntypedError",this.context=o}}errors$1.TypedError=t;class n{constructor(a){J(this,"transactionHash");this.transactionHash=a}}return errors$1.ErrorContext=n,errors$1}var provider$3={},light_client={},hasRequiredLight_client;function requireLight_client(){if(hasRequiredLight_client)return light_client;hasRequiredLight_client=1,Object.defineProperty(light_client,"__esModule",{value:!0}),light_client.IdType=void 0;var e;return function(r){r.Transaction="transaction",r.Receipt="receipt"}(e||(light_client.IdType=e={})),light_client}var response={},hasRequiredResponse;function requireResponse(){if(hasRequiredResponse)return response;hasRequiredResponse=1,Object.defineProperty(response,"__esModule",{value:!0}),response.FinalExecutionStatusBasic=response.ExecutionStatusBasic=void 0;var e;(function(t){t.Unknown="Unknown",t.Pending="Pending",t.Failure="Failure"})(e||(response.ExecutionStatusBasic=e={}));var r;return function(t){t.NotStarted="NotStarted",t.Started="Started",t.Failure="Failure"}(r||(response.FinalExecutionStatusBasic=r={})),response}var hasRequiredProvider$3;function requireProvider$3(){return hasRequiredProvider$3||(hasRequiredProvider$3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var r=requireLight_client();Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return r.IdType}});var t=requireResponse();Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return t.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return t.FinalExecutionStatusBasic}})}(provider$3)),provider$3}var hasRequiredCommonjs$9;function requireCommonjs$9(){return hasRequiredCommonjs$9||(hasRequiredCommonjs$9=1,function(e){var r=commonjs$6&&commonjs$6.__createBinding||(Object.create?function(n,u,a,s){s===void 0&&(s=a);var i=Object.getOwnPropertyDescriptor(u,a);(!i||("get"in i?!u.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return u[a]}}),Object.defineProperty(n,s,i)}:function(n,u,a,s){s===void 0&&(s=a),n[s]=u[a]}),t=commonjs$6&&commonjs$6.__exportStar||function(n,u){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&r(u,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(requireAssignable(),e),t(require_enum(),e),t(requireErrors$2(),e),t(requireProvider$3(),e)}(commonjs$6)),commonjs$6}var format$1={},baseX,hasRequiredBaseX;function requireBaseX(){if(hasRequiredBaseX)return baseX;hasRequiredBaseX=1;var e=requireSafeBuffer().Buffer;return baseX=function(t){for(var n={},u=t.length,a=t.charAt(0),s=0;s<t.length;s++){var i=t.charAt(s);if(n[i]!==void 0)throw new TypeError(i+" is ambiguous");n[i]=s}function o(f){if(f.length===0)return"";for(var d=[0],h=0;h<f.length;++h){for(var v=0,p=f[h];v<d.length;++v)p+=d[v]<<8,d[v]=p%u,p=p/u|0;for(;p>0;)d.push(p%u),p=p/u|0}for(var g="",E=0;f[E]===0&&E<f.length-1;++E)g+=t[0];for(var A=d.length-1;A>=0;--A)g+=t[d[A]];return g}function c(f){if(f.length===0)return e.allocUnsafe(0);for(var d=[0],h=0;h<f.length;h++){var v=n[f[h]];if(v===void 0)return;for(var p=0,g=v;p<d.length;++p)g+=d[p]*u,d[p]=g&255,g>>=8;for(;g>0;)d.push(g&255),g>>=8}for(var E=0;f[E]===a&&E<f.length-1;++E)d.push(0);return e.from(d.reverse())}function l(f){var d=c(f);if(d)return d;throw new Error("Non-base"+u+" character")}return{encode:o,decodeUnsafe:c,decode:l}},baseX}var bs58,hasRequiredBs58;function requireBs58(){if(hasRequiredBs58)return bs58;hasRequiredBs58=1;var e=requireBaseX(),r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return bs58=e(r),bs58}var hasRequiredFormat$1;function requireFormat$1(){return hasRequiredFormat$1||(hasRequiredFormat$1=1,function(e){var r=format$1&&format$1.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.baseDecode=e.baseEncode=e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const t=r(requireBs58());e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=10n**BigInt(e.NEAR_NOMINATION_EXP);const n=[],u=10n;for(let h=0,v=5n;h<e.NEAR_NOMINATION_EXP;h++,v=v*u)n[h]=v;function a(h,v=e.NEAR_NOMINATION_EXP){let p=BigInt(h);if(v!==e.NEAR_NOMINATION_EXP){const A=e.NEAR_NOMINATION_EXP-v-1;A>0&&(p+=n[A])}h=p.toString();const g=h.substring(0,h.length-e.NEAR_NOMINATION_EXP)||"0",E=h.substring(h.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,v);return o(`${l(g)}.${E}`)}e.formatNearAmount=a;function s(h){if(!h)return null;h=i(h);const v=h.split("."),p=v[0],g=v[1]||"";if(v.length>2||g.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${h}' as NEAR amount`);return c(p+g.padEnd(e.NEAR_NOMINATION_EXP,"0"))}e.parseNearAmount=s;function i(h){return h.replace(/,/g,"").trim()}function o(h){return h.replace(/\.?0*$/,"")}function c(h){return h=h.replace(/^0+/,""),h===""?"0":h}function l(h){const v=/(-?\d+)(\d{3})/;for(;v.test(h);)h=h.replace(v,"$1,$2");return h}function f(h){if(typeof h=="string"){const v=[];for(let p=0;p<h.length;p++)v.push(h.charCodeAt(p));h=new Uint8Array(v)}return t.default.encode(h)}e.baseEncode=f;function d(h){return new Uint8Array(t.default.decode(h))}e.baseDecode=d}(format$1)),format$1}const schema$1=JSON.parse('{"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"AltBn128InvalidInput":{"name":"AltBn128InvalidInput","subtypes":[],"props":{"msg":""}},"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","forwarded_buffered_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_buffered_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DelegateActionExpired":{"name":"DelegateActionExpired","subtypes":[],"props":{}},"DelegateActionInvalidNonce":{"name":"DelegateActionInvalidNonce","subtypes":[],"props":{"ak_nonce":"","delegate_nonce":""}},"DelegateActionInvalidSignature":{"name":"DelegateActionInvalidSignature","subtypes":[],"props":{}},"DelegateActionMustBeOnlyOne":{"name":"DelegateActionMustBeOnlyOne","subtypes":[],"props":{}},"DelegateActionNonceTooLarge":{"name":"DelegateActionNonceTooLarge","subtypes":[],"props":{"delegate_nonce":"","upper_bound":""}},"DelegateActionSenderDoesNotMatchTxReceiver":{"name":"DelegateActionSenderDoesNotMatchTxReceiver","subtypes":[],"props":{"receiver_id":"","sender_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteAccountWithLargeState":{"name":"DeleteAccountWithLargeState","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"ECRecoverError":{"name":"ECRecoverError","subtypes":[],"props":{"msg":""}},"Ed25519VerifyInvalidInput":{"name":"Ed25519VerifyInvalidInput","subtypes":[],"props":{"msg":""}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"IndirectCallToNull":{"name":"IndirectCallToNull","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],"props":{}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NonceTooLarge":{"name":"NonceTooLarge","subtypes":[],"props":{"tx_nonce":"","upper_bound":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReceiptSizeExceeded":{"name":"ReceiptSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"ShardCongested":{"name":"ShardCongested","subtypes":[],"props":{"congestion_level":"","shard_id":""}},"ShardStuck":{"name":"ShardStuck","subtypes":[],"props":{"missed_chunks":"","shard_id":""}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TooManyFunctions":{"name":"TooManyFunctions","subtypes":[],"props":{}},"TooManyLocals":{"name":"TooManyLocals","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TransactionSizeExceeded":{"name":"TransactionSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"UnsupportedProtocolFeature":{"name":"UnsupportedProtocolFeature","subtypes":[],"props":{"protocol_feature":"","version":""}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}'),require$$4={schema:schema$1};var hasRequiredRpc_errors$1;function requireRpc_errors$1(){if(hasRequiredRpc_errors$1)return rpc_errors$1;hasRequiredRpc_errors$1=1;var e=rpc_errors$1&&rpc_errors$1.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(rpc_errors$1,"__esModule",{value:!0}),rpc_errors$1.getErrorTypeFromErrorMessage=rpc_errors$1.formatError=rpc_errors$1.parseResultError=rpc_errors$1.parseRpcError=rpc_errors$1.ServerError=void 0;const r=requireCommonjs$9(),t=e(requireMustache()),n=requireFormat$1(),u=requireErrors$3(),a=e(require$$4),s={formatNear:()=>(g,E)=>(0,n.formatNearAmount)(E(g))};class i extends r.TypedError{}rpc_errors$1.ServerError=i;class o extends i{constructor(){super(...arguments);J(this,"transaction_outcome")}}function c(g){const E={},A=d(g,a.default.schema,E,""),C=new i(f(A,E),A);return Object.assign(C,E),C}rpc_errors$1.parseRpcError=c;function l(g){const E=c(g.status.Failure),A=new o;return Object.assign(A,E),A.type=E.type,A.message=E.message,A.transaction_outcome=g.transaction_outcome,A}rpc_errors$1.parseResultError=l;function f(g,E){return typeof u.ErrorMessages[g]=="string"?t.default.render(u.ErrorMessages[g],{...E,...s}):JSON.stringify(E)}rpc_errors$1.formatError=f;function d(g,E,A,C){let P,S,N;for(const j in E){if(p(g[j]))return g[j];if(v(g[j]))P=g[j],S=E[j],N=j;else if(v(g.kind)&&v(g.kind[j]))P=g.kind[j],S=E[j],N=j;else continue}if(P&&S){for(const j of Object.keys(S.props))A[j]=P[j];return d(P,E,A,N)}else return A.kind=g,C}function h(g,E){switch(!0){case/^account .*? does not exist while viewing$/.test(g):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(g):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(g):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(g):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(g):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(g):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(g):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(g):return"InvalidNonce";default:return E}}rpc_errors$1.getErrorTypeFromErrorMessage=h;function v(g){return Object.prototype.toString.call(g)==="[object Object]"}function p(g){return Object.prototype.toString.call(g)==="[object String]"}return rpc_errors$1}var hasRequiredErrors$1;function requireErrors$1(){return hasRequiredErrors$1||(hasRequiredErrors$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseRpcError=e.parseResultError=e.getErrorTypeFromErrorMessage=e.formatError=e.ServerError=e.ErrorMessages=void 0;var r=requireErrors$3();Object.defineProperty(e,"ErrorMessages",{enumerable:!0,get:function(){return r.ErrorMessages}});var t=requireRpc_errors$1();Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return t.ServerError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return t.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return t.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return t.parseResultError}}),Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return t.parseRpcError}})}(errors$3)),errors$3}var logging={},logger$2={},console_logger={},hasRequiredConsole_logger;function requireConsole_logger(){if(hasRequiredConsole_logger)return console_logger;hasRequiredConsole_logger=1,Object.defineProperty(console_logger,"__esModule",{value:!0}),console_logger.ConsoleLogger=void 0;class e{constructor(t){J(this,"logLevels");J(this,"isLevelEnabled",t=>this.logLevels.includes(t));this.logLevels=t}print(t,n,...u){switch(t){case"error":case"fatal":return console.error(n,...u);case"warn":return console.warn(n,...u);case"log":return console.log(n,...u);case"debug":case"verbose":return console.debug(n,...u)}}verbose(t,...n){this.isLevelEnabled("verbose")&&this.print("verbose",t,...n)}debug(t,...n){this.isLevelEnabled("debug")&&this.print("debug",t,...n)}log(t,...n){this.isLevelEnabled("log")&&this.print("log",t,...n)}warn(t,...n){this.isLevelEnabled("warn")&&this.print("warn",t,...n)}error(t,...n){this.isLevelEnabled("error")&&this.print("error",t,...n)}fatal(t,...n){this.isLevelEnabled("fatal")&&this.print("fatal",t,...n)}}return console_logger.ConsoleLogger=e,console_logger}var logger$1={},hasRequiredLogger$2;function requireLogger$2(){if(hasRequiredLogger$2)return logger$1;hasRequiredLogger$2=1,Object.defineProperty(logger$1,"__esModule",{value:!0}),logger$1.Logger=void 0;const e=requireConsole_logger(),r=["verbose","debug","log","warn","error","fatal"],t=new e.ConsoleLogger(r),u=class u{static error(s,...i){var o;(o=this.instanceRef)==null||o.error(s,...i)}static log(s,...i){var o;(o=this.instanceRef)==null||o.log(s,...i)}static warn(s,...i){var o;(o=this.instanceRef)==null||o.warn(s,...i)}static debug(s,...i){var o,c;(c=(o=this.instanceRef)==null?void 0:o.debug)==null||c.call(o,s,...i)}static verbose(s,...i){var o,c;(c=(o=this.instanceRef)==null?void 0:o.verbose)==null||c.call(o,s,...i)}static fatal(s,...i){var o,c;(c=(o=this.instanceRef)==null?void 0:o.fatal)==null||c.call(o,s,...i)}};J(u,"instanceRef",t),J(u,"overrideLogger",s=>{u.instanceRef=s});let n=u;return logger$1.Logger=n,logger$1}var hasRequiredLogger$1;function requireLogger$1(){return hasRequiredLogger$1||(hasRequiredLogger$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.ConsoleLogger=void 0;var r=requireConsole_logger();Object.defineProperty(e,"ConsoleLogger",{enumerable:!0,get:function(){return r.ConsoleLogger}});var t=requireLogger$2();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})}(logger$2)),logger$2}var hasRequiredLogging;function requireLogging(){if(hasRequiredLogging)return logging;hasRequiredLogging=1,Object.defineProperty(logging,"__esModule",{value:!0}),logging.printTxOutcomeLogs=logging.printTxOutcomeLogsAndFailures=void 0;const e=requireErrors$1(),r=requireLogger$1();function t({contractId:u,outcome:a}){const s=[a.transaction_outcome,...a.receipts_outcome].reduce((i,o)=>{const c=typeof o.outcome.status=="object"&&typeof o.outcome.status.Failure=="object";return o.outcome.logs.length||c?i.concat({receiptIds:o.outcome.receipt_ids,logs:o.outcome.logs,failure:typeof o.outcome.status=="object"&&o.outcome.status.Failure!==void 0?(0,e.parseRpcError)(o.outcome.status.Failure):null}):i},[]);for(const i of s)r.Logger.log(`Receipt${i.receiptIds.length>1?"s":""}: ${i.receiptIds.join(", ")}`),n({contractId:u,logs:i.logs,prefix:"	"}),i.failure&&r.Logger.warn(`	Failure [${u}]: ${i.failure}`)}logging.printTxOutcomeLogsAndFailures=t;function n({contractId:u,logs:a,prefix:s=""}){for(const i of a)r.Logger.log(`${s}Log [${u}]: ${i}`)}return logging.printTxOutcomeLogs=n,logging}var provider$2={},hasRequiredProvider$2;function requireProvider$2(){if(hasRequiredProvider$2)return provider$2;hasRequiredProvider$2=1,Object.defineProperty(provider$2,"__esModule",{value:!0}),provider$2.getTransactionLastResult=void 0;function e(r){if(typeof r.status=="object"&&typeof r.status.SuccessValue=="string"){const t=Buffer.from(r.status.SuccessValue,"base64").toString();try{return JSON.parse(t)}catch{return t}}return null}return provider$2.getTransactionLastResult=e,provider$2}var validators$1={},utils$5={},hasRequiredUtils$4;function requireUtils$4(){if(hasRequiredUtils$4)return utils$5;hasRequiredUtils$4=1,Object.defineProperty(utils$5,"__esModule",{value:!0}),utils$5.sortBigIntAsc=void 0;function e(r,t){return r<t?-1:r>t?1:0}return utils$5.sortBigIntAsc=e,utils$5}var hasRequiredValidators$1;function requireValidators$1(){if(hasRequiredValidators$1)return validators$1;hasRequiredValidators$1=1;var e=validators$1&&validators$1.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(validators$1,"__esModule",{value:!0}),validators$1.diffEpochValidators=validators$1.findSeatPrice=void 0;const r=e(requireBrowser$2()),t=requireUtils$4();function n(i,o,c,l){return l&&l<49?u(i,o):(c||((0,r.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),c=[1,6250]),a(i,o,c))}validators$1.findSeatPrice=n;function u(i,o){const c=i.map(v=>BigInt(v.stake)).sort(t.sortBigIntAsc),l=BigInt(o),f=c.reduce((v,p)=>v+p);if(f<l)throw new Error("Stakes are below seats");let d=1n,h=f+1n;for(;d!==h-1n;){const v=(d+h)/2n;let p=!1,g=0n;for(let E=0;E<c.length;++E)if(g=g+c[E]/v,g>=l){d=v,p=!0;break}p||(h=v)}return d}function a(i,o,c){if(c.length!=2)throw Error("minimumStakeRatio should have 2 elements");const l=i.map(d=>BigInt(d.stake)).sort(t.sortBigIntAsc),f=l.reduce((d,h)=>d+h);return i.length<o?f*BigInt(c[0])/BigInt(c[1]):l[0]+1n}function s(i,o){const c=new Map;i.forEach(f=>c.set(f.account_id,f));const l=new Set(o.map(f=>f.account_id));return{newValidators:o.filter(f=>!c.has(f.account_id)),removedValidators:i.filter(f=>!l.has(f.account_id)),changedValidators:o.filter(f=>c.has(f.account_id)&&c.get(f.account_id).stake!=f.stake).map(f=>({current:c.get(f.account_id),next:f}))}}return validators$1.diffEpochValidators=s,validators$1}var hasRequiredCommonjs$8;function requireCommonjs$8(){return hasRequiredCommonjs$8||(hasRequiredCommonjs$8=1,function(e){var r=commonjs$7&&commonjs$7.__createBinding||(Object.create?function(n,u,a,s){s===void 0&&(s=a);var i=Object.getOwnPropertyDescriptor(u,a);(!i||("get"in i?!u.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return u[a]}}),Object.defineProperty(n,s,i)}:function(n,u,a,s){s===void 0&&(s=a),n[s]=u[a]}),t=commonjs$7&&commonjs$7.__exportStar||function(n,u){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&r(u,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(requireConstants$1(),e),t(requireErrors$1(),e),t(requireFormat$1(),e),t(requireLogging(),e),t(requireProvider$2(),e),t(requireValidators$1(),e),t(requireLogger$1(),e),t(requireUtils$4(),e)}(commonjs$7)),commonjs$7}var ed25519={},sha512={},_sha2={},_assert={},hasRequired_assert;function require_assert(){if(hasRequired_assert)return _assert;hasRequired_assert=1,Object.defineProperty(_assert,"__esModule",{value:!0}),_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=void 0;function e(i){if(!Number.isSafeInteger(i)||i<0)throw new Error(`Wrong positive integer: ${i}`)}_assert.number=e;function r(i){if(typeof i!="boolean")throw new Error(`Expected boolean, not ${i}`)}_assert.bool=r;function t(i,...o){if(!(i instanceof Uint8Array))throw new Error("Expected Uint8Array");if(o.length>0&&!o.includes(i.length))throw new Error(`Expected Uint8Array of length ${o}, not of length=${i.length}`)}_assert.bytes=t;function n(i){if(typeof i!="function"||typeof i.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");e(i.outputLen),e(i.blockLen)}_assert.hash=n;function u(i,o=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(o&&i.finished)throw new Error("Hash#digest() has already been called")}_assert.exists=u;function a(i,o){t(i);const c=o.outputLen;if(i.length<c)throw new Error(`digestInto() expects output buffer of length at least ${c}`)}_assert.output=a;const s={number:e,bool:r,bytes:t,hash:n,exists:u,output:a};return _assert.default=s,_assert}var utils$4={},crypto={},hasRequiredCrypto;function requireCrypto(){return hasRequiredCrypto||(hasRequiredCrypto=1,Object.defineProperty(crypto,"__esModule",{value:!0}),crypto.crypto=void 0,crypto.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),crypto}var hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const r=requireCrypto(),t=N=>N instanceof Uint8Array,n=N=>new Uint8Array(N.buffer,N.byteOffset,N.byteLength);e.u8=n;const u=N=>new Uint32Array(N.buffer,N.byteOffset,Math.floor(N.byteLength/4));e.u32=u;const a=N=>new DataView(N.buffer,N.byteOffset,N.byteLength);e.createView=a;const s=(N,j)=>N<<32-j|N>>>j;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},(N,j)=>j.toString(16).padStart(2,"0"));function o(N){if(!t(N))throw new Error("Uint8Array expected");let j="";for(let k=0;k<N.length;k++)j+=i[N[k]];return j}e.bytesToHex=o;function c(N){if(typeof N!="string")throw new Error("hex string expected, got "+typeof N);const j=N.length;if(j%2)throw new Error("padded hex string expected, got unpadded hex of length "+j);const k=new Uint8Array(j/2);for(let B=0;B<k.length;B++){const L=B*2,R=N.slice(L,L+2),y=Number.parseInt(R,16);if(Number.isNaN(y)||y<0)throw new Error("Invalid byte sequence");k[B]=y}return k}e.hexToBytes=c;const l=async()=>{};e.nextTick=l;async function f(N,j,k){let B=Date.now();for(let L=0;L<N;L++){k(L);const R=Date.now()-B;R>=0&&R<j||(await(0,e.nextTick)(),B+=R)}}e.asyncLoop=f;function d(N){if(typeof N!="string")throw new Error(`utf8ToBytes expected string, got ${typeof N}`);return new Uint8Array(new TextEncoder().encode(N))}e.utf8ToBytes=d;function h(N){if(typeof N=="string"&&(N=d(N)),!t(N))throw new Error(`expected Uint8Array, got ${typeof N}`);return N}e.toBytes=h;function v(...N){const j=new Uint8Array(N.reduce((B,L)=>B+L.length,0));let k=0;return N.forEach(B=>{if(!t(B))throw new Error("Uint8Array expected");j.set(B,k),k+=B.length}),j}e.concatBytes=v;class p{clone(){return this._cloneInto()}}e.Hash=p;const g={}.toString;function E(N,j){if(j!==void 0&&g.call(j)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(N,j)}e.checkOpts=E;function A(N){const j=B=>N().update(h(B)).digest(),k=N();return j.outputLen=k.outputLen,j.blockLen=k.blockLen,j.create=()=>N(),j}e.wrapConstructor=A;function C(N){const j=(B,L)=>N(L).update(h(B)).digest(),k=N({});return j.outputLen=k.outputLen,j.blockLen=k.blockLen,j.create=B=>N(B),j}e.wrapConstructorWithOpts=C;function P(N){const j=(B,L)=>N(L).update(h(B)).digest(),k=N({});return j.outputLen=k.outputLen,j.blockLen=k.blockLen,j.create=B=>N(B),j}e.wrapXOFConstructorWithOpts=P;function S(N=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(N));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=S}(utils$4)),utils$4}var hasRequired_sha2;function require_sha2(){if(hasRequired_sha2)return _sha2;hasRequired_sha2=1,Object.defineProperty(_sha2,"__esModule",{value:!0}),_sha2.SHA2=void 0;const e=require_assert(),r=requireUtils$3();function t(u,a,s,i){if(typeof u.setBigUint64=="function")return u.setBigUint64(a,s,i);const o=BigInt(32),c=BigInt(4294967295),l=Number(s>>o&c),f=Number(s&c),d=i?4:0,h=i?0:4;u.setUint32(a+d,l,i),u.setUint32(a+h,f,i)}class n extends r.Hash{constructor(a,s,i,o){super(),this.blockLen=a,this.outputLen=s,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=(0,r.createView)(this.buffer)}update(a){(0,e.exists)(this);const{view:s,buffer:i,blockLen:o}=this;a=(0,r.toBytes)(a);const c=a.length;for(let l=0;l<c;){const f=Math.min(o-this.pos,c-l);if(f===o){const d=(0,r.createView)(a);for(;o<=c-l;l+=o)this.process(d,l);continue}i.set(a.subarray(l,l+f),this.pos),this.pos+=f,l+=f,this.pos===o&&(this.process(s,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){(0,e.exists)(this),(0,e.output)(a,this),this.finished=!0;const{buffer:s,view:i,blockLen:o,isLE:c}=this;let{pos:l}=this;s[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>o-l&&(this.process(i,0),l=0);for(let p=l;p<o;p++)s[p]=0;t(i,o-8,BigInt(this.length*8),c),this.process(i,0);const f=(0,r.createView)(a),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=d/4,v=this.get();if(h>v.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)f.setUint32(4*p,v[p],c)}digest(){const{buffer:a,outputLen:s}=this;this.digestInto(a);const i=a.slice(0,s);return this.destroy(),i}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());const{blockLen:s,buffer:i,length:o,finished:c,destroyed:l,pos:f}=this;return a.length=o,a.pos=f,a.finished=c,a.destroyed=l,o%s&&a.buffer.set(i),a}}return _sha2.SHA2=n,_sha2}var _u64={},hasRequired_u64;function require_u64(){if(hasRequired_u64)return _u64;hasRequired_u64=1,Object.defineProperty(_u64,"__esModule",{value:!0}),_u64.add5L=_u64.add5H=_u64.add4H=_u64.add4L=_u64.add3H=_u64.add3L=_u64.add=_u64.rotlBL=_u64.rotlBH=_u64.rotlSL=_u64.rotlSH=_u64.rotr32L=_u64.rotr32H=_u64.rotrBL=_u64.rotrBH=_u64.rotrSL=_u64.rotrSH=_u64.shrSL=_u64.shrSH=_u64.toBig=_u64.split=_u64.fromBig=void 0;const e=BigInt(2**32-1),r=BigInt(32);function t(B,L=!1){return L?{h:Number(B&e),l:Number(B>>r&e)}:{h:Number(B>>r&e)|0,l:Number(B&e)|0}}_u64.fromBig=t;function n(B,L=!1){let R=new Uint32Array(B.length),y=new Uint32Array(B.length);for(let _=0;_<B.length;_++){const{h:b,l:w}=t(B[_],L);[R[_],y[_]]=[b,w]}return[R,y]}_u64.split=n;const u=(B,L)=>BigInt(B>>>0)<<r|BigInt(L>>>0);_u64.toBig=u;const a=(B,L,R)=>B>>>R;_u64.shrSH=a;const s=(B,L,R)=>B<<32-R|L>>>R;_u64.shrSL=s;const i=(B,L,R)=>B>>>R|L<<32-R;_u64.rotrSH=i;const o=(B,L,R)=>B<<32-R|L>>>R;_u64.rotrSL=o;const c=(B,L,R)=>B<<64-R|L>>>R-32;_u64.rotrBH=c;const l=(B,L,R)=>B>>>R-32|L<<64-R;_u64.rotrBL=l;const f=(B,L)=>L;_u64.rotr32H=f;const d=(B,L)=>B;_u64.rotr32L=d;const h=(B,L,R)=>B<<R|L>>>32-R;_u64.rotlSH=h;const v=(B,L,R)=>L<<R|B>>>32-R;_u64.rotlSL=v;const p=(B,L,R)=>L<<R-32|B>>>64-R;_u64.rotlBH=p;const g=(B,L,R)=>B<<R-32|L>>>64-R;_u64.rotlBL=g;function E(B,L,R,y){const _=(L>>>0)+(y>>>0);return{h:B+R+(_/2**32|0)|0,l:_|0}}_u64.add=E;const A=(B,L,R)=>(B>>>0)+(L>>>0)+(R>>>0);_u64.add3L=A;const C=(B,L,R,y)=>L+R+y+(B/2**32|0)|0;_u64.add3H=C;const P=(B,L,R,y)=>(B>>>0)+(L>>>0)+(R>>>0)+(y>>>0);_u64.add4L=P;const S=(B,L,R,y,_)=>L+R+y+_+(B/2**32|0)|0;_u64.add4H=S;const N=(B,L,R,y,_)=>(B>>>0)+(L>>>0)+(R>>>0)+(y>>>0)+(_>>>0);_u64.add5L=N;const j=(B,L,R,y,_,b)=>L+R+y+_+b+(B/2**32|0)|0;_u64.add5H=j;const k={fromBig:t,split:n,toBig:u,shrSH:a,shrSL:s,rotrSH:i,rotrSL:o,rotrBH:c,rotrBL:l,rotr32H:f,rotr32L:d,rotlSH:h,rotlSL:v,rotlBH:p,rotlBL:g,add:E,add3L:A,add3H:C,add4L:P,add4H:S,add5H:j,add5L:N};return _u64.default=k,_u64}var hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512;hasRequiredSha512=1,Object.defineProperty(sha512,"__esModule",{value:!0}),sha512.sha384=sha512.sha512_256=sha512.sha512_224=sha512.sha512=sha512.SHA512=void 0;const e=require_sha2(),r=require_u64(),t=requireUtils$3(),[n,u]=r.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(f=>BigInt(f))),a=new Uint32Array(80),s=new Uint32Array(80);class i extends e.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:d,Al:h,Bh:v,Bl:p,Ch:g,Cl:E,Dh:A,Dl:C,Eh:P,El:S,Fh:N,Fl:j,Gh:k,Gl:B,Hh:L,Hl:R}=this;return[d,h,v,p,g,E,A,C,P,S,N,j,k,B,L,R]}set(d,h,v,p,g,E,A,C,P,S,N,j,k,B,L,R){this.Ah=d|0,this.Al=h|0,this.Bh=v|0,this.Bl=p|0,this.Ch=g|0,this.Cl=E|0,this.Dh=A|0,this.Dl=C|0,this.Eh=P|0,this.El=S|0,this.Fh=N|0,this.Fl=j|0,this.Gh=k|0,this.Gl=B|0,this.Hh=L|0,this.Hl=R|0}process(d,h){for(let b=0;b<16;b++,h+=4)a[b]=d.getUint32(h),s[b]=d.getUint32(h+=4);for(let b=16;b<80;b++){const w=a[b-15]|0,I=s[b-15]|0,q=r.default.rotrSH(w,I,1)^r.default.rotrSH(w,I,8)^r.default.shrSH(w,I,7),U=r.default.rotrSL(w,I,1)^r.default.rotrSL(w,I,8)^r.default.shrSL(w,I,7),x=a[b-2]|0,m=s[b-2]|0,T=r.default.rotrSH(x,m,19)^r.default.rotrBH(x,m,61)^r.default.shrSH(x,m,6),W=r.default.rotrSL(x,m,19)^r.default.rotrBL(x,m,61)^r.default.shrSL(x,m,6),F=r.default.add4L(U,W,s[b-7],s[b-16]),D=r.default.add4H(F,q,T,a[b-7],a[b-16]);a[b]=D|0,s[b]=F|0}let{Ah:v,Al:p,Bh:g,Bl:E,Ch:A,Cl:C,Dh:P,Dl:S,Eh:N,El:j,Fh:k,Fl:B,Gh:L,Gl:R,Hh:y,Hl:_}=this;for(let b=0;b<80;b++){const w=r.default.rotrSH(N,j,14)^r.default.rotrSH(N,j,18)^r.default.rotrBH(N,j,41),I=r.default.rotrSL(N,j,14)^r.default.rotrSL(N,j,18)^r.default.rotrBL(N,j,41),q=N&k^~N&L,U=j&B^~j&R,x=r.default.add5L(_,I,U,u[b],s[b]),m=r.default.add5H(x,y,w,q,n[b],a[b]),T=x|0,W=r.default.rotrSH(v,p,28)^r.default.rotrBH(v,p,34)^r.default.rotrBH(v,p,39),F=r.default.rotrSL(v,p,28)^r.default.rotrBL(v,p,34)^r.default.rotrBL(v,p,39),D=v&g^v&A^g&A,V=p&E^p&C^E&C;y=L|0,_=R|0,L=k|0,R=B|0,k=N|0,B=j|0,{h:N,l:j}=r.default.add(P|0,S|0,m|0,T|0),P=A|0,S=C|0,A=g|0,C=E|0,g=v|0,E=p|0;const Z=r.default.add3L(T,F,V);v=r.default.add3H(Z,m,W,D),p=Z|0}({h:v,l:p}=r.default.add(this.Ah|0,this.Al|0,v|0,p|0)),{h:g,l:E}=r.default.add(this.Bh|0,this.Bl|0,g|0,E|0),{h:A,l:C}=r.default.add(this.Ch|0,this.Cl|0,A|0,C|0),{h:P,l:S}=r.default.add(this.Dh|0,this.Dl|0,P|0,S|0),{h:N,l:j}=r.default.add(this.Eh|0,this.El|0,N|0,j|0),{h:k,l:B}=r.default.add(this.Fh|0,this.Fl|0,k|0,B|0),{h:L,l:R}=r.default.add(this.Gh|0,this.Gl|0,L|0,R|0),{h:y,l:_}=r.default.add(this.Hh|0,this.Hl|0,y|0,_|0),this.set(v,p,g,E,A,C,P,S,N,j,k,B,L,R,y,_)}roundClean(){a.fill(0),s.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha512.SHA512=i;class o extends i{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class c extends i{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class l extends i{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}return sha512.sha512=(0,t.wrapConstructor)(()=>new i),sha512.sha512_224=(0,t.wrapConstructor)(()=>new o),sha512.sha512_256=(0,t.wrapConstructor)(()=>new c),sha512.sha384=(0,t.wrapConstructor)(()=>new l),sha512}var edwards={},modular={},utils$3={},hasRequiredUtils$2;function requireUtils$2(){if(hasRequiredUtils$2)return utils$3;hasRequiredUtils$2=1,Object.defineProperty(utils$3,"__esModule",{value:!0}),utils$3.validateObject=utils$3.createHmacDrbg=utils$3.bitMask=utils$3.bitSet=utils$3.bitGet=utils$3.bitLen=utils$3.utf8ToBytes=utils$3.equalBytes=utils$3.concatBytes=utils$3.ensureBytes=utils$3.numberToVarBytesBE=utils$3.numberToBytesLE=utils$3.numberToBytesBE=utils$3.bytesToNumberLE=utils$3.bytesToNumberBE=utils$3.hexToBytes=utils$3.hexToNumber=utils$3.numberToHexUnpadded=utils$3.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=BigInt(0),r=BigInt(1),t=BigInt(2),n=R=>R instanceof Uint8Array,u=Array.from({length:256},(R,y)=>y.toString(16).padStart(2,"0"));function a(R){if(!n(R))throw new Error("Uint8Array expected");let y="";for(let _=0;_<R.length;_++)y+=u[R[_]];return y}utils$3.bytesToHex=a;function s(R){const y=R.toString(16);return y.length&1?`0${y}`:y}utils$3.numberToHexUnpadded=s;function i(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);return BigInt(R===""?"0":`0x${R}`)}utils$3.hexToNumber=i;function o(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const y=R.length;if(y%2)throw new Error("padded hex string expected, got unpadded hex of length "+y);const _=new Uint8Array(y/2);for(let b=0;b<_.length;b++){const w=b*2,I=R.slice(w,w+2),q=Number.parseInt(I,16);if(Number.isNaN(q)||q<0)throw new Error("Invalid byte sequence");_[b]=q}return _}utils$3.hexToBytes=o;function c(R){return i(a(R))}utils$3.bytesToNumberBE=c;function l(R){if(!n(R))throw new Error("Uint8Array expected");return i(a(Uint8Array.from(R).reverse()))}utils$3.bytesToNumberLE=l;function f(R,y){return o(R.toString(16).padStart(y*2,"0"))}utils$3.numberToBytesBE=f;function d(R,y){return f(R,y).reverse()}utils$3.numberToBytesLE=d;function h(R){return o(s(R))}utils$3.numberToVarBytesBE=h;function v(R,y,_){let b;if(typeof y=="string")try{b=o(y)}catch(I){throw new Error(`${R} must be valid hex string, got "${y}". Cause: ${I}`)}else if(n(y))b=Uint8Array.from(y);else throw new Error(`${R} must be hex string or Uint8Array`);const w=b.length;if(typeof _=="number"&&w!==_)throw new Error(`${R} expected ${_} bytes, got ${w}`);return b}utils$3.ensureBytes=v;function p(...R){const y=new Uint8Array(R.reduce((b,w)=>b+w.length,0));let _=0;return R.forEach(b=>{if(!n(b))throw new Error("Uint8Array expected");y.set(b,_),_+=b.length}),y}utils$3.concatBytes=p;function g(R,y){if(R.length!==y.length)return!1;for(let _=0;_<R.length;_++)if(R[_]!==y[_])return!1;return!0}utils$3.equalBytes=g;function E(R){if(typeof R!="string")throw new Error(`utf8ToBytes expected string, got ${typeof R}`);return new Uint8Array(new TextEncoder().encode(R))}utils$3.utf8ToBytes=E;function A(R){let y;for(y=0;R>e;R>>=r,y+=1);return y}utils$3.bitLen=A;function C(R,y){return R>>BigInt(y)&r}utils$3.bitGet=C;const P=(R,y,_)=>R|(_?r:e)<<BigInt(y);utils$3.bitSet=P;const S=R=>(t<<BigInt(R-1))-r;utils$3.bitMask=S;const N=R=>new Uint8Array(R),j=R=>Uint8Array.from(R);function k(R,y,_){if(typeof R!="number"||R<2)throw new Error("hashLen must be a number");if(typeof y!="number"||y<2)throw new Error("qByteLen must be a number");if(typeof _!="function")throw new Error("hmacFn must be a function");let b=N(R),w=N(R),I=0;const q=()=>{b.fill(1),w.fill(0),I=0},U=(...W)=>_(w,b,...W),x=(W=N())=>{w=U(j([0]),W),b=U(),W.length!==0&&(w=U(j([1]),W),b=U())},m=()=>{if(I++>=1e3)throw new Error("drbg: tried 1000 values");let W=0;const F=[];for(;W<y;){b=U();const D=b.slice();F.push(D),W+=b.length}return p(...F)};return(W,F)=>{q(),x(W);let D;for(;!(D=F(m()));)x();return q(),D}}utils$3.createHmacDrbg=k;const B={bigint:R=>typeof R=="bigint",function:R=>typeof R=="function",boolean:R=>typeof R=="boolean",string:R=>typeof R=="string",stringOrUint8Array:R=>typeof R=="string"||R instanceof Uint8Array,isSafeInteger:R=>Number.isSafeInteger(R),array:R=>Array.isArray(R),field:(R,y)=>y.Fp.isValid(R),hash:R=>typeof R=="function"&&Number.isSafeInteger(R.outputLen)};function L(R,y,_={}){const b=(w,I,q)=>{const U=B[I];if(typeof U!="function")throw new Error(`Invalid validator "${I}", expected function`);const x=R[w];if(!(q&&x===void 0)&&!U(x,R))throw new Error(`Invalid param ${String(w)}=${x} (${typeof x}), expected ${I}`)};for(const[w,I]of Object.entries(y))b(w,I,!1);for(const[w,I]of Object.entries(_))b(w,I,!0);return R}return utils$3.validateObject=L,utils$3}var hasRequiredModular;function requireModular(){if(hasRequiredModular)return modular;hasRequiredModular=1,Object.defineProperty(modular,"__esModule",{value:!0}),modular.mapHashToField=modular.getMinHashLength=modular.getFieldBytesLength=modular.hashToPrivateScalar=modular.FpSqrtEven=modular.FpSqrtOdd=modular.Field=modular.nLength=modular.FpIsSquare=modular.FpDiv=modular.FpInvertBatch=modular.FpPow=modular.validateField=modular.isNegativeLE=modular.FpSqrt=modular.tonelliShanks=modular.invert=modular.pow2=modular.pow=modular.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=requireUtils$2(),r=BigInt(0),t=BigInt(1),n=BigInt(2),u=BigInt(3),a=BigInt(4),s=BigInt(5),i=BigInt(8);BigInt(9),BigInt(16);function o(_,b){const w=_%b;return w>=r?w:b+w}modular.mod=o;function c(_,b,w){if(w<=r||b<r)throw new Error("Expected power/modulo > 0");if(w===t)return r;let I=t;for(;b>r;)b&t&&(I=I*_%w),_=_*_%w,b>>=t;return I}modular.pow=c;function l(_,b,w){let I=_;for(;b-- >r;)I*=I,I%=w;return I}modular.pow2=l;function f(_,b){if(_===r||b<=r)throw new Error(`invert: expected positive integers, got n=${_} mod=${b}`);let w=o(_,b),I=b,q=r,U=t;for(;w!==r;){const m=I/w,T=I%w,W=q-U*m;I=w,w=T,q=U,U=W}if(I!==t)throw new Error("invert: does not exist");return o(q,b)}modular.invert=f;function d(_){const b=(_-t)/n;let w,I,q;for(w=_-t,I=0;w%n===r;w/=n,I++);for(q=n;q<_&&c(q,b,_)!==_-t;q++);if(I===1){const x=(_+t)/a;return function(T,W){const F=T.pow(W,x);if(!T.eql(T.sqr(F),W))throw new Error("Cannot find square root");return F}}const U=(w+t)/n;return function(m,T){if(m.pow(T,b)===m.neg(m.ONE))throw new Error("Cannot find square root");let W=I,F=m.pow(m.mul(m.ONE,q),w),D=m.pow(T,U),V=m.pow(T,w);for(;!m.eql(V,m.ONE);){if(m.eql(V,m.ZERO))return m.ZERO;let Z=1;for(let ee=m.sqr(V);Z<W&&!m.eql(ee,m.ONE);Z++)ee=m.sqr(ee);const te=m.pow(F,t<<BigInt(W-Z-1));F=m.sqr(te),D=m.mul(D,te),V=m.mul(V,F),W=Z}return D}}modular.tonelliShanks=d;function h(_){if(_%a===u){const b=(_+t)/a;return function(I,q){const U=I.pow(q,b);if(!I.eql(I.sqr(U),q))throw new Error("Cannot find square root");return U}}if(_%i===s){const b=(_-s)/i;return function(I,q){const U=I.mul(q,n),x=I.pow(U,b),m=I.mul(q,x),T=I.mul(I.mul(m,n),x),W=I.mul(m,I.sub(T,I.ONE));if(!I.eql(I.sqr(W),q))throw new Error("Cannot find square root");return W}}return d(_)}modular.FpSqrt=h;const v=(_,b)=>(o(_,b)&t)===t;modular.isNegativeLE=v;const p=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(_){const b={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},w=p.reduce((I,q)=>(I[q]="function",I),b);return(0,e.validateObject)(_,w)}modular.validateField=g;function E(_,b,w){if(w<r)throw new Error("Expected power > 0");if(w===r)return _.ONE;if(w===t)return b;let I=_.ONE,q=b;for(;w>r;)w&t&&(I=_.mul(I,q)),q=_.sqr(q),w>>=t;return I}modular.FpPow=E;function A(_,b){const w=new Array(b.length),I=b.reduce((U,x,m)=>_.is0(x)?U:(w[m]=U,_.mul(U,x)),_.ONE),q=_.inv(I);return b.reduceRight((U,x,m)=>_.is0(x)?U:(w[m]=_.mul(U,w[m]),_.mul(U,x)),q),w}modular.FpInvertBatch=A;function C(_,b,w){return _.mul(b,typeof w=="bigint"?f(w,_.ORDER):_.inv(w))}modular.FpDiv=C;function P(_){const b=(_.ORDER-t)/n;return w=>{const I=_.pow(w,b);return _.eql(I,_.ZERO)||_.eql(I,_.ONE)}}modular.FpIsSquare=P;function S(_,b){const w=b!==void 0?b:_.toString(2).length,I=Math.ceil(w/8);return{nBitLength:w,nByteLength:I}}modular.nLength=S;function N(_,b,w=!1,I={}){if(_<=r)throw new Error(`Expected Field ORDER > 0, got ${_}`);const{nBitLength:q,nByteLength:U}=S(_,b);if(U>2048)throw new Error("Field lengths over 2048 bytes are not supported");const x=h(_),m=Object.freeze({ORDER:_,BITS:q,BYTES:U,MASK:(0,e.bitMask)(q),ZERO:r,ONE:t,create:T=>o(T,_),isValid:T=>{if(typeof T!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof T}`);return r<=T&&T<_},is0:T=>T===r,isOdd:T=>(T&t)===t,neg:T=>o(-T,_),eql:(T,W)=>T===W,sqr:T=>o(T*T,_),add:(T,W)=>o(T+W,_),sub:(T,W)=>o(T-W,_),mul:(T,W)=>o(T*W,_),pow:(T,W)=>E(m,T,W),div:(T,W)=>o(T*f(W,_),_),sqrN:T=>T*T,addN:(T,W)=>T+W,subN:(T,W)=>T-W,mulN:(T,W)=>T*W,inv:T=>f(T,_),sqrt:I.sqrt||(T=>x(m,T)),invertBatch:T=>A(m,T),cmov:(T,W,F)=>F?W:T,toBytes:T=>w?(0,e.numberToBytesLE)(T,U):(0,e.numberToBytesBE)(T,U),fromBytes:T=>{if(T.length!==U)throw new Error(`Fp.fromBytes: expected ${U}, got ${T.length}`);return w?(0,e.bytesToNumberLE)(T):(0,e.bytesToNumberBE)(T)}});return Object.freeze(m)}modular.Field=N;function j(_,b){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const w=_.sqrt(b);return _.isOdd(w)?w:_.neg(w)}modular.FpSqrtOdd=j;function k(_,b){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const w=_.sqrt(b);return _.isOdd(w)?_.neg(w):w}modular.FpSqrtEven=k;function B(_,b,w=!1){_=(0,e.ensureBytes)("privateHash",_);const I=_.length,q=S(b).nByteLength+8;if(q<24||I<q||I>1024)throw new Error(`hashToPrivateScalar: expected ${q}-1024 bytes of input, got ${I}`);const U=w?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_);return o(U,b-t)+t}modular.hashToPrivateScalar=B;function L(_){if(typeof _!="bigint")throw new Error("field order must be bigint");const b=_.toString(2).length;return Math.ceil(b/8)}modular.getFieldBytesLength=L;function R(_){const b=L(_);return b+Math.ceil(b/2)}modular.getMinHashLength=R;function y(_,b,w=!1){const I=_.length,q=L(b),U=R(b);if(I<16||I<U||I>1024)throw new Error(`expected ${U}-1024 bytes of input, got ${I}`);const x=w?(0,e.bytesToNumberBE)(_):(0,e.bytesToNumberLE)(_),m=o(x,b-t)+t;return w?(0,e.numberToBytesLE)(m,q):(0,e.numberToBytesBE)(m,q)}return modular.mapHashToField=y,modular}var curve={},hasRequiredCurve;function requireCurve(){if(hasRequiredCurve)return curve;hasRequiredCurve=1,Object.defineProperty(curve,"__esModule",{value:!0}),curve.validateBasic=curve.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=requireModular(),r=requireUtils$2(),t=BigInt(0),n=BigInt(1);function u(s,i){const o=(l,f)=>{const d=f.negate();return l?d:f},c=l=>{const f=Math.ceil(i/l)+1,d=2**(l-1);return{windows:f,windowSize:d}};return{constTimeNegate:o,unsafeLadder(l,f){let d=s.ZERO,h=l;for(;f>t;)f&n&&(d=d.add(h)),h=h.double(),f>>=n;return d},precomputeWindow(l,f){const{windows:d,windowSize:h}=c(f),v=[];let p=l,g=p;for(let E=0;E<d;E++){g=p,v.push(g);for(let A=1;A<h;A++)g=g.add(p),v.push(g);p=g.double()}return v},wNAF(l,f,d){const{windows:h,windowSize:v}=c(l);let p=s.ZERO,g=s.BASE;const E=BigInt(2**l-1),A=2**l,C=BigInt(l);for(let P=0;P<h;P++){const S=P*v;let N=Number(d&E);d>>=C,N>v&&(N-=A,d+=n);const j=S,k=S+Math.abs(N)-1,B=P%2!==0,L=N<0;N===0?g=g.add(o(B,f[j])):p=p.add(o(L,f[k]))}return{p,f:g}},wNAFCached(l,f,d,h){const v=l._WINDOW_SIZE||1;let p=f.get(l);return p||(p=this.precomputeWindow(l,v),v!==1&&f.set(l,h(p))),this.wNAF(v,p,d)}}}curve.wNAF=u;function a(s){return(0,e.validateField)(s.Fp),(0,r.validateObject)(s,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,e.nLength)(s.n,s.nBitLength),...s,p:s.Fp.ORDER})}return curve.validateBasic=a,curve}var hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1,Object.defineProperty(edwards,"__esModule",{value:!0}),edwards.twistedEdwards=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=requireModular(),r=requireUtils$2(),t=requireUtils$2(),n=requireCurve(),u=BigInt(0),a=BigInt(1),s=BigInt(2),i=BigInt(8),o={zip215:!0};function c(f){const d=(0,n.validateBasic)(f);return r.validateObject(f,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...d})}function l(f){const d=c(f),{Fp:h,n:v,prehash:p,hash:g,randomBytes:E,nByteLength:A,h:C}=d,P=s<<BigInt(A*8)-a,S=h.create,N=d.uvRatio||((H,z)=>{try{return{isValid:!0,value:h.sqrt(H*h.inv(z))}}catch{return{isValid:!1,value:u}}}),j=d.adjustScalarBytes||(H=>H),k=d.domain||((H,z,X)=>{if(z.length||X)throw new Error("Contexts/pre-hash are not supported");return H}),B=H=>typeof H=="bigint"&&u<H,L=(H,z)=>B(H)&&B(z)&&H<z,R=H=>H===u||L(H,P);function y(H,z){if(L(H,z))return H;throw new Error(`Expected valid scalar < ${z}, got ${typeof H} ${H}`)}function _(H){return H===u?H:y(H,v)}const b=new Map;function w(H){if(!(H instanceof I))throw new Error("ExtendedPoint expected")}class I{constructor(z,X,Q,re){if(this.ex=z,this.ey=X,this.ez=Q,this.et=re,!R(z))throw new Error("x required");if(!R(X))throw new Error("y required");if(!R(Q))throw new Error("z required");if(!R(re))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(z){if(z instanceof I)throw new Error("extended point not allowed");const{x:X,y:Q}=z||{};if(!R(X)||!R(Q))throw new Error("invalid affine point");return new I(X,Q,a,S(X*Q))}static normalizeZ(z){const X=h.invertBatch(z.map(Q=>Q.ez));return z.map((Q,re)=>Q.toAffine(X[re])).map(I.fromAffine)}_setWindowSize(z){this._WINDOW_SIZE=z,b.delete(this)}assertValidity(){const{a:z,d:X}=d;if(this.is0())throw new Error("bad point: ZERO");const{ex:Q,ey:re,ez:oe,et:se}=this,ae=S(Q*Q),ce=S(re*re),ue=S(oe*oe),ie=S(ue*ue),he=S(ae*z),de=S(ue*S(he+ce)),$e=S(ie+S(X*S(ae*ce)));if(de!==$e)throw new Error("bad point: equation left != right (1)");const pe=S(Q*re),ye=S(oe*se);if(pe!==ye)throw new Error("bad point: equation left != right (2)")}equals(z){w(z);const{ex:X,ey:Q,ez:re}=this,{ex:oe,ey:se,ez:ae}=z,ce=S(X*ae),ue=S(oe*re),ie=S(Q*ae),he=S(se*re);return ce===ue&&ie===he}is0(){return this.equals(I.ZERO)}negate(){return new I(S(-this.ex),this.ey,this.ez,S(-this.et))}double(){const{a:z}=d,{ex:X,ey:Q,ez:re}=this,oe=S(X*X),se=S(Q*Q),ae=S(s*S(re*re)),ce=S(z*oe),ue=X+Q,ie=S(S(ue*ue)-oe-se),he=ce+se,de=he-ae,$e=ce-se,pe=S(ie*de),ye=S(he*$e),be=S(ie*$e),_e=S(de*he);return new I(pe,ye,_e,be)}add(z){w(z);const{a:X,d:Q}=d,{ex:re,ey:oe,ez:se,et:ae}=this,{ex:ce,ey:ue,ez:ie,et:he}=z;if(X===BigInt(-1)){const fe=S((oe-re)*(ue+ce)),ve=S((oe+re)*(ue-ce)),Se=S(ve-fe);if(Se===u)return this.double();const ge=S(se*s*he),me=S(ae*s*ie),Ee=me+ge,we=ve+fe,Ae=me-ge,ke=S(Ee*Se),Ie=S(we*Ae),Re=S(Ee*Ae),Ue=S(Se*we);return new I(ke,Ie,Ue,Re)}const de=S(re*ce),$e=S(oe*ue),pe=S(ae*Q*he),ye=S(se*ie),be=S((re+oe)*(ce+ue)-de-$e),_e=ye-pe,G=ye+pe,O=S($e-X*de),M=S(be*_e),Y=S(G*O),ne=S(be*O),le=S(_e*G);return new I(M,Y,le,ne)}subtract(z){return this.add(z.negate())}wNAF(z){return x.wNAFCached(this,b,z,I.normalizeZ)}multiply(z){const{p:X,f:Q}=this.wNAF(y(z,v));return I.normalizeZ([X,Q])[0]}multiplyUnsafe(z){let X=_(z);return X===u?U:this.equals(U)||X===a?this:this.equals(q)?this.wNAF(X).p:x.unsafeLadder(this,X)}isSmallOrder(){return this.multiplyUnsafe(C).is0()}isTorsionFree(){return x.unsafeLadder(this,v).is0()}toAffine(z){const{ex:X,ey:Q,ez:re}=this,oe=this.is0();z==null&&(z=oe?i:h.inv(re));const se=S(X*z),ae=S(Q*z),ce=S(re*z);if(oe)return{x:u,y:a};if(ce!==a)throw new Error("invZ was invalid");return{x:se,y:ae}}clearCofactor(){const{h:z}=d;return z===a?this:this.multiplyUnsafe(z)}static fromHex(z,X=!1){const{d:Q,a:re}=d,oe=h.BYTES;z=(0,t.ensureBytes)("pointHex",z,oe);const se=z.slice(),ae=z[oe-1];se[oe-1]=ae&-129;const ce=r.bytesToNumberLE(se);ce===u||(X?y(ce,P):y(ce,h.ORDER));const ue=S(ce*ce),ie=S(ue-a),he=S(Q*ue-re);let{isValid:de,value:$e}=N(ie,he);if(!de)throw new Error("Point.fromHex: invalid y coordinate");const pe=($e&a)===a,ye=(ae&128)!==0;if(!X&&$e===u&&ye)throw new Error("Point.fromHex: x=0 and x_0=1");return ye!==pe&&($e=S(-$e)),I.fromAffine({x:$e,y:ce})}static fromPrivateKey(z){return W(z).point}toRawBytes(){const{x:z,y:X}=this.toAffine(),Q=r.numberToBytesLE(X,h.BYTES);return Q[Q.length-1]|=z&a?128:0,Q}toHex(){return r.bytesToHex(this.toRawBytes())}}I.BASE=new I(d.Gx,d.Gy,a,S(d.Gx*d.Gy)),I.ZERO=new I(u,a,a,u);const{BASE:q,ZERO:U}=I,x=(0,n.wNAF)(I,A*8);function m(H){return(0,e.mod)(H,v)}function T(H){return m(r.bytesToNumberLE(H))}function W(H){const z=A;H=(0,t.ensureBytes)("private key",H,z);const X=(0,t.ensureBytes)("hashed private key",g(H),2*z),Q=j(X.slice(0,z)),re=X.slice(z,2*z),oe=T(Q),se=q.multiply(oe),ae=se.toRawBytes();return{head:Q,prefix:re,scalar:oe,point:se,pointBytes:ae}}function F(H){return W(H).pointBytes}function D(H=new Uint8Array,...z){const X=r.concatBytes(...z);return T(g(k(X,(0,t.ensureBytes)("context",H),!!p)))}function V(H,z,X={}){H=(0,t.ensureBytes)("message",H),p&&(H=p(H));const{prefix:Q,scalar:re,pointBytes:oe}=W(z),se=D(X.context,Q,H),ae=q.multiply(se).toRawBytes(),ce=D(X.context,ae,oe,H),ue=m(se+ce*re);_(ue);const ie=r.concatBytes(ae,r.numberToBytesLE(ue,h.BYTES));return(0,t.ensureBytes)("result",ie,A*2)}const Z=o;function te(H,z,X,Q=Z){const{context:re,zip215:oe}=Q,se=h.BYTES;H=(0,t.ensureBytes)("signature",H,2*se),z=(0,t.ensureBytes)("message",z),p&&(z=p(z));const ae=r.bytesToNumberLE(H.slice(se,2*se));let ce,ue,ie;try{ce=I.fromHex(X,oe),ue=I.fromHex(H.slice(0,se),oe),ie=q.multiplyUnsafe(ae)}catch{return!1}if(!oe&&ce.isSmallOrder())return!1;const he=D(re,ue.toRawBytes(),ce.toRawBytes(),z);return ue.add(ce.multiplyUnsafe(he)).subtract(ie).clearCofactor().equals(I.ZERO)}return q._setWindowSize(8),{CURVE:d,getPublicKey:F,sign:V,verify:te,ExtendedPoint:I,utils:{getExtendedPublicKey:W,randomPrivateKey:()=>E(h.BYTES),precompute(H=8,z=I.BASE){return z._setWindowSize(H),z.multiply(BigInt(3)),z}}}}return edwards.twistedEdwards=l,edwards}var montgomery={},hasRequiredMontgomery;function requireMontgomery(){if(hasRequiredMontgomery)return montgomery;hasRequiredMontgomery=1,Object.defineProperty(montgomery,"__esModule",{value:!0}),montgomery.montgomery=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=requireModular(),r=requireUtils$2(),t=BigInt(0),n=BigInt(1);function u(s){return(0,r.validateObject)(s,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...s})}function a(s){const i=u(s),{P:o}=i,c=B=>(0,e.mod)(B,o),l=i.montgomeryBits,f=Math.ceil(l/8),d=i.nByteLength,h=i.adjustScalarBytes||(B=>B),v=i.powPminus2||(B=>(0,e.pow)(B,o-BigInt(2),o));function p(B,L,R){const y=c(B*(L-R));return L=c(L-y),R=c(R+y),[L,R]}function g(B){if(typeof B=="bigint"&&t<=B&&B<o)return B;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const E=(i.a-BigInt(2))/BigInt(4);function A(B,L){const R=g(B),y=g(L),_=R;let b=n,w=t,I=R,q=n,U=t,x;for(let T=BigInt(l-1);T>=t;T--){const W=y>>T&n;U^=W,x=p(U,b,I),b=x[0],I=x[1],x=p(U,w,q),w=x[0],q=x[1],U=W;const F=b+w,D=c(F*F),V=b-w,Z=c(V*V),te=D-Z,ee=I+q,H=I-q,z=c(H*F),X=c(ee*V),Q=z+X,re=z-X;I=c(Q*Q),q=c(_*c(re*re)),b=c(D*Z),w=c(te*(D+c(E*te)))}x=p(U,b,I),b=x[0],I=x[1],x=p(U,w,q),w=x[0],q=x[1];const m=v(w);return c(b*m)}function C(B){return(0,r.numberToBytesLE)(c(B),f)}function P(B){const L=(0,r.ensureBytes)("u coordinate",B,f);return d===f&&(L[d-1]&=127),(0,r.bytesToNumberLE)(L)}function S(B){const L=(0,r.ensureBytes)("scalar",B);if(L.length!==f&&L.length!==d)throw new Error(`Expected ${f} or ${d} bytes, got ${L.length}`);return(0,r.bytesToNumberLE)(h(L))}function N(B,L){const R=P(L),y=S(B),_=A(R,y);if(_===t)throw new Error("Invalid private or public key received");return C(_)}const j=C(i.Gu);function k(B){return N(B,j)}return{scalarMult:N,scalarMultBase:k,getSharedSecret:(B,L)=>N(B,L),getPublicKey:B=>k(B),utils:{randomPrivateKey:()=>i.randomBytes(i.nByteLength)},GuBytes:j}}return montgomery.montgomery=a,montgomery}var hashToCurve={},hasRequiredHashToCurve;function requireHashToCurve(){if(hasRequiredHashToCurve)return hashToCurve;hasRequiredHashToCurve=1,Object.defineProperty(hashToCurve,"__esModule",{value:!0}),hashToCurve.createHasher=hashToCurve.isogenyMap=hashToCurve.hash_to_field=hashToCurve.expand_message_xof=hashToCurve.expand_message_xmd=void 0;const e=requireModular(),r=requireUtils$2();function t(h){if(h instanceof Uint8Array)return h;if(typeof h=="string")return(0,r.utf8ToBytes)(h);throw new Error("DST must be Uint8Array or string")}const n=r.bytesToNumberBE;function u(h,v){if(h<0||h>=1<<8*v)throw new Error(`bad I2OSP call: value=${h} length=${v}`);const p=Array.from({length:v}).fill(0);for(let g=v-1;g>=0;g--)p[g]=h&255,h>>>=8;return new Uint8Array(p)}function a(h,v){const p=new Uint8Array(h.length);for(let g=0;g<h.length;g++)p[g]=h[g]^v[g];return p}function s(h){if(!(h instanceof Uint8Array))throw new Error("Uint8Array expected")}function i(h){if(!Number.isSafeInteger(h))throw new Error("number expected")}function o(h,v,p,g){s(h),s(v),i(p),v.length>255&&(v=g((0,r.concatBytes)((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-"),v)));const{outputLen:E,blockLen:A}=g,C=Math.ceil(p/E);if(C>255)throw new Error("Invalid xmd length");const P=(0,r.concatBytes)(v,u(v.length,1)),S=u(0,A),N=u(p,2),j=new Array(C),k=g((0,r.concatBytes)(S,h,N,u(0,1),P));j[0]=g((0,r.concatBytes)(k,u(1,1),P));for(let L=1;L<=C;L++){const R=[a(k,j[L-1]),u(L+1,1),P];j[L]=g((0,r.concatBytes)(...R))}return(0,r.concatBytes)(...j).slice(0,p)}hashToCurve.expand_message_xmd=o;function c(h,v,p,g,E){if(s(h),s(v),i(p),v.length>255){const A=Math.ceil(2*g/8);v=E.create({dkLen:A}).update((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(v).digest()}if(p>65535||v.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return E.create({dkLen:p}).update(h).update(u(p,2)).update(v).update(u(v.length,1)).digest()}hashToCurve.expand_message_xof=c;function l(h,v,p){(0,r.validateObject)(p,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:g,k:E,m:A,hash:C,expand:P,DST:S}=p;s(h),i(v);const N=t(S),j=g.toString(2).length,k=Math.ceil((j+E)/8),B=v*A*k;let L;if(P==="xmd")L=o(h,N,B,C);else if(P==="xof")L=c(h,N,B,E,C);else if(P==="_internal_pass")L=h;else throw new Error('expand must be "xmd" or "xof"');const R=new Array(v);for(let y=0;y<v;y++){const _=new Array(A);for(let b=0;b<A;b++){const w=k*(b+y*A),I=L.subarray(w,w+k);_[b]=(0,e.mod)(n(I),g)}R[y]=_}return R}hashToCurve.hash_to_field=l;function f(h,v){const p=v.map(g=>Array.from(g).reverse());return(g,E)=>{const[A,C,P,S]=p.map(N=>N.reduce((j,k)=>h.add(h.mul(j,g),k)));return g=h.div(A,C),E=h.mul(E,h.div(P,S)),{x:g,y:E}}}hashToCurve.isogenyMap=f;function d(h,v,p){if(typeof v!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(g,E){const A=l(g,2,{...p,DST:p.DST,...E}),C=h.fromAffine(v(A[0])),P=h.fromAffine(v(A[1])),S=C.add(P).clearCofactor();return S.assertValidity(),S},encodeToCurve(g,E){const A=l(g,1,{...p,DST:p.encodeDST,...E}),C=h.fromAffine(v(A[0])).clearCofactor();return C.assertValidity(),C}}}return hashToCurve.createHasher=d,hashToCurve}var hasRequiredEd25519;function requireEd25519(){return hasRequiredEd25519||(hasRequiredEd25519=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomeryPriv=e.edwardsToMontgomery=e.edwardsToMontgomeryPub=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r=requireSha512(),t=requireUtils$3(),n=requireEdwards(),u=requireMontgomery(),a=requireModular(),s=requireUtils$2(),i=requireHashToCurve(),o=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),c=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),f=BigInt(1),d=BigInt(2),h=BigInt(5),v=BigInt(10),p=BigInt(20),g=BigInt(40),E=BigInt(80);function A(X){const Q=o,oe=X*X%Q*X%Q,se=(0,a.pow2)(oe,d,Q)*oe%Q,ae=(0,a.pow2)(se,f,Q)*X%Q,ce=(0,a.pow2)(ae,h,Q)*ae%Q,ue=(0,a.pow2)(ce,v,Q)*ce%Q,ie=(0,a.pow2)(ue,p,Q)*ue%Q,he=(0,a.pow2)(ie,g,Q)*ie%Q,de=(0,a.pow2)(he,E,Q)*he%Q,$e=(0,a.pow2)(de,E,Q)*he%Q,pe=(0,a.pow2)($e,v,Q)*ce%Q;return{pow_p_5_8:(0,a.pow2)(pe,d,Q)*X%Q,b2:oe}}function C(X){return X[0]&=248,X[31]&=127,X[31]|=64,X}function P(X,Q){const re=o,oe=(0,a.mod)(Q*Q*Q,re),se=(0,a.mod)(oe*oe*Q,re),ae=A(X*se).pow_p_5_8;let ce=(0,a.mod)(X*oe*ae,re);const ue=(0,a.mod)(Q*ce*ce,re),ie=ce,he=(0,a.mod)(ce*c,re),de=ue===X,$e=ue===(0,a.mod)(-X,re),pe=ue===(0,a.mod)(-X*c,re);return de&&(ce=ie),($e||pe)&&(ce=he),(0,a.isNegativeLE)(ce,re)&&(ce=(0,a.mod)(-ce,re)),{isValid:de||$e,value:ce}}e.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const S=(0,a.Field)(o,void 0,!0),N={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:S,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:r.sha512,randomBytes:t.randomBytes,adjustScalarBytes:C,uvRatio:P};e.ed25519=(0,n.twistedEdwards)(N);function j(X,Q,re){if(Q.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([re?1:0,Q.length]),Q,X)}e.ed25519ctx=(0,n.twistedEdwards)({...N,domain:j}),e.ed25519ph=(0,n.twistedEdwards)({...N,domain:j,prehash:r.sha512}),e.x25519=(0,u.montgomery)({P:o,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:X=>{const Q=o,{pow_p_5_8:re,b2:oe}=A(X);return(0,a.mod)((0,a.pow2)(re,BigInt(3),Q)*oe,Q)},adjustScalarBytes:C,randomBytes:t.randomBytes});function k(X){const{y:Q}=e.ed25519.ExtendedPoint.fromHex(X),re=BigInt(1);return S.toBytes(S.create((re+Q)*S.inv(re-Q)))}e.edwardsToMontgomeryPub=k,e.edwardsToMontgomery=k;function B(X){const Q=N.hash(X.subarray(0,32));return N.adjustScalarBytes(Q).subarray(0,32)}e.edwardsToMontgomeryPriv=B;const L=(S.ORDER+BigInt(3))/BigInt(8),R=S.pow(d,L),y=S.sqrt(S.neg(S.ONE)),_=(S.ORDER-BigInt(5))/BigInt(8),b=BigInt(486662);function w(X){let Q=S.sqr(X);Q=S.mul(Q,d);let re=S.add(Q,S.ONE),oe=S.neg(b),se=S.sqr(re),ae=S.mul(se,re),ce=S.mul(Q,b);ce=S.mul(ce,oe),ce=S.add(ce,se),ce=S.mul(ce,oe);let ue=S.sqr(ae);se=S.sqr(ue),ue=S.mul(ue,ae),ue=S.mul(ue,ce),se=S.mul(se,ue);let ie=S.pow(se,_);ie=S.mul(ie,ue);let he=S.mul(ie,y);se=S.sqr(ie),se=S.mul(se,ae);let de=S.eql(se,ce),$e=S.cmov(he,ie,de),pe=S.mul(oe,Q),ye=S.mul(ie,X);ye=S.mul(ye,R);let be=S.mul(ye,y),_e=S.mul(ce,Q);se=S.sqr(ye),se=S.mul(se,ae);let G=S.eql(se,_e),O=S.cmov(be,ye,G);se=S.sqr($e),se=S.mul(se,ae);let M=S.eql(se,ce),Y=S.cmov(pe,oe,M),ne=S.cmov(O,$e,M),le=S.isOdd(ne);return ne=S.cmov(ne,S.neg(ne),M!==le),{xMn:Y,xMd:re,yMn:ne,yMd:f}}const I=(0,a.FpSqrtEven)(S,S.neg(BigInt(486664)));function q(X){const{xMn:Q,xMd:re,yMn:oe,yMd:se}=w(X);let ae=S.mul(Q,se);ae=S.mul(ae,I);let ce=S.mul(re,oe),ue=S.sub(Q,re),ie=S.add(Q,re),he=S.mul(ce,ie),de=S.eql(he,S.ZERO);ae=S.cmov(ae,S.ZERO,de),ce=S.cmov(ce,S.ONE,de),ue=S.cmov(ue,S.ONE,de),ie=S.cmov(ie,S.ONE,de);const $e=S.invertBatch([ce,ie]);return{x:S.mul(ae,$e[0]),y:S.mul(ue,$e[1])}}const U=(0,i.createHasher)(e.ed25519.ExtendedPoint,X=>q(X[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:S.ORDER,m:1,k:128,expand:"xmd",hash:r.sha512});e.hashToCurve=U.hashToCurve,e.encodeToCurve=U.encodeToCurve;function x(X){if(!(X instanceof H))throw new Error("RistrettoPoint expected")}const m=c,T=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),W=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),F=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),V=X=>P(f,X),Z=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),te=X=>e.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(X)&Z);function ee(X){const{d:Q}=e.ed25519.CURVE,re=e.ed25519.CURVE.Fp.ORDER,oe=e.ed25519.CURVE.Fp.create,se=oe(m*X*X),ae=oe((se+f)*F);let ce=BigInt(-1);const ue=oe((ce-Q*se)*oe(se+Q));let{isValid:ie,value:he}=P(ae,ue),de=oe(he*X);(0,a.isNegativeLE)(de,re)||(de=oe(-de)),ie||(he=de),ie||(ce=se);const $e=oe(ce*(se-f)*D-ue),pe=he*he,ye=oe((he+he)*ue),be=oe($e*T),_e=oe(f-pe),G=oe(f+pe);return new e.ed25519.ExtendedPoint(oe(ye*G),oe(_e*be),oe(be*G),oe(ye*_e))}class H{constructor(Q){this.ep=Q}static fromAffine(Q){return new H(e.ed25519.ExtendedPoint.fromAffine(Q))}static hashToCurve(Q){Q=(0,s.ensureBytes)("ristrettoHash",Q,64);const re=te(Q.slice(0,32)),oe=ee(re),se=te(Q.slice(32,64)),ae=ee(se);return new H(oe.add(ae))}static fromHex(Q){Q=(0,s.ensureBytes)("ristrettoHex",Q,32);const{a:re,d:oe}=e.ed25519.CURVE,se=e.ed25519.CURVE.Fp.ORDER,ae=e.ed25519.CURVE.Fp.create,ce="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ue=te(Q);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(ue,32),Q)||(0,a.isNegativeLE)(ue,se))throw new Error(ce);const ie=ae(ue*ue),he=ae(f+re*ie),de=ae(f-re*ie),$e=ae(he*he),pe=ae(de*de),ye=ae(re*oe*$e-pe),{isValid:be,value:_e}=V(ae(ye*pe)),G=ae(_e*de),O=ae(_e*G*ye);let M=ae((ue+ue)*G);(0,a.isNegativeLE)(M,se)&&(M=ae(-M));const Y=ae(he*O),ne=ae(M*Y);if(!be||(0,a.isNegativeLE)(ne,se)||Y===l)throw new Error(ce);return new H(new e.ed25519.ExtendedPoint(M,Y,f,ne))}toRawBytes(){let{ex:Q,ey:re,ez:oe,et:se}=this.ep;const ae=e.ed25519.CURVE.Fp.ORDER,ce=e.ed25519.CURVE.Fp.create,ue=ce(ce(oe+re)*ce(oe-re)),ie=ce(Q*re),he=ce(ie*ie),{value:de}=V(ce(ue*he)),$e=ce(de*ue),pe=ce(de*ie),ye=ce($e*pe*se);let be;if((0,a.isNegativeLE)(se*ye,ae)){let G=ce(re*m),O=ce(Q*m);Q=G,re=O,be=ce($e*W)}else be=pe;(0,a.isNegativeLE)(Q*ye,ae)&&(re=ce(-re));let _e=ce((oe-re)*be);return(0,a.isNegativeLE)(_e,ae)&&(_e=ce(-_e)),(0,s.numberToBytesLE)(_e,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Q){x(Q);const{ex:re,ey:oe}=this.ep,{ex:se,ey:ae}=Q.ep,ce=e.ed25519.CURVE.Fp.create,ue=ce(re*ae)===ce(oe*se),ie=ce(oe*ae)===ce(re*se);return ue||ie}add(Q){return x(Q),new H(this.ep.add(Q.ep))}subtract(Q){return x(Q),new H(this.ep.subtract(Q.ep))}multiply(Q){return new H(this.ep.multiply(Q))}multiplyUnsafe(Q){return new H(this.ep.multiplyUnsafe(Q))}}e.RistrettoPoint=(H.BASE||(H.BASE=new H(e.ed25519.ExtendedPoint.BASE)),H.ZERO||(H.ZERO=new H(e.ed25519.ExtendedPoint.ZERO)),H);const z=(X,Q)=>{const re=Q.DST,oe=typeof re=="string"?(0,t.utf8ToBytes)(re):re,se=(0,i.expand_message_xmd)(X,oe,64,r.sha512);return H.hashToCurve(se)};e.hashToRistretto255=z,e.hash_to_ristretto255=e.hashToRistretto255}(ed25519)),ed25519}var public_key={},lib$1,hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1;const e={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function r(s,i){if(!s)throw new Error(i)}function t(s,i,o){if(r(i instanceof Uint8Array,`Expected ${s} to be an Uint8Array`),o!==void 0)if(Array.isArray(o)){const c=o.join(", "),l=`Expected ${s} to be an Uint8Array with length [${c}]`;r(o.includes(i.length),l)}else{const c=`Expected ${s} to be an Uint8Array with length ${o}`;r(i.length===o,c)}}function n(s){r(a(s)==="Boolean","Expected compressed to be a Boolean")}function u(s=o=>new Uint8Array(o),i){return typeof s=="function"&&(s=s(i)),t("output",s,i),s}function a(s){return Object.prototype.toString.call(s).slice(8,-1)}return lib$1=s=>({contextRandomize(i){switch(r(i===null||i instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),i!==null&&t("seed",i,32),s.contextRandomize(i)){case 1:throw new Error(e.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(i){return t("private key",i,32),s.privateKeyVerify(i)===0},privateKeyNegate(i){switch(t("private key",i,32),s.privateKeyNegate(i)){case 0:return i;case 1:throw new Error(e.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(i,o){switch(t("private key",i,32),t("tweak",o,32),s.privateKeyTweakAdd(i,o)){case 0:return i;case 1:throw new Error(e.TWEAK_ADD)}},privateKeyTweakMul(i,o){switch(t("private key",i,32),t("tweak",o,32),s.privateKeyTweakMul(i,o)){case 0:return i;case 1:throw new Error(e.TWEAK_MUL)}},publicKeyVerify(i){return t("public key",i,[33,65]),s.publicKeyVerify(i)===0},publicKeyCreate(i,o=!0,c){switch(t("private key",i,32),n(o),c=u(c,o?33:65),s.publicKeyCreate(c,i)){case 0:return c;case 1:throw new Error(e.SECKEY_INVALID);case 2:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyConvert(i,o=!0,c){switch(t("public key",i,[33,65]),n(o),c=u(c,o?33:65),s.publicKeyConvert(c,i)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyNegate(i,o=!0,c){switch(t("public key",i,[33,65]),n(o),c=u(c,o?33:65),s.publicKeyNegate(c,i)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE);case 3:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyCombine(i,o=!0,c){r(Array.isArray(i),"Expected public keys to be an Array"),r(i.length>0,"Expected public keys array will have more than zero items");for(const l of i)t("public key",l,[33,65]);switch(n(o),c=u(c,o?33:65),s.publicKeyCombine(c,i)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.PUBKEY_COMBINE);case 3:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(i,o,c=!0,l){switch(t("public key",i,[33,65]),t("tweak",o,32),n(c),l=u(l,c?33:65),s.publicKeyTweakAdd(l,i,o)){case 0:return l;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.TWEAK_ADD)}},publicKeyTweakMul(i,o,c=!0,l){switch(t("public key",i,[33,65]),t("tweak",o,32),n(c),l=u(l,c?33:65),s.publicKeyTweakMul(l,i,o)){case 0:return l;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.TWEAK_MUL)}},signatureNormalize(i){switch(t("signature",i,64),s.signatureNormalize(i)){case 0:return i;case 1:throw new Error(e.SIG_PARSE)}},signatureExport(i,o){t("signature",i,64),o=u(o,72);const c={output:o,outputlen:72};switch(s.signatureExport(c,i)){case 0:return o.slice(0,c.outputlen);case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},signatureImport(i,o){switch(t("signature",i),o=u(o,64),s.signatureImport(o,i)){case 0:return o;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},ecdsaSign(i,o,c={},l){t("message",i,32),t("private key",o,32),r(a(c)==="Object","Expected options to be an Object"),c.data!==void 0&&t("options.data",c.data),c.noncefn!==void 0&&r(a(c.noncefn)==="Function","Expected options.noncefn to be a Function"),l=u(l,64);const f={signature:l,recid:null};switch(s.ecdsaSign(f,i,o,c.data,c.noncefn)){case 0:return f;case 1:throw new Error(e.SIGN);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},ecdsaVerify(i,o,c){switch(t("signature",i,64),t("message",o,32),t("public key",c,[33,65]),s.ecdsaVerify(i,o,c)){case 0:return!0;case 3:return!1;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.PUBKEY_PARSE)}},ecdsaRecover(i,o,c,l=!0,f){switch(t("signature",i,64),r(a(o)==="Number"&&o>=0&&o<=3,"Expected recovery id to be a Number within interval [0, 3]"),t("message",c,32),n(l),f=u(f,l?33:65),s.ecdsaRecover(f,i,o,c)){case 0:return f;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.RECOVER);case 3:throw new Error(e.IMPOSSIBLE_CASE)}},ecdh(i,o,c={},l){switch(t("public key",i,[33,65]),t("private key",o,32),r(a(c)==="Object","Expected options to be an Object"),c.data!==void 0&&t("options.data",c.data),c.hashfn!==void 0?(r(a(c.hashfn)==="Function","Expected options.hashfn to be a Function"),c.xbuf!==void 0&&t("options.xbuf",c.xbuf,32),c.ybuf!==void 0&&t("options.ybuf",c.ybuf,32),t("output",l)):l=u(l,32),s.ecdh(l,i,o,c.data,c.hashfn,c.xbuf,c.ybuf)){case 0:return l;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.ECDH)}}}),lib$1}var elliptic$1,hasRequiredElliptic$1;function requireElliptic$1(){if(hasRequiredElliptic$1)return elliptic$1;hasRequiredElliptic$1=1;const e=requireElliptic$4().ec,r=new e("secp256k1"),t=r.curve,n=t.n.constructor;function u(o,c){let l=new n(c);if(l.cmp(t.p)>=0)return null;l=l.toRed(t.red);let f=l.redSqr().redIMul(l).redIAdd(t.b).redSqrt();return o===3!==f.isOdd()&&(f=f.redNeg()),r.keyPair({pub:{x:l,y:f}})}function a(o,c,l){let f=new n(c),d=new n(l);if(f.cmp(t.p)>=0||d.cmp(t.p)>=0||(f=f.toRed(t.red),d=d.toRed(t.red),(o===6||o===7)&&d.isOdd()!==(o===7)))return null;const h=f.redSqr().redIMul(f);return d.redSqr().redISub(h.redIAdd(t.b)).isZero()?r.keyPair({pub:{x:f,y:d}}):null}function s(o){const c=o[0];switch(c){case 2:case 3:return o.length!==33?null:u(c,o.subarray(1,33));case 4:case 6:case 7:return o.length!==65?null:a(c,o.subarray(1,33),o.subarray(33,65));default:return null}}function i(o,c){const l=c.encode(null,o.length===33);for(let f=0;f<o.length;++f)o[f]=l[f]}return elliptic$1={contextRandomize(){return 0},privateKeyVerify(o){const c=new n(o);return c.cmp(t.n)<0&&!c.isZero()?0:1},privateKeyNegate(o){const c=new n(o),l=t.n.sub(c).umod(t.n).toArrayLike(Uint8Array,"be",32);return o.set(l),0},privateKeyTweakAdd(o,c){const l=new n(c);if(l.cmp(t.n)>=0||(l.iadd(new n(o)),l.cmp(t.n)>=0&&l.isub(t.n),l.isZero()))return 1;const f=l.toArrayLike(Uint8Array,"be",32);return o.set(f),0},privateKeyTweakMul(o,c){let l=new n(c);if(l.cmp(t.n)>=0||l.isZero())return 1;l.imul(new n(o)),l.cmp(t.n)>=0&&(l=l.umod(t.n));const f=l.toArrayLike(Uint8Array,"be",32);return o.set(f),0},publicKeyVerify(o){return s(o)===null?1:0},publicKeyCreate(o,c){const l=new n(c);if(l.cmp(t.n)>=0||l.isZero())return 1;const f=r.keyFromPrivate(c).getPublic();return i(o,f),0},publicKeyConvert(o,c){const l=s(c);if(l===null)return 1;const f=l.getPublic();return i(o,f),0},publicKeyNegate(o,c){const l=s(c);if(l===null)return 1;const f=l.getPublic();return f.y=f.y.redNeg(),i(o,f),0},publicKeyCombine(o,c){const l=new Array(c.length);for(let d=0;d<c.length;++d)if(l[d]=s(c[d]),l[d]===null)return 1;let f=l[0].getPublic();for(let d=1;d<l.length;++d)f=f.add(l[d].pub);return f.isInfinity()?2:(i(o,f),0)},publicKeyTweakAdd(o,c,l){const f=s(c);if(f===null)return 1;if(l=new n(l),l.cmp(t.n)>=0)return 2;const d=f.getPublic().add(t.g.mul(l));return d.isInfinity()?2:(i(o,d),0)},publicKeyTweakMul(o,c,l){const f=s(c);if(f===null)return 1;if(l=new n(l),l.cmp(t.n)>=0||l.isZero())return 2;const d=f.getPublic().mul(l);return i(o,d),0},signatureNormalize(o){const c=new n(o.subarray(0,32)),l=new n(o.subarray(32,64));return c.cmp(t.n)>=0||l.cmp(t.n)>=0?1:(l.cmp(r.nh)===1&&o.set(t.n.sub(l).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(o,c){const l=c.subarray(0,32),f=c.subarray(32,64);if(new n(l).cmp(t.n)>=0||new n(f).cmp(t.n)>=0)return 1;const{output:d}=o;let h=d.subarray(4,37);h[0]=0,h.set(l,1);let v=33,p=0;for(;v>1&&h[p]===0&&!(h[p+1]&128);--v,++p);if(h=h.subarray(p),h[0]&128||v>1&&h[0]===0&&!(h[1]&128))return 1;let g=d.subarray(39,72);g[0]=0,g.set(f,1);let E=33,A=0;for(;E>1&&g[A]===0&&!(g[A+1]&128);--E,++A);return g=g.subarray(A),g[0]&128||E>1&&g[0]===0&&!(g[1]&128)?1:(o.outputlen=6+v+E,d[0]=48,d[1]=o.outputlen-2,d[2]=2,d[3]=h.length,d.set(h,4),d[4+v]=2,d[5+v]=g.length,d.set(g,6+v),0)},signatureImport(o,c){if(c.length<8||c.length>72||c[0]!==48||c[1]!==c.length-2||c[2]!==2)return 1;const l=c[3];if(l===0||5+l>=c.length||c[4+l]!==2)return 1;const f=c[5+l];if(f===0||6+l+f!==c.length||c[4]&128||l>1&&c[4]===0&&!(c[5]&128)||c[l+6]&128||f>1&&c[l+6]===0&&!(c[l+7]&128))return 1;let d=c.subarray(4,4+l);if(d.length===33&&d[0]===0&&(d=d.subarray(1)),d.length>32)return 1;let h=c.subarray(6+l);if(h.length===33&&h[0]===0&&(h=h.slice(1)),h.length>32)throw new Error("S length is too long");let v=new n(d);v.cmp(t.n)>=0&&(v=new n(0));let p=new n(c.subarray(6+l));return p.cmp(t.n)>=0&&(p=new n(0)),o.set(v.toArrayLike(Uint8Array,"be",32),0),o.set(p.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(o,c,l,f,d){if(d){const p=d;d=g=>{const E=p(c,l,null,f,g);if(!(E instanceof Uint8Array&&E.length===32))throw new Error("This is the way");return new n(E)}}const h=new n(l);if(h.cmp(t.n)>=0||h.isZero())return 1;let v;try{v=r.sign(c,l,{canonical:!0,k:d,pers:f})}catch{return 1}return o.signature.set(v.r.toArrayLike(Uint8Array,"be",32),0),o.signature.set(v.s.toArrayLike(Uint8Array,"be",32),32),o.recid=v.recoveryParam,0},ecdsaVerify(o,c,l){const f={r:o.subarray(0,32),s:o.subarray(32,64)},d=new n(f.r),h=new n(f.s);if(d.cmp(t.n)>=0||h.cmp(t.n)>=0)return 1;if(h.cmp(r.nh)===1||d.isZero()||h.isZero())return 3;const v=s(l);if(v===null)return 2;const p=v.getPublic();return r.verify(c,f,p)?0:3},ecdsaRecover(o,c,l,f){const d={r:c.slice(0,32),s:c.slice(32,64)},h=new n(d.r),v=new n(d.s);if(h.cmp(t.n)>=0||v.cmp(t.n)>=0)return 1;if(h.isZero()||v.isZero())return 2;let p;try{p=r.recoverPubKey(f,d,l)}catch{return 2}return i(o,p),0},ecdh(o,c,l,f,d,h,v){const p=s(c);if(p===null)return 1;const g=new n(l);if(g.cmp(t.n)>=0||g.isZero())return 2;const E=p.getPublic().mul(g);if(d===void 0){const A=E.encode(null,!0),C=r.hash().update(A).digest();for(let P=0;P<32;++P)o[P]=C[P]}else{h||(h=new Uint8Array(32));const A=E.getX().toArray("be",32);for(let N=0;N<32;++N)h[N]=A[N];v||(v=new Uint8Array(32));const C=E.getY().toArray("be",32);for(let N=0;N<32;++N)v[N]=C[N];const P=d(h,v,f);if(!(P instanceof Uint8Array&&P.length===o.length))return 2;o.set(P)}return 0}},elliptic$1}var elliptic,hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,elliptic=requireLib$1()(requireElliptic$1())),elliptic}var hasRequiredPublic_key;function requirePublic_key(){if(hasRequiredPublic_key)return public_key;hasRequiredPublic_key=1;var e=public_key&&public_key.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(public_key,"__esModule",{value:!0}),public_key.PublicKey=void 0;const r=requireCommonjs$8(),t=requireEd25519(),n=e(requireElliptic()),u=requireConstants$2();function a(l){switch(l){case u.KeyType.ED25519:return"ed25519";case u.KeyType.SECP256K1:return"secp256k1";default:throw new Error(`Unknown key type ${l}`)}}function s(l){switch(l.toLowerCase()){case"ed25519":return u.KeyType.ED25519;case"secp256k1":return u.KeyType.SECP256K1;default:throw new Error(`Unknown key type ${l}`)}}function i(l){switch(l){case u.KeyType.ED25519:return"ed25519Key";case u.KeyType.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${l}`)}}class o{constructor(f){if(Object.keys(f).length!==1)throw new Error("Enum can only take single value");Object.keys(f).map(d=>{this[d]=f[d]})}}class c extends o{constructor(d){const h=i(d.keyType);super({[h]:d});J(this,"enum");J(this,"ed25519Key");J(this,"secp256k1Key");this[h]=d,this.enum=h}static from(d){return typeof d=="string"?c.fromString(d):d}static fromString(d){const h=d.split(":");let v,p;if(h.length===1)v=h[0];else if(h.length===2)v=h[1],p=s(h[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const g=(0,r.baseDecode)(v);p||(p=g.length===u.KeySize.SECP256k1_PUBLIC_KEY?u.KeyType.SECP256K1:u.KeyType.ED25519);const E=p===u.KeyType.ED25519?u.KeySize.ED25519_PUBLIC_KEY:u.KeySize.SECP256k1_PUBLIC_KEY;if(g.length!==E)throw new Error(`Invalid public key size (${g.length}), must be ${E}`);return new c({keyType:p,data:g})}toString(){const d=(0,r.baseEncode)(this.data);return`${a(this.keyType)}:${d}`}verify(d,h){const v=this.keyType,p=this.data;switch(v){case u.KeyType.ED25519:return t.ed25519.verify(h,d,p);case u.KeyType.SECP256K1:return n.default.ecdsaVerify(h.subarray(0,64),d,new Uint8Array([4,...p]));default:throw new Error(`Unknown key type: ${v}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}return public_key.PublicKey=c,public_key}var hasRequiredKey_pair_ed25519;function requireKey_pair_ed25519(){if(hasRequiredKey_pair_ed25519)return key_pair_ed25519;hasRequiredKey_pair_ed25519=1;var e=key_pair_ed25519&&key_pair_ed25519.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(key_pair_ed25519,"__esModule",{value:!0}),key_pair_ed25519.KeyPairEd25519=void 0;const r=requireCommonjs$8(),t=requireEd25519(),n=e(requireBrowser$1()),u=requireConstants$2(),a=requireKey_pair_base(),s=requirePublic_key();class i extends a.KeyPairBase{constructor(l){super();J(this,"publicKey");J(this,"secretKey");J(this,"extendedSecretKey");const f=(0,r.baseDecode)(l),d=new Uint8Array(f.slice(0,u.KeySize.SECRET_KEY)),h=t.ed25519.getPublicKey(new Uint8Array(d));this.publicKey=new s.PublicKey({keyType:u.KeyType.ED25519,data:h}),this.secretKey=(0,r.baseEncode)(d),this.extendedSecretKey=l}static fromRandom(){const l=(0,n.default)(u.KeySize.SECRET_KEY),f=t.ed25519.getPublicKey(new Uint8Array(l)),d=new Uint8Array([...l,...f]);return new i((0,r.baseEncode)(d))}sign(l){return{signature:t.ed25519.sign(l,(0,r.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(l,f){return this.publicKey.verify(l,f)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}return key_pair_ed25519.KeyPairEd25519=i,key_pair_ed25519}var key_pair_secp256k1={},hasRequiredKey_pair_secp256k1;function requireKey_pair_secp256k1(){if(hasRequiredKey_pair_secp256k1)return key_pair_secp256k1;hasRequiredKey_pair_secp256k1=1;var e=key_pair_secp256k1&&key_pair_secp256k1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(key_pair_secp256k1,"__esModule",{value:!0}),key_pair_secp256k1.KeyPairSecp256k1=void 0;const r=requireConstants$2(),t=requireKey_pair_base(),n=requirePublic_key(),u=e(requireElliptic()),a=e(requireBrowser$1()),s=requireCommonjs$8();class i extends t.KeyPairBase{constructor(l){super();J(this,"publicKey");J(this,"secretKey");J(this,"extendedSecretKey");const f=(0,s.baseDecode)(l),d=new Uint8Array(f.slice(0,r.KeySize.SECRET_KEY)),h=u.default.publicKeyCreate(new Uint8Array(d),!1),v=h.subarray(1,h.length);this.publicKey=new n.PublicKey({keyType:r.KeyType.SECP256K1,data:v}),this.secretKey=(0,s.baseEncode)(d),this.extendedSecretKey=l}static fromRandom(){const l=(0,a.default)(r.KeySize.SECRET_KEY),f=u.default.publicKeyCreate(new Uint8Array(l),!1),d=f.subarray(1,f.length),h=new Uint8Array([...l,...d]);return new i((0,s.baseEncode)(h))}sign(l){const{signature:f,recid:d}=u.default.ecdsaSign(l,(0,s.baseDecode)(this.secretKey));return{signature:new Uint8Array([...f,d]),publicKey:this.publicKey}}verify(l,f){return this.publicKey.verify(l,f)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}return key_pair_secp256k1.KeyPairSecp256k1=i,key_pair_secp256k1}var hasRequiredKey_pair$1;function requireKey_pair$1(){if(hasRequiredKey_pair$1)return key_pair$1;hasRequiredKey_pair$1=1,Object.defineProperty(key_pair$1,"__esModule",{value:!0}),key_pair$1.KeyPair=void 0;const e=requireKey_pair_base(),r=requireKey_pair_ed25519(),t=requireKey_pair_secp256k1();class n extends e.KeyPairBase{static fromRandom(a){switch(a.toUpperCase()){case"ED25519":return r.KeyPairEd25519.fromRandom();case"SECP256K1":return t.KeyPairSecp256k1.fromRandom();default:throw new Error(`Unknown curve ${a}`)}}static fromString(a){const s=a.split(":");if(s.length===2)switch(s[0].toUpperCase()){case"ED25519":return new r.KeyPairEd25519(s[1]);case"SECP256K1":return new t.KeyPairSecp256k1(s[1]);default:throw new Error(`Unknown curve: ${s[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}return key_pair$1.KeyPair=n,key_pair$1}var hasRequiredCommonjs$7;function requireCommonjs$7(){return hasRequiredCommonjs$7||(hasRequiredCommonjs$7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairSecp256k1=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var r=requireConstants$2();Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return r.KeyType}});var t=requireKey_pair$1();Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return t.KeyPair}});var n=requireKey_pair_ed25519();Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return n.KeyPairEd25519}});var u=requireKey_pair_secp256k1();Object.defineProperty(e,"KeyPairSecp256k1",{enumerable:!0,get:function(){return u.KeyPairSecp256k1}});var a=requirePublic_key();Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return a.PublicKey}})}(commonjs$8)),commonjs$8}var keystore={},hasRequiredKeystore$1;function requireKeystore$1(){if(hasRequiredKeystore$1)return keystore;hasRequiredKeystore$1=1,Object.defineProperty(keystore,"__esModule",{value:!0}),keystore.KeyStore=void 0;class e{}return keystore.KeyStore=e,keystore}var hasRequiredIn_memory_key_store$1;function requireIn_memory_key_store$1(){if(hasRequiredIn_memory_key_store$1)return in_memory_key_store$1;hasRequiredIn_memory_key_store$1=1,Object.defineProperty(in_memory_key_store$1,"__esModule",{value:!0}),in_memory_key_store$1.InMemoryKeyStore=void 0;const e=requireCommonjs$7(),r=requireKeystore$1();class t extends r.KeyStore{constructor(){super();J(this,"keys");this.keys={}}async setKey(a,s,i){this.keys[`${s}:${a}`]=i.toString()}async getKey(a,s){const i=this.keys[`${s}:${a}`];return i?e.KeyPair.fromString(i):null}async removeKey(a,s){delete this.keys[`${s}:${a}`]}async clear(){this.keys={}}async getNetworks(){const a=new Set;return Object.keys(this.keys).forEach(s=>{const i=s.split(":");a.add(i[1])}),Array.from(a.values())}async getAccounts(a){const s=new Array;return Object.keys(this.keys).forEach(i=>{const o=i.split(":");o[o.length-1]===a&&s.push(o.slice(0,o.length-1).join(":"))}),s}toString(){return"InMemoryKeyStore"}}return in_memory_key_store$1.InMemoryKeyStore=t,in_memory_key_store$1}var merge_key_store$1={},hasRequiredMerge_key_store$1;function requireMerge_key_store$1(){if(hasRequiredMerge_key_store$1)return merge_key_store$1;hasRequiredMerge_key_store$1=1,Object.defineProperty(merge_key_store$1,"__esModule",{value:!0}),merge_key_store$1.MergeKeyStore=void 0;const e=requireKeystore$1();class r extends e.KeyStore{constructor(u,a={writeKeyStoreIndex:0}){super();J(this,"options");J(this,"keyStores");this.options=a,this.keyStores=u}async setKey(u,a,s){await this.keyStores[this.options.writeKeyStoreIndex].setKey(u,a,s)}async getKey(u,a){for(const s of this.keyStores){const i=await s.getKey(u,a);if(i)return i}return null}async removeKey(u,a){for(const s of this.keyStores)await s.removeKey(u,a)}async clear(){for(const u of this.keyStores)await u.clear()}async getNetworks(){const u=new Set;for(const a of this.keyStores)for(const s of await a.getNetworks())u.add(s);return Array.from(u)}async getAccounts(u){const a=new Set;for(const s of this.keyStores)for(const i of await s.getAccounts(u))a.add(i);return Array.from(a)}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}return merge_key_store$1.MergeKeyStore=r,merge_key_store$1}var multi_contract_keystore={},hasRequiredMulti_contract_keystore;function requireMulti_contract_keystore(){if(hasRequiredMulti_contract_keystore)return multi_contract_keystore;hasRequiredMulti_contract_keystore=1,Object.defineProperty(multi_contract_keystore,"__esModule",{value:!0}),multi_contract_keystore.MultiContractKeyStore=void 0;class e{}return multi_contract_keystore.MultiContractKeyStore=e,multi_contract_keystore}var hasRequiredCommonjs$6;function requireCommonjs$6(){return hasRequiredCommonjs$6||(hasRequiredCommonjs$6=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultiContractKeyStore=e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var r=requireIn_memory_key_store$1();Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return r.InMemoryKeyStore}});var t=requireKeystore$1();Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}});var n=requireMerge_key_store$1();Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return n.MergeKeyStore}});var u=requireMulti_contract_keystore();Object.defineProperty(e,"MultiContractKeyStore",{enumerable:!0,get:function(){return u.MultiContractKeyStore}})}(commonjs$9)),commonjs$9}var hasRequiredKeystore;function requireKeystore(){return hasRequiredKeystore||(hasRequiredKeystore=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;var r=requireCommonjs$6();Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return r.KeyStore}})}(keystore$1)),keystore$1}var in_memory_key_store={},hasRequiredIn_memory_key_store;function requireIn_memory_key_store(){return hasRequiredIn_memory_key_store||(hasRequiredIn_memory_key_store=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;var r=requireCommonjs$6();Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return r.InMemoryKeyStore}})}(in_memory_key_store)),in_memory_key_store}var browser_local_storage_key_store$1={},commonjs$5={},browser_local_storage_key_store={},hasRequiredBrowser_local_storage_key_store$1;function requireBrowser_local_storage_key_store$1(){if(hasRequiredBrowser_local_storage_key_store$1)return browser_local_storage_key_store;hasRequiredBrowser_local_storage_key_store$1=1,Object.defineProperty(browser_local_storage_key_store,"__esModule",{value:!0}),browser_local_storage_key_store.BrowserLocalStorageKeyStore=void 0;const e=requireCommonjs$7(),r=requireCommonjs$6(),t="near-api-js:keystore:";class n extends r.KeyStore{constructor(s=window.localStorage,i=t){super();J(this,"localStorage");J(this,"prefix");this.localStorage=s,this.prefix=i}async setKey(s,i,o){this.localStorage.setItem(this.storageKeyForSecretKey(s,i),o.toString())}async getKey(s,i){const o=this.localStorage.getItem(this.storageKeyForSecretKey(s,i));return o?e.KeyPair.fromString(o):null}async removeKey(s,i){this.localStorage.removeItem(this.storageKeyForSecretKey(s,i))}async clear(){for(const s of this.storageKeys())s.startsWith(this.prefix)&&this.localStorage.removeItem(s)}async getNetworks(){const s=new Set;for(const i of this.storageKeys())if(i.startsWith(this.prefix)){const o=i.substring(this.prefix.length).split(":");s.add(o[1])}return Array.from(s.values())}async getAccounts(s){const i=new Array;for(const o of this.storageKeys())if(o.startsWith(this.prefix)){const c=o.substring(this.prefix.length).split(":");c[1]===s&&i.push(c[0])}return i}storageKeyForSecretKey(s,i){return`${this.prefix}${i}:${s}`}*storageKeys(){for(let s=0;s<this.localStorage.length;s++)yield this.localStorage.key(s)}}return browser_local_storage_key_store.BrowserLocalStorageKeyStore=n,browser_local_storage_key_store}var multi_contract_browser_local_storage_key_store={},hasRequiredMulti_contract_browser_local_storage_key_store;function requireMulti_contract_browser_local_storage_key_store(){if(hasRequiredMulti_contract_browser_local_storage_key_store)return multi_contract_browser_local_storage_key_store;hasRequiredMulti_contract_browser_local_storage_key_store=1,Object.defineProperty(multi_contract_browser_local_storage_key_store,"__esModule",{value:!0}),multi_contract_browser_local_storage_key_store.MultiContractBrowserLocalStorageKeyStore=void 0;const e=requireCommonjs$7(),r=requireCommonjs$6(),t="near-api-js:keystore:";class n extends r.MultiContractKeyStore{constructor(s=window.localStorage,i=t){super();J(this,"localStorage");J(this,"prefix");this.localStorage=s,this.prefix=i||t}async setKey(s,i,o,c){this.localStorage.setItem(this.storageKeyForSecretKey(s,i,c),o.toString())}async getKey(s,i,o){const c=this.localStorage.getItem(this.storageKeyForSecretKey(s,i,o));return c?e.KeyPair.fromString(c):null}async removeKey(s,i,o){this.localStorage.removeItem(this.storageKeyForSecretKey(s,i,o))}async clear(){for(const s of this.storageKeys())s.startsWith(this.prefix)&&this.localStorage.removeItem(s)}async getNetworks(){const s=new Set;for(const i of this.storageKeys())if(i.startsWith(this.prefix)){const o=i.substring(this.prefix.length).split(":");s.add(o[1])}return Array.from(s.values())}async getAccounts(s){const i=[];for(const o of this.storageKeys())if(o.startsWith(this.prefix)){const c=o.substring(this.prefix.length).split(":");c[1]===s&&i.push(c[0])}return i}async getContracts(s,i){const o=[];for(const c of this.storageKeys())if(c.startsWith(this.prefix)){const l=c.substring(this.prefix.length).split(":");l[1]===s&&l[0]===i&&o.push(l[2])}return o}storageKeyForSecretKey(s,i,o){return`${this.prefix}${i}:${s}:${o}`}*storageKeys(){for(let s=0;s<this.localStorage.length;s++)yield this.localStorage.key(s)}}return multi_contract_browser_local_storage_key_store.MultiContractBrowserLocalStorageKeyStore=n,multi_contract_browser_local_storage_key_store}var hasRequiredCommonjs$5;function requireCommonjs$5(){return hasRequiredCommonjs$5||(hasRequiredCommonjs$5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultiContractBrowserLocalStorageKeyStore=e.BrowserLocalStorageKeyStore=void 0;var r=requireBrowser_local_storage_key_store$1();Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return r.BrowserLocalStorageKeyStore}});var t=requireMulti_contract_browser_local_storage_key_store();Object.defineProperty(e,"MultiContractBrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.MultiContractBrowserLocalStorageKeyStore}})}(commonjs$5)),commonjs$5}var hasRequiredBrowser_local_storage_key_store;function requireBrowser_local_storage_key_store(){return hasRequiredBrowser_local_storage_key_store||(hasRequiredBrowser_local_storage_key_store=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var r=requireCommonjs$5();Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return r.BrowserLocalStorageKeyStore}})}(browser_local_storage_key_store$1)),browser_local_storage_key_store$1}var merge_key_store={},hasRequiredMerge_key_store;function requireMerge_key_store(){return hasRequiredMerge_key_store||(hasRequiredMerge_key_store=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;var r=requireCommonjs$6();Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return r.MergeKeyStore}})}(merge_key_store)),merge_key_store}var hasRequiredBrowserIndex$1;function requireBrowserIndex$1(){return hasRequiredBrowserIndex$1||(hasRequiredBrowserIndex$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const r=requireKeystore();Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return r.KeyStore}});const t=requireIn_memory_key_store();Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}});const n=requireBrowser_local_storage_key_store();Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return n.BrowserLocalStorageKeyStore}});const u=requireMerge_key_store();Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return u.MergeKeyStore}})}(browserIndex$1)),browserIndex$1}var commonIndex={},providers={},provider$1={},commonjs$4={},exponentialBackoff={},hasRequiredExponentialBackoff;function requireExponentialBackoff(){if(hasRequiredExponentialBackoff)return exponentialBackoff;hasRequiredExponentialBackoff=1,Object.defineProperty(exponentialBackoff,"__esModule",{value:!0}),exponentialBackoff.exponentialBackoff=void 0;async function e(t,n,u,a){let s=t;for(let i=0;i<n;i++){const o=await a();if(o)return o;await r(s),s*=u}return null}exponentialBackoff.exponentialBackoff=e;function r(t){return new Promise(n=>setTimeout(n,t))}return exponentialBackoff}var jsonRpcProvider$1={},commonjs$3={},action_creators={},actions={},hasRequiredActions;function requireActions(){if(hasRequiredActions)return actions;hasRequiredActions=1,Object.defineProperty(actions,"__esModule",{value:!0}),actions.Action=actions.SignedDelegate=actions.DeleteAccount=actions.DeleteKey=actions.AddKey=actions.Stake=actions.Transfer=actions.FunctionCall=actions.DeployContract=actions.CreateAccount=actions.AccessKey=actions.AccessKeyPermission=actions.FullAccessPermission=actions.FunctionCallPermission=void 0;const e=requireCommonjs$9();class r{constructor({allowance:g,receiverId:E,methodNames:A}){J(this,"allowance");J(this,"receiverId");J(this,"methodNames");this.allowance=g,this.receiverId=E,this.methodNames=A}}actions.FunctionCallPermission=r;class t{}actions.FullAccessPermission=t;class n extends e.Enum{constructor(E){super(E);J(this,"enum");J(this,"functionCall");J(this,"fullAccess");for(const[A,C]of Object.entries(E||{}))this[A]=C,this.enum=A}}actions.AccessKeyPermission=n;class u{constructor({nonce:g,permission:E}){J(this,"nonce");J(this,"permission");this.nonce=g,this.permission=E}}actions.AccessKey=u;class a{}actions.CreateAccount=a;class s{constructor({code:g}){J(this,"code");this.code=g}}actions.DeployContract=s;class i{constructor({methodName:g,args:E,gas:A,deposit:C}){J(this,"methodName");J(this,"args");J(this,"gas");J(this,"deposit");this.methodName=g,this.args=E,this.gas=A,this.deposit=C}}actions.FunctionCall=i;class o{constructor({deposit:g}){J(this,"deposit");this.deposit=g}}actions.Transfer=o;class c{constructor({stake:g,publicKey:E}){J(this,"stake");J(this,"publicKey");this.stake=g,this.publicKey=E}}actions.Stake=c;class l{constructor({publicKey:g,accessKey:E}){J(this,"publicKey");J(this,"accessKey");this.publicKey=g,this.accessKey=E}}actions.AddKey=l;class f{constructor({publicKey:g}){J(this,"publicKey");this.publicKey=g}}actions.DeleteKey=f;class d{constructor({beneficiaryId:g}){J(this,"beneficiaryId");this.beneficiaryId=g}}actions.DeleteAccount=d;class h{constructor({delegateAction:g,signature:E}){J(this,"delegateAction");J(this,"signature");this.delegateAction=g,this.signature=E}}actions.SignedDelegate=h;class v extends e.Enum{constructor(E){super(E);J(this,"enum");J(this,"createAccount");J(this,"deployContract");J(this,"functionCall");J(this,"transfer");J(this,"stake");J(this,"addKey");J(this,"deleteKey");J(this,"deleteAccount");J(this,"signedDelegate");for(const[A,C]of Object.entries(E||{}))this[A]=C,this.enum=A}}return actions.Action=v,actions}var hasRequiredAction_creators;function requireAction_creators(){if(hasRequiredAction_creators)return action_creators;hasRequiredAction_creators=1,Object.defineProperty(action_creators,"__esModule",{value:!0}),action_creators.actionCreators=action_creators.stringifyJsonOrBytes=void 0;const e=requireActions();function r(){return new e.AccessKey({nonce:0n,permission:new e.AccessKeyPermission({fullAccess:new e.FullAccessPermission})})}function t(h,v,p){return new e.AccessKey({nonce:0n,permission:new e.AccessKeyPermission({functionCall:new e.FunctionCallPermission({receiverId:h,allowance:p,methodNames:v})})})}function n(){return new e.Action({createAccount:new e.CreateAccount})}function u(h){return new e.Action({deployContract:new e.DeployContract({code:h})})}function a(h){return h.byteLength!==void 0&&h.byteLength===h.length?h:Buffer.from(JSON.stringify(h))}action_creators.stringifyJsonOrBytes=a;function s(h,v,p=0n,g=0n,E=a,A=!1){return A?new e.Action({functionCall:new e.FunctionCall({methodName:h,args:v,gas:p,deposit:g})}):new e.Action({functionCall:new e.FunctionCall({methodName:h,args:E(v),gas:p,deposit:g})})}function i(h=0n){return new e.Action({transfer:new e.Transfer({deposit:h})})}function o(h=0n,v){return new e.Action({stake:new e.Stake({stake:h,publicKey:v})})}function c(h,v){return new e.Action({addKey:new e.AddKey({publicKey:h,accessKey:v})})}function l(h){return new e.Action({deleteKey:new e.DeleteKey({publicKey:h})})}function f(h){return new e.Action({deleteAccount:new e.DeleteAccount({beneficiaryId:h})})}function d({delegateAction:h,signature:v}){return new e.Action({signedDelegate:new e.SignedDelegate({delegateAction:h,signature:v})})}return action_creators.actionCreators={addKey:c,createAccount:n,deleteAccount:f,deleteKey:l,deployContract:u,fullAccessKey:r,functionCall:s,functionCallAccessKey:t,signedDelegate:d,stake:o,transfer:i},action_creators}var create_transaction={},schema={},prefix={},hasRequiredPrefix;function requirePrefix(){if(hasRequiredPrefix)return prefix;hasRequiredPrefix=1,Object.defineProperty(prefix,"__esModule",{value:!0}),prefix.DelegateActionPrefix=void 0;const e=Math.pow(2,30),r={MetaTransactions:366};class t{constructor({prefix:s}){J(this,"prefix");this.prefix=s}}class n extends t{constructor(s){super({prefix:e+s})}}class u extends n{constructor(){super(r.MetaTransactions)}}return prefix.DelegateActionPrefix=u,prefix}var hasRequiredSchema;function requireSchema(){return hasRequiredSchema||(hasRequiredSchema=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const r=requireCjs(),t=requirePrefix();function n(l){return new Uint8Array([...(0,r.serialize)(e.SCHEMA.DelegateActionPrefix,new t.DelegateActionPrefix),...(0,r.serialize)(e.SCHEMA.DelegateAction,l)])}e.encodeDelegateAction=n;function u(l){return(0,r.serialize)(e.SCHEMA.SignedDelegate,l)}e.encodeSignedDelegate=u;function a(l){const f=l instanceof c?e.SCHEMA.SignedTransaction:e.SCHEMA.Transaction;return(0,r.serialize)(f,l)}e.encodeTransaction=a;function s(l){return new o((0,r.deserialize)(e.SCHEMA.Transaction,l))}e.decodeTransaction=s;function i(l){return new c((0,r.deserialize)(e.SCHEMA.SignedTransaction,l))}e.decodeSignedTransaction=i;class o{constructor({signerId:f,publicKey:d,nonce:h,receiverId:v,actions:p,blockHash:g}){J(this,"signerId");J(this,"publicKey");J(this,"nonce");J(this,"receiverId");J(this,"actions");J(this,"blockHash");this.signerId=f,this.publicKey=d,this.nonce=h,this.receiverId=v,this.actions=p,this.blockHash=g}encode(){return a(this)}static decode(f){return s(f)}}e.Transaction=o;class c{constructor({transaction:f,signature:d}){J(this,"transaction");J(this,"signature");this.transaction=f,this.signature=d}encode(){return a(this)}static decode(f){return i(f)}}e.SignedTransaction=c,e.SCHEMA=new class{constructor(){J(this,"Ed25519Signature",{struct:{data:{array:{type:"u8",len:64}}}});J(this,"Secp256k1Signature",{struct:{data:{array:{type:"u8",len:65}}}});J(this,"Signature",{enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]});J(this,"Ed25519Data",{struct:{data:{array:{type:"u8",len:32}}}});J(this,"Secp256k1Data",{struct:{data:{array:{type:"u8",len:64}}}});J(this,"PublicKey",{enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]});J(this,"FunctionCallPermission",{struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}});J(this,"FullAccessPermission",{struct:{}});J(this,"AccessKeyPermission",{enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]});J(this,"AccessKey",{struct:{nonce:"u64",permission:this.AccessKeyPermission}});J(this,"CreateAccount",{struct:{}});J(this,"DeployContract",{struct:{code:{array:{type:"u8"}}}});J(this,"FunctionCall",{struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}});J(this,"Transfer",{struct:{deposit:"u128"}});J(this,"Stake",{struct:{stake:"u128",publicKey:this.PublicKey}});J(this,"AddKey",{struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}});J(this,"DeleteKey",{struct:{publicKey:this.PublicKey}});J(this,"DeleteAccount",{struct:{beneficiaryId:"string"}});J(this,"DelegateActionPrefix",{struct:{prefix:"u32"}});J(this,"ClassicActions",{enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]});J(this,"DelegateAction",{struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}});J(this,"SignedDelegate",{struct:{delegateAction:this.DelegateAction,signature:this.Signature}});J(this,"Action",{enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]});J(this,"Transaction",{struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}});J(this,"SignedTransaction",{struct:{transaction:this.Transaction,signature:this.Signature}})}}}(schema)),schema}var hasRequiredCreate_transaction;function requireCreate_transaction(){if(hasRequiredCreate_transaction)return create_transaction;hasRequiredCreate_transaction=1,Object.defineProperty(create_transaction,"__esModule",{value:!0}),create_transaction.createTransaction=void 0;const e=requireSchema();function r(t,n,u,a,s,i){const o=typeof a=="bigint"?a:BigInt(a);return new e.Transaction({signerId:t,publicKey:n,nonce:o,receiverId:u,actions:s,blockHash:i})}return create_transaction.createTransaction=r,create_transaction}var delegate={},hasRequiredDelegate;function requireDelegate(){if(hasRequiredDelegate)return delegate;hasRequiredDelegate=1,Object.defineProperty(delegate,"__esModule",{value:!0}),delegate.buildDelegateAction=delegate.DelegateAction=void 0;const e=requireAction_creators(),{addKey:r,createAccount:t,deleteAccount:n,deleteKey:u,deployContract:a,functionCall:s,stake:i,transfer:o}=e.actionCreators;class c{constructor({senderId:d,receiverId:h,actions:v,nonce:p,maxBlockHeight:g,publicKey:E}){J(this,"senderId");J(this,"receiverId");J(this,"actions");J(this,"nonce");J(this,"maxBlockHeight");J(this,"publicKey");this.senderId=d,this.receiverId=h,this.actions=v,this.nonce=p,this.maxBlockHeight=g,this.publicKey=E}}delegate.DelegateAction=c;function l({actions:f,maxBlockHeight:d,nonce:h,publicKey:v,receiverId:p,senderId:g}){return new c({senderId:g,receiverId:p,actions:f.map(E=>{if(!E.type&&!E.params)return E;switch(E.type){case"AddKey":{const{publicKey:A,accessKey:C}=E.params;return r(A,C)}case"CreateAccount":return t(E.params.createAccount);case"DeleteAccount":return n(E.params.deleteAccount);case"DeleteKey":return u(E.params.publicKey);case"DeployContract":return a(E.params.code);case"FunctionCall":{const{methodName:A,args:C,gas:P,deposit:S}=E.params;return s(A,C,P,S)}case"Stake":return i(E.params.stake,E.params.publicKey);case"Transfer":{const{deposit:A}=E.params;return o(A)}}throw new Error("Unrecognized action")}),nonce:h,maxBlockHeight:d,publicKey:v})}return delegate.buildDelegateAction=l,delegate}var sign={},signature={},hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1,Object.defineProperty(signature,"__esModule",{value:!0}),signature.Signature=void 0;const e=requireCommonjs$7(),r=requireCommonjs$9();function t(u){switch(u){case e.KeyType.ED25519:return"ed25519Signature";case e.KeyType.SECP256K1:return"secp256k1Signature";default:throw Error(`unknown type ${u}`)}}class n extends r.Enum{constructor(s){const i=t(s.keyType);super({[i]:s});J(this,"enum");J(this,"ed25519Signature");J(this,"secp256k1Signature");this[i]=s,this.enum=i}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}return signature.Signature=n,signature}var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign;hasRequiredSign=1,Object.defineProperty(sign,"__esModule",{value:!0}),sign.signDelegateAction=sign.signTransaction=void 0;const e=requireSha256$1(),r=requireActions(),t=requireCreate_transaction(),n=requireSchema(),u=requireSignature(),a=requireCommonjs$7();async function s(c,l,f,d){const h=(0,n.encodeTransaction)(c),v=new Uint8Array((0,e.sha256)(h)),p=await l.signMessage(h,f,d),g=c.publicKey.ed25519Key?a.KeyType.ED25519:a.KeyType.SECP256K1,E=new n.SignedTransaction({transaction:c,signature:new u.Signature({keyType:g,data:p.signature})});return[v,E]}async function i(...c){if(c[0].constructor===n.Transaction){const[l,f,d,h]=c;return s(l,f,d,h)}else{const[l,f,d,h,v,p,g]=c,E=await v.getPublicKey(p,g),A=(0,t.createTransaction)(p,E,l,f,d,h);return s(A,v,p,g)}}sign.signTransaction=i;async function o({delegateAction:c,signer:l}){const f=(0,n.encodeDelegateAction)(c),d=await l.sign(f),h=c.publicKey.ed25519Key?a.KeyType.ED25519:a.KeyType.SECP256K1,v=new r.SignedDelegate({delegateAction:c,signature:new u.Signature({keyType:h,data:d})});return{hash:new Uint8Array((0,e.sha256)(f)),signedDelegateAction:v}}return sign.signDelegateAction=o,sign}var hasRequiredCommonjs$4;function requireCommonjs$4(){return hasRequiredCommonjs$4||(hasRequiredCommonjs$4=1,function(e){var r=commonjs$3&&commonjs$3.__createBinding||(Object.create?function(n,u,a,s){s===void 0&&(s=a);var i=Object.getOwnPropertyDescriptor(u,a);(!i||("get"in i?!u.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return u[a]}}),Object.defineProperty(n,s,i)}:function(n,u,a,s){s===void 0&&(s=a),n[s]=u[a]}),t=commonjs$3&&commonjs$3.__exportStar||function(n,u){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&r(u,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(requireAction_creators(),e),t(requireActions(),e),t(requireCreate_transaction(),e),t(requireDelegate(),e),t(requireSchema(),e),t(requireSign(),e),t(requireSignature(),e)}(commonjs$3)),commonjs$3}var provider={},hasRequiredProvider$1;function requireProvider$1(){if(hasRequiredProvider$1)return provider;hasRequiredProvider$1=1,Object.defineProperty(provider,"__esModule",{value:!0}),provider.Provider=void 0;class e{}return provider.Provider=e,provider}var fetch_json={};function unfetch_module(e,r){return r=r||{},new Promise(function(t,n){var u=new XMLHttpRequest,a=[],s=[],i={},o=function(){return{ok:(u.status/100|0)==2,statusText:u.statusText,status:u.status,url:u.responseURL,text:function(){return Promise.resolve(u.responseText)},json:function(){return Promise.resolve(u.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([u.response]))},clone:o,headers:{keys:function(){return a},entries:function(){return s},get:function(l){return i[l.toLowerCase()]},has:function(l){return l.toLowerCase()in i}}}};for(var c in u.open(r.method||"get",e,!0),u.onload=function(){u.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,f,d){a.push(f=f.toLowerCase()),s.push([f,d]),i[f]=i[f]?i[f]+","+d:d}),t(o())},u.onerror=n,u.withCredentials=r.credentials=="include",r.headers)u.setRequestHeader(c,r.headers[c]);u.send(r.body||null)})}const unfetch_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:unfetch_module},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(unfetch_module$1);var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser=self.fetch||(self.fetch=require$$0.default||require$$0)),browser}var hasRequiredFetch_json;function requireFetch_json(){if(hasRequiredFetch_json)return fetch_json;hasRequiredFetch_json=1;var e=fetch_json&&fetch_json.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fetch_json,"__esModule",{value:!0}),fetch_json.fetchJsonRpc=void 0;const r=requireCommonjs$9(),t=requireBackoff(),n=e(requireBrowser()),u=1.5,a=10,s={numOfAttempts:a,timeMultiple:u,retry:c=>!!([503,408].includes(c.cause)||["FetchError","Failed to fetch"].includes(c.toString()))};class i extends Error{constructor(f,d){super(f,d);J(this,"cause")}}async function o(c,l,f){const d=await(0,t.backOff)(async()=>{const h=await(0,n.default)(c,{method:"POST",body:JSON.stringify(l),headers:{...f,"Content-Type":"application/json"}}),{ok:v,status:p}=h;if(!v)throw new i(await h.text(),{cause:p});if(p===503)throw new i(`${c} unavailable`,{cause:p});if(p===408)throw new i("Unused connection",{cause:p});return h},s);if(!d)throw new r.TypedError(`Exceeded ${a} attempts for ${c}.`,"RetriesExceeded");return await d.json()}return fetch_json.fetchJsonRpc=o,fetch_json}var hasRequiredJsonRpcProvider$1;function requireJsonRpcProvider$1(){if(hasRequiredJsonRpcProvider$1)return jsonRpcProvider$1;hasRequiredJsonRpcProvider$1=1,Object.defineProperty(jsonRpcProvider$1,"__esModule",{value:!0}),jsonRpcProvider$1.JsonRpcProvider=void 0;const e=requireCommonjs$8(),r=requireCommonjs$9(),t=requireCommonjs$4(),n=requireExponentialBackoff(),u=requireProvider$1(),a=requireFetch_json(),s=12,i=500,o=1.5;let c=123;class l extends u.Provider{constructor(h,v){super();J(this,"connection");J(this,"options");this.connection=h||{url:""};const p={retries:s,wait:i,backoff:o};this.options=Object.assign({},p,v)}async status(){return this.sendJsonRpc("status",[])}async sendTransactionUntil(h,v){const p=(0,t.encodeTransaction)(h);return this.sendJsonRpc("send_tx",{signed_tx_base64:Buffer.from(p).toString("base64"),wait_until:v})}async sendTransaction(h){return this.sendTransactionUntil(h,"EXECUTED_OPTIMISTIC")}async sendTransactionAsync(h){return this.sendTransactionUntil(h,"NONE")}async txStatus(h,v,p="EXECUTED_OPTIMISTIC"){return typeof h=="string"?this.txStatusString(h,v,p):this.txStatusUint8Array(h,v,p)}async txStatusUint8Array(h,v,p){return this.sendJsonRpc("tx",{tx_hash:(0,e.baseEncode)(h),sender_account_id:v,wait_until:p})}async txStatusString(h,v,p){return this.sendJsonRpc("tx",{tx_hash:h,sender_account_id:v,wait_until:p})}async txStatusReceipts(h,v,p="EXECUTED_OPTIMISTIC"){return typeof h=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:h,sender_account_id:v,wait_until:p}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,e.baseEncode)(h),sender_account_id:v,wait_until:p})}async query(...h){let v;if(h.length===1){const{block_id:p,blockId:g,...E}=h[0];v=await this.sendJsonRpc("query",{...E,block_id:p||g})}else{const[p,g]=h;v=await this.sendJsonRpc("query",[p,g])}if(v&&v.error)throw new r.TypedError(`Querying failed: ${v.error}.
${JSON.stringify(v,null,2)}`,(0,e.getErrorTypeFromErrorMessage)(v.error,v.error.name));return v}async block(h){const{finality:v}=h,{blockId:p}=h;return this.sendJsonRpc("block",{block_id:p,finality:v})}async blockChanges(h){const{finality:v}=h,{blockId:p}=h;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:p,finality:v})}async chunk(h){return this.sendJsonRpc("chunk",[h])}async validators(h){return this.sendJsonRpc("validators",[h])}async experimental_protocolConfig(h){const{blockId:v,...p}=h;return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{...p,block_id:v})}async lightClientProof(h){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",h)}async nextLightClientBlock(h){return await this.sendJsonRpc("next_light_client_block",h)}async accessKeyChanges(h,v){const{finality:p}=v,{blockId:g}=v;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:h,block_id:g,finality:p})}async singleAccessKeyChanges(h,v){const{finality:p}=v,{blockId:g}=v;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:h,block_id:g,finality:p})}async accountChanges(h,v){const{finality:p}=v,{blockId:g}=v;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:h,block_id:g,finality:p})}async contractStateChanges(h,v,p=""){const{finality:g}=v,{blockId:E}=v;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:h,key_prefix_base64:p,block_id:E,finality:g})}async contractCodeChanges(h,v){const{finality:p}=v,{blockId:g}=v;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:h,block_id:g,finality:p})}async gasPrice(h){return await this.sendJsonRpc("gas_price",[h])}async sendJsonRpc(h,v){const p=await(0,n.exponentialBackoff)(this.options.wait,this.options.retries,this.options.backoff,async()=>{var E;try{const A={method:h,params:v,id:c++,jsonrpc:"2.0"},C=await(0,a.fetchJsonRpc)(this.connection.url,A,this.connection.headers);if(C.error){if(typeof C.error.data=="object")throw typeof C.error.data.error_message=="string"&&typeof C.error.data.error_type=="string"?new r.TypedError(C.error.data.error_message,C.error.data.error_type):(0,e.parseRpcError)(C.error.data);{const P=`[${C.error.code}] ${C.error.message}: ${C.error.data}`;if(C.error.data==="Timeout"||P.includes("Timeout error")||P.includes("query has timed out"))throw new r.TypedError(P,"TimeoutError");const S=(0,e.getErrorTypeFromErrorMessage)(C.error.data,"");throw S?new r.TypedError((0,e.formatError)(S,v),S):new r.TypedError(P,C.error.name)}}else if(typeof((E=C.result)==null?void 0:E.error)=="string"){const P=(0,e.getErrorTypeFromErrorMessage)(C.result.error,"");if(P)throw new e.ServerError((0,e.formatError)(P,v),P)}return C}catch(A){if(A.type==="TimeoutError")return e.Logger.warn(`Retrying request to ${h} as it has timed out`,v),null;throw A}}),{result:g}=p;if(typeof g>"u")throw new r.TypedError(`Exceeded ${this.options.retries} attempts for request to ${h}.`,"RetriesExceeded");return g}}return jsonRpcProvider$1.JsonRpcProvider=l,jsonRpcProvider$1}var failoverRpcProvider$1={},hasRequiredFailoverRpcProvider$1;function requireFailoverRpcProvider$1(){if(hasRequiredFailoverRpcProvider$1)return failoverRpcProvider$1;hasRequiredFailoverRpcProvider$1=1,Object.defineProperty(failoverRpcProvider$1,"__esModule",{value:!0}),failoverRpcProvider$1.FailoverRpcProvider=void 0;const e=requireCommonjs$8(),r=requireCommonjs$9(),t=requireProvider$1();class n extends t.Provider{constructor(s){super();J(this,"providers");J(this,"currentProviderIndex");if(s.length===0)throw new Error("At least one provider must be specified");this.providers=s,this.currentProviderIndex=0}switchToNextProvider(){this.providers.length!==1&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,e.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){const s=this.providers[this.currentProviderIndex];if(!s)throw new Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return s}async withBackoff(s){for(let i=0;i<this.providers.length;i++)try{const o=await s(this.currentProvider);if(o)return o}catch{this.switchToNextProvider()}throw new r.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")}async status(){return this.withBackoff(s=>s.status())}async sendTransactionUntil(s,i){return this.withBackoff(o=>o.sendTransactionUntil(s,i))}async sendTransaction(s){return this.withBackoff(i=>i.sendTransaction(s))}async sendTransactionAsync(s){return this.withBackoff(i=>i.sendTransactionAsync(s))}async txStatus(s,i,o){return this.withBackoff(c=>c.txStatus(s,i,o))}async txStatusReceipts(s,i,o){return this.withBackoff(c=>c.txStatusReceipts(s,i,o))}async query(s,i){return i?this.withBackoff(o=>o.query(s,i)):this.withBackoff(o=>o.query(s))}async block(s){return this.withBackoff(i=>i.block(s))}async blockChanges(s){return this.withBackoff(i=>i.blockChanges(s))}async chunk(s){return this.withBackoff(i=>i.chunk(s))}async validators(s){return this.withBackoff(i=>i.validators(s))}async experimental_protocolConfig(s){return this.withBackoff(i=>i.experimental_protocolConfig(s))}async lightClientProof(s){return this.withBackoff(i=>i.lightClientProof(s))}async nextLightClientBlock(s){return this.withBackoff(i=>i.nextLightClientBlock(s))}async accessKeyChanges(s,i){return this.withBackoff(o=>o.accessKeyChanges(s,i))}async singleAccessKeyChanges(s,i){return this.withBackoff(o=>o.singleAccessKeyChanges(s,i))}async accountChanges(s,i){return this.withBackoff(o=>o.accountChanges(s,i))}async contractStateChanges(s,i,o=""){return this.withBackoff(c=>c.contractStateChanges(s,i,o))}async contractCodeChanges(s,i){return this.withBackoff(o=>o.contractCodeChanges(s,i))}async gasPrice(s){return this.withBackoff(i=>i.gasPrice(s))}}return failoverRpcProvider$1.FailoverRpcProvider=n,failoverRpcProvider$1}var hasRequiredCommonjs$3;function requireCommonjs$3(){return hasRequiredCommonjs$3||(hasRequiredCommonjs$3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Provider=e.FailoverRpcProvider=e.JsonRpcProvider=e.exponentialBackoff=void 0;var r=requireExponentialBackoff();Object.defineProperty(e,"exponentialBackoff",{enumerable:!0,get:function(){return r.exponentialBackoff}});var t=requireJsonRpcProvider$1();Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return t.JsonRpcProvider}});var n=requireFailoverRpcProvider$1();Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return n.FailoverRpcProvider}});var u=requireProvider$1();Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return u.Provider}})}(commonjs$4)),commonjs$4}var hasRequiredProvider;function requireProvider(){return hasRequiredProvider||(hasRequiredProvider=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=e.Provider=e.getTransactionLastResult=void 0;var r=requireCommonjs$8();Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return r.getTransactionLastResult}});var t=requireCommonjs$3();Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return t.Provider}});var n=requireCommonjs$9();Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return n.IdType}}),Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return n.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}})}(provider$1)),provider$1}var jsonRpcProvider={},hasRequiredJsonRpcProvider;function requireJsonRpcProvider(){return hasRequiredJsonRpcProvider||(hasRequiredJsonRpcProvider=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.TypedError=e.ErrorContext=void 0;var r=requireCommonjs$9();Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return r.ErrorContext}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return r.TypedError}});var t=requireCommonjs$3();Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return t.JsonRpcProvider}})}(jsonRpcProvider)),jsonRpcProvider}var failoverRpcProvider={},hasRequiredFailoverRpcProvider;function requireFailoverRpcProvider(){return hasRequiredFailoverRpcProvider||(hasRequiredFailoverRpcProvider=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FailoverRpcProvider=void 0;var r=requireCommonjs$3();Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return r.FailoverRpcProvider}})}(failoverRpcProvider)),failoverRpcProvider}var hasRequiredProviders;function requireProviders(){return hasRequiredProviders||(hasRequiredProviders=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.FailoverRpcProvider=e.JsonRpcProvider=e.Provider=void 0;const r=requireProvider();Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return r.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return r.FinalExecutionStatusBasic}});const t=requireJsonRpcProvider();Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return t.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return t.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return t.ErrorContext}});const n=requireFailoverRpcProvider();Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return n.FailoverRpcProvider}})}(providers)),providers}var utils$2={},key_pair={},hasRequiredKey_pair;function requireKey_pair(){return hasRequiredKey_pair||(hasRequiredKey_pair=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyType=e.KeyPairEd25519=e.KeyPair=void 0;var r=requireCommonjs$7();Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return r.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return r.KeyPairEd25519}}),Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return r.KeyType}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return r.PublicKey}})}(key_pair)),key_pair}var serialize$1={},hasRequiredSerialize;function requireSerialize(){return hasRequiredSerialize||(hasRequiredSerialize=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.base_decode=e.base_encode=e.deserialize=e.serialize=void 0;var r=requireCjs();Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return r.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return r.deserialize}});var t=requireCommonjs$8();Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return t.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return t.baseDecode}})}(serialize$1)),serialize$1}var enums={},hasRequiredEnums;function requireEnums(){return hasRequiredEnums||(hasRequiredEnums=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Enum=void 0;var r=requireCommonjs$9();Object.defineProperty(e,"Enum",{enumerable:!0,get:function(){return r.Enum}})}(enums)),enums}var format={},hasRequiredFormat;function requireFormat(){return hasRequiredFormat||(hasRequiredFormat=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION_EXP=e.NEAR_NOMINATION=void 0;var r=requireCommonjs$8();Object.defineProperty(e,"NEAR_NOMINATION",{enumerable:!0,get:function(){return r.NEAR_NOMINATION}}),Object.defineProperty(e,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return r.NEAR_NOMINATION_EXP}}),Object.defineProperty(e,"formatNearAmount",{enumerable:!0,get:function(){return r.formatNearAmount}}),Object.defineProperty(e,"parseNearAmount",{enumerable:!0,get:function(){return r.parseNearAmount}})}(format)),format}var rpc_errors={},hasRequiredRpc_errors;function requireRpc_errors(){return hasRequiredRpc_errors||(hasRequiredRpc_errors=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=void 0;var r=requireCommonjs$8();Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return r.parseRpcError}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return r.parseResultError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return r.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return r.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return r.ServerError}})}(rpc_errors)),rpc_errors}var logger={},hasRequiredLogger;function requireLogger(){return hasRequiredLogger||(hasRequiredLogger=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var r=requireCommonjs$8();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return r.Logger}})}(logger)),logger}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(e){var r=utils$2&&utils$2.__createBinding||(Object.create?function(f,d,h,v){v===void 0&&(v=h);var p=Object.getOwnPropertyDescriptor(d,h);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(f,v,p)}:function(f,d,h,v){v===void 0&&(v=h),f[v]=d[h]}),t=utils$2&&utils$2.__setModuleDefault||(Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d}),n=utils$2&&utils$2.__importStar||function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var h in f)h!=="default"&&Object.prototype.hasOwnProperty.call(f,h)&&r(d,f,h);return t(d,f),d};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.serialize=e.key_pair=void 0;const u=n(requireKey_pair());e.key_pair=u;const a=n(requireSerialize());e.serialize=a;const s=n(requireEnums());e.enums=s;const i=n(requireFormat());e.format=i;const o=n(requireRpc_errors());e.rpc_errors=o;const c=requireKey_pair();Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return c.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return c.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return c.KeyPairEd25519}});const l=requireLogger();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return l.Logger}})}(utils$2)),utils$2}var transaction={},hasRequiredTransaction;function requireTransaction(){return hasRequiredTransaction||(hasRequiredTransaction=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transfer=e.stake=e.functionCallAccessKey=e.functionCall=e.fullAccessKey=e.deployContract=e.deleteKey=e.deleteAccount=e.createAccount=e.addKey=e.encodeTransaction=e.encodeDelegateAction=e.encodeSignedDelegate=e.Transaction=e.SignedTransaction=e.Signature=e.signTransaction=e.createTransaction=e.SCHEMA=e.Transfer=e.Stake=e.FunctionCallPermission=e.FunctionCall=e.FullAccessPermission=e.DeployContract=e.DeleteKey=e.DeleteAccount=e.CreateAccount=e.AddKey=e.AccessKeyPermission=e.AccessKey=e.Action=e.stringifyJsonOrBytes=void 0;var r=requireCommonjs$4();Object.defineProperty(e,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return r.stringifyJsonOrBytes}}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(e,"AccessKey",{enumerable:!0,get:function(){return r.AccessKey}}),Object.defineProperty(e,"AccessKeyPermission",{enumerable:!0,get:function(){return r.AccessKeyPermission}}),Object.defineProperty(e,"AddKey",{enumerable:!0,get:function(){return r.AddKey}}),Object.defineProperty(e,"CreateAccount",{enumerable:!0,get:function(){return r.CreateAccount}}),Object.defineProperty(e,"DeleteAccount",{enumerable:!0,get:function(){return r.DeleteAccount}}),Object.defineProperty(e,"DeleteKey",{enumerable:!0,get:function(){return r.DeleteKey}}),Object.defineProperty(e,"DeployContract",{enumerable:!0,get:function(){return r.DeployContract}}),Object.defineProperty(e,"FullAccessPermission",{enumerable:!0,get:function(){return r.FullAccessPermission}}),Object.defineProperty(e,"FunctionCall",{enumerable:!0,get:function(){return r.FunctionCall}}),Object.defineProperty(e,"FunctionCallPermission",{enumerable:!0,get:function(){return r.FunctionCallPermission}}),Object.defineProperty(e,"Stake",{enumerable:!0,get:function(){return r.Stake}}),Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return r.Transfer}}),Object.defineProperty(e,"SCHEMA",{enumerable:!0,get:function(){return r.SCHEMA}}),Object.defineProperty(e,"createTransaction",{enumerable:!0,get:function(){return r.createTransaction}}),Object.defineProperty(e,"signTransaction",{enumerable:!0,get:function(){return r.signTransaction}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return r.Signature}}),Object.defineProperty(e,"SignedTransaction",{enumerable:!0,get:function(){return r.SignedTransaction}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return r.Transaction}}),Object.defineProperty(e,"encodeSignedDelegate",{enumerable:!0,get:function(){return r.encodeSignedDelegate}}),Object.defineProperty(e,"encodeDelegateAction",{enumerable:!0,get:function(){return r.encodeDelegateAction}}),Object.defineProperty(e,"encodeTransaction",{enumerable:!0,get:function(){return r.encodeTransaction}});const t=requireCommonjs$4(),n=(h,v)=>t.actionCreators.addKey(h,v);e.addKey=n;const u=()=>t.actionCreators.createAccount();e.createAccount=u;const a=h=>t.actionCreators.deleteAccount(h);e.deleteAccount=a;const s=h=>t.actionCreators.deleteKey(h);e.deleteKey=s;const i=h=>t.actionCreators.deployContract(h);e.deployContract=i;const o=()=>t.actionCreators.fullAccessKey();e.fullAccessKey=o;const c=(h,v,p,g,E,A)=>t.actionCreators.functionCall(h,v,p,g,E,A);e.functionCall=c;const l=(h,v,p)=>t.actionCreators.functionCallAccessKey(h,v,p);e.functionCallAccessKey=l;const f=(h,v)=>t.actionCreators.stake(h,v);e.stake=f;const d=h=>t.actionCreators.transfer(h);e.transfer=d}(transaction)),transaction}var validators={},hasRequiredValidators;function requireValidators(){return hasRequiredValidators||(hasRequiredValidators=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findSeatPrice=e.diffEpochValidators=void 0;var r=requireCommonjs$8();Object.defineProperty(e,"diffEpochValidators",{enumerable:!0,get:function(){return r.diffEpochValidators}}),Object.defineProperty(e,"findSeatPrice",{enumerable:!0,get:function(){return r.findSeatPrice}})}(validators)),validators}var account$1={},commonjs$2={},account={},utils$1={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$1;hasRequiredUtils=1,Object.defineProperty(utils$1,"__esModule",{value:!0}),utils$1.viewFunction=utils$1.viewState=utils$1.encodeJSContractArgs=utils$1.validateArgs=void 0;const e=requireCommonjs$9(),r=requireCommonjs$8();function t(o){return JSON.parse(Buffer.from(o).toString())}function n(o){return Buffer.from(JSON.stringify(o))}function u(o){if(!(o.byteLength!==void 0&&o.byteLength===o.length)&&(Array.isArray(o)||typeof o!="object"))throw new e.PositionalArgsError}utils$1.validateArgs=u;function a(o,c,l){return Buffer.concat([Buffer.from(o),Buffer.from([0]),Buffer.from(c),Buffer.from([0]),Buffer.from(l)])}utils$1.encodeJSContractArgs=a;async function s(o,c,l,f={finality:"optimistic"}){const{values:d}=await o.provider.query({request_type:"view_state",...f,account_id:c,prefix_base64:Buffer.from(l).toString("base64")});return d.map(({key:h,value:v})=>({key:Buffer.from(h,"base64"),value:Buffer.from(v,"base64")}))}utils$1.viewState=s;async function i(o,{contractId:c,methodName:l,args:f={},parse:d=t,stringify:h=n,jsContract:v=!1,blockQuery:p={finality:"optimistic"}}){let g;u(f),v?g=a(c,l,Object.keys(f).length>0?JSON.stringify(f):""):g=h(f);const E=await o.provider.query({request_type:"call_function",...p,account_id:v?o.jsvmAccountId:c,method_name:v?"view_js_contract":l,args_base64:g.toString("base64")});return E.logs&&(0,r.printTxOutcomeLogs)({contractId:c,logs:E.logs}),E.result&&E.result.length>0&&d(Buffer.from(E.result))}return utils$1.viewFunction=i,utils$1}var hasRequiredAccount$1;function requireAccount$1(){if(hasRequiredAccount$1)return account;hasRequiredAccount$1=1,Object.defineProperty(account,"__esModule",{value:!0}),account.Account=void 0;const e=requireCommonjs$7(),r=requireCommonjs$3(),t=requireCommonjs$4(),n=requireCommonjs$9(),u=requireCommonjs$8(),a=requireUtils(),{addKey:s,createAccount:i,deleteAccount:o,deleteKey:c,deployContract:l,fullAccessKey:f,functionCall:d,functionCallAccessKey:h,stake:v,transfer:p}=t.actionCreators,g=12,E=500,A=1.5;class C{constructor(S,N){J(this,"connection");J(this,"accountId");J(this,"accessKeyByPublicKeyCache",{});this.connection=S,this.accountId=N}getConnection(){return this.connection}async state(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}async signTransaction(S,N){const j=await this.findAccessKey(S,N);if(!j)throw new n.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:k}=j,L=(await this.connection.provider.block({finality:"final"})).header.hash,R=k.nonce+1n;return await(0,t.signTransaction)(S,R,N,(0,u.baseDecode)(L),this.connection.signer,this.accountId,this.connection.networkId)}async signAndSendTransaction({receiverId:S,actions:N,returnError:j}){let k,B;const L=await(0,r.exponentialBackoff)(E,g,A,async()=>{[k,B]=await this.signTransaction(S,N);const R=B.transaction.publicKey;try{return await this.connection.provider.sendTransaction(B)}catch(y){if(y.type==="InvalidNonce")return u.Logger.warn(`Retrying transaction ${S}:${(0,u.baseEncode)(k)} with new nonce.`),delete this.accessKeyByPublicKeyCache[R.toString()],null;if(y.type==="Expired")return u.Logger.warn(`Retrying transaction ${S}:${(0,u.baseEncode)(k)} due to expired block hash`),null;throw y.context=new n.ErrorContext((0,u.baseEncode)(k)),y}});if(!L)throw new n.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,u.printTxOutcomeLogsAndFailures)({contractId:B.transaction.receiverId,outcome:L}),!j&&typeof L.status=="object"&&typeof L.status.Failure=="object"&&L.status.Failure!==null)throw L.status.Failure.error_message&&L.status.Failure.error_type?new n.TypedError(`Transaction ${L.transaction_outcome.id} failed. ${L.status.Failure.error_message}`,L.status.Failure.error_type):(0,u.parseResultError)(L);return L}async findAccessKey(S,N){const j=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!j)throw new n.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const k=this.accessKeyByPublicKeyCache[j.toString()];if(k!==void 0)return{publicKey:j,accessKey:k};try{const B=await this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:j.toString(),finality:"optimistic"}),L={...B,nonce:BigInt(B.nonce||0)};return this.accessKeyByPublicKeyCache[j.toString()]?{publicKey:j,accessKey:this.accessKeyByPublicKeyCache[j.toString()]}:(this.accessKeyByPublicKeyCache[j.toString()]=L,{publicKey:j,accessKey:L})}catch(B){if(B.type=="AccessKeyDoesNotExist")return null;throw B}}async createAndDeployContract(S,N,j,k){const B=f();return await this.signAndSendTransaction({receiverId:S,actions:[i(),p(k),s(e.PublicKey.from(N),B),l(j)]}),new C(this.connection,S)}async sendMoney(S,N){return this.signAndSendTransaction({receiverId:S,actions:[p(N)]})}async createAccount(S,N,j){const k=f();return this.signAndSendTransaction({receiverId:S,actions:[i(),p(j),s(e.PublicKey.from(N),k)]})}async deleteAccount(S){return u.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[o(S)]})}async deployContract(S){return this.signAndSendTransaction({receiverId:this.accountId,actions:[l(S)]})}encodeJSContractArgs(S,N,j){return Buffer.concat([Buffer.from(S),Buffer.from([0]),Buffer.from(N),Buffer.from([0]),Buffer.from(j)])}async functionCall({contractId:S,methodName:N,args:j={},gas:k=u.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:B,walletMeta:L,walletCallbackUrl:R,stringify:y,jsContract:_}){this.validateArgs(j);let b;if(_)b=["call_js_contract",this.encodeJSContractArgs(S,N,JSON.stringify(j)),k,B,null,!0];else{const w=y===void 0?t.stringifyJsonOrBytes:y;b=[N,j,k,B,w,!1]}return this.signAndSendTransaction({receiverId:_?this.connection.jsvmAccountId:S,actions:[d.apply(void 0,b)],walletMeta:L,walletCallbackUrl:R})}async addKey(S,N,j,k){j||(j=[]),Array.isArray(j)||(j=[j]);let B;return N?B=h(N,j,k):B=f(),this.signAndSendTransaction({receiverId:this.accountId,actions:[s(e.PublicKey.from(S),B)]})}async deleteKey(S){return this.signAndSendTransaction({receiverId:this.accountId,actions:[c(e.PublicKey.from(S))]})}async stake(S,N){return this.signAndSendTransaction({receiverId:this.accountId,actions:[v(N,e.PublicKey.from(S))]})}async signedDelegate({actions:S,blockHeightTtl:N,receiverId:j}){const{provider:k,signer:B}=this.connection,{header:L}=await k.block({finality:"final"}),{accessKey:R,publicKey:y}=await this.findAccessKey(null,null),_=(0,t.buildDelegateAction)({actions:S,maxBlockHeight:BigInt(L.height)+BigInt(N),nonce:BigInt(R.nonce)+1n,publicKey:y,receiverId:j,senderId:this.accountId}),{signedDelegateAction:b}=await(0,t.signDelegateAction)({delegateAction:_,signer:{sign:async w=>{const{signature:I}=await B.signMessage(w,_.senderId,this.connection.networkId);return I}}});return b}validateArgs(S){if(!(S.byteLength!==void 0&&S.byteLength===S.length)&&(Array.isArray(S)||typeof S!="object"))throw new n.PositionalArgsError}async viewFunction(S){return await(0,a.viewFunction)(this.connection,S)}async viewState(S,N={finality:"optimistic"}){return await(0,a.viewState)(this.connection,this.accountId,S,N)}async getAccessKeys(){var N;const S=await this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(N=S==null?void 0:S.keys)==null?void 0:N.map(j=>({...j,access_key:{...j.access_key,nonce:BigInt(j.access_key.nonce)}}))}async getAccountDetails(){return{authorizedApps:(await this.getAccessKeys()).filter(j=>j.access_key.permission!=="FullAccess").map(j=>{const k=j.access_key.permission;return{contractId:k.FunctionCall.receiver_id,amount:k.FunctionCall.allowance,publicKey:j.public_key}})}}async getAccountBalance(){const S=await this.connection.provider.experimental_protocolConfig({finality:"final"}),N=await this.state(),j=BigInt(S.runtime_config.storage_amount_per_byte),k=BigInt(N.storage_usage)*j,B=BigInt(N.locked),L=BigInt(N.amount)+B,R=L-(B>k?B:k);return{total:L.toString(),stateStaked:k.toString(),staked:B.toString(),available:R.toString()}}async getActiveDelegatedStakeBalance(){const S=await this.connection.provider.block({finality:"final"}),N=S.header.hash,j=S.header.epoch_id,{current_validators:k,next_validators:B,current_proposals:L}=await this.connection.provider.validators(j),R=new Set;[...k,...B,...L].forEach(q=>R.add(q.account_id));const y=[...R],_=y.map(q=>this.viewFunction({contractId:q,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:N}})),b=await Promise.allSettled(_);if(b.some(q=>q.status==="rejected"&&q.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const I=b.reduce((q,U,x)=>{const m=y[x];if(U.status==="fulfilled"){const T=BigInt(U.value);if(T!==0n)return{...q,stakedValidators:[...q.stakedValidators,{validatorId:m,amount:T.toString()}],total:q.total+T}}return U.status==="rejected"?{...q,failedValidators:[...q.failedValidators,{validatorId:m,error:U.reason}]}:q},{stakedValidators:[],failedValidators:[],total:0n});return{...I,total:I.total.toString()}}}return account.Account=C,account}var account_2fa={},account_multisig$1={},constants={},hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.MULTISIG_CONFIRM_METHODS=constants.MULTISIG_CHANGE_METHODS=constants.MULTISIG_DEPOSIT=constants.MULTISIG_GAS=constants.MULTISIG_ALLOWANCE=constants.MULTISIG_STORAGE_KEY=void 0;const e=requireCommonjs$8();return constants.MULTISIG_STORAGE_KEY="__multisigRequest",constants.MULTISIG_ALLOWANCE=BigInt((0,e.parseNearAmount)("1")),constants.MULTISIG_GAS=100000000000000n,constants.MULTISIG_DEPOSIT=0n,constants.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],constants.MULTISIG_CONFIRM_METHODS=["confirm"],constants}var types={},hasRequiredTypes;function requireTypes(){if(hasRequiredTypes)return types;hasRequiredTypes=1,Object.defineProperty(types,"__esModule",{value:!0}),types.MultisigStateStatus=types.MultisigDeleteRequestRejectionError=void 0;var e;(function(t){t.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",t.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",t.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",t.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",t.METHOD_NOT_FOUND="Contract method is not found"})(e||(types.MultisigDeleteRequestRejectionError=e={}));var r;return function(t){t[t.INVALID_STATE=0]="INVALID_STATE",t[t.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",t[t.VALID_STATE=2]="VALID_STATE",t[t.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(r||(types.MultisigStateStatus=r={})),types}var hasRequiredAccount_multisig$1;function requireAccount_multisig$1(){if(hasRequiredAccount_multisig$1)return account_multisig$1;hasRequiredAccount_multisig$1=1,Object.defineProperty(account_multisig$1,"__esModule",{value:!0}),account_multisig$1.AccountMultisig=void 0;const e=requireCommonjs$4(),r=requireCommonjs$8(),t=requireAccount$1(),n=requireConstants(),u=requireTypes(),{deployContract:a,functionCall:s}=e.actionCreators;var i;(function(d){d[d.INVALID_CODE=0]="INVALID_CODE",d[d.VALID_CODE=1]="VALID_CODE",d[d.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(i||(i={}));const o={[n.MULTISIG_STORAGE_KEY]:null};class c extends t.Account{constructor(v,p,g){super(v,p);J(this,"storage");J(this,"onAddRequestResult");this.storage=g.storage,this.onAddRequestResult=g.onAddRequestResult}async signAndSendTransactionWithAccount(v,p){return super.signAndSendTransaction({receiverId:v,actions:p})}async signAndSendTransaction({receiverId:v,actions:p}){const{accountId:g}=this,E=Buffer.from(JSON.stringify({request:{receiver_id:v,actions:f(p,g,v)}}));let A;try{A=await super.signAndSendTransaction({receiverId:g,actions:[s("add_request_and_confirm",E,n.MULTISIG_GAS,n.MULTISIG_DEPOSIT)]})}catch(P){if(P.toString().includes("Account has too many active requests. Confirm or delete some"))return await this.deleteUnconfirmedRequests(),await this.signAndSendTransaction({receiverId:v,actions:p});throw P}if(!A.status)throw new Error("Request failed");const C={...A.status};if(!C.SuccessValue||typeof C.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:g,actions:p,requestId:parseInt(Buffer.from(C.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&await this.onAddRequestResult(A),this.deleteUnconfirmedRequests(),A}async checkMultisigCodeAndStateStatus(v){const g=v?i.UNKNOWN_CODE:i.VALID_CODE;try{return v?await super.signAndSendTransaction({receiverId:this.accountId,actions:[a(v),s("delete_request",{request_id:4294967295},n.MULTISIG_GAS,n.MULTISIG_DEPOSIT)]}):await this.deleteRequest(4294967295),{codeStatus:i.VALID_CODE,stateStatus:u.MultisigStateStatus.VALID_STATE}}catch(E){if(new RegExp(u.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(E&&E.kind&&E.kind.ExecutionError))return{codeStatus:g,stateStatus:u.MultisigStateStatus.INVALID_STATE};if(new RegExp(u.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(E&&E.kind&&E.kind.ExecutionError))return{codeStatus:g,stateStatus:u.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(u.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(E&&E.kind&&E.kind.ExecutionError))return{codeStatus:g,stateStatus:u.MultisigStateStatus.VALID_STATE};if(new RegExp(u.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(E&&E.message))return{codeStatus:i.INVALID_CODE,stateStatus:u.MultisigStateStatus.UNKNOWN_STATE};throw E}}deleteRequest(v){return super.signAndSendTransaction({receiverId:this.accountId,actions:[s("delete_request",{request_id:v},n.MULTISIG_GAS,n.MULTISIG_DEPOSIT)]})}async deleteAllRequests(){const v=await this.getRequestIds();v.length&&await Promise.all(v.map(p=>this.deleteRequest(p)))}async deleteUnconfirmedRequests(){const v=await this.getRequestIds(),{requestId:p}=this.getRequest();for(const g of v)if(g!=p)try{await super.signAndSendTransaction({receiverId:this.accountId,actions:[s("delete_request",{request_id:g},n.MULTISIG_GAS,n.MULTISIG_DEPOSIT)]})}catch{r.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}async getRequestIds(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(n.MULTISIG_STORAGE_KEY)||"{}"):o[n.MULTISIG_STORAGE_KEY]}setRequest(v){if(this.storage)return this.storage.setItem(n.MULTISIG_STORAGE_KEY,JSON.stringify(v));o[n.MULTISIG_STORAGE_KEY]=v}}account_multisig$1.AccountMultisig=c;const l=d=>d.toString().replace("ed25519:",""),f=(d,h,v)=>d.map(p=>{const g=p.enum,{gas:E,publicKey:A,methodName:C,args:P,deposit:S,accessKey:N,code:j}=p[g],k={type:g[0].toUpperCase()+g.substr(1),gas:E&&E.toString()||void 0,public_key:A&&l(A)||void 0,method_name:C,args:P&&Buffer.from(P).toString("base64")||void 0,code:j&&Buffer.from(j).toString("base64")||void 0,amount:S&&S.toString()||void 0,deposit:S&&S.toString()||"0",permission:void 0};if(N&&(v===h&&N.permission.enum!=="fullAccess"&&(k.permission={receiver_id:h,allowance:n.MULTISIG_ALLOWANCE.toString(),method_names:n.MULTISIG_CHANGE_METHODS}),N.permission.enum==="functionCall")){const{receiverId:B,methodNames:L,allowance:R}=N.permission.functionCall;k.permission={receiver_id:B,allowance:R&&R.toString()||void 0,method_names:L}}return k});return account_multisig$1}var hasRequiredAccount_2fa;function requireAccount_2fa(){if(hasRequiredAccount_2fa)return account_2fa;hasRequiredAccount_2fa=1;var e=account_2fa&&account_2fa.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(account_2fa,"__esModule",{value:!0}),account_2fa.Account2FA=void 0;const r=requireCommonjs$7(),t=requireCommonjs$9(),n=requireCommonjs$4(),u=requireCommonjs$8(),a=e(requireBrowser()),s=requireAccount_multisig$1(),i=requireConstants(),o=requireTypes(),{addKey:c,deleteKey:l,deployContract:f,fullAccessKey:d,functionCall:h,functionCallAccessKey:v}=n.actionCreators;class p extends s.AccountMultisig{constructor(C,P,S){super(C,P,S);J(this,"sendCode");J(this,"getCode");J(this,"verifyCode");J(this,"onConfirmResult");J(this,"helperUrl","https://helper.testnet.near.org");this.helperUrl=S.helperUrl||this.helperUrl,this.storage=S.storage,this.sendCode=S.sendCode||this.sendCodeDefault,this.getCode=S.getCode||this.getCodeDefault,this.verifyCode=S.verifyCode||this.verifyCodeDefault,this.onConfirmResult=S.onConfirmResult}async signAndSendTransaction({receiverId:C,actions:P}){await super.signAndSendTransaction({receiverId:C,actions:P}),await this.sendCode();const S=await this.promptAndVerify();return this.onConfirmResult&&await this.onConfirmResult(S),S}async deployMultisig(C){const{accountId:P}=this,S=(await this.getRecoveryMethods()).data.filter(({kind:y,publicKey:_})=>(y==="phrase"||y==="ledger")&&_!==null).map(y=>y.publicKey),N=(await this.getAccessKeys()).filter(({public_key:y,access_key:{permission:_}})=>_==="FullAccess"&&!S.includes(y)).map(y=>y.public_key).map(g),j=g((await this.postSignedJson("/2fa/getAccessKey",{accountId:P})).publicKey),k=Buffer.from(JSON.stringify({num_confirmations:2})),B=[...N.map(y=>l(y)),...N.map(y=>c(y,v(P,i.MULTISIG_CHANGE_METHODS,null))),c(j,v(P,i.MULTISIG_CONFIRM_METHODS,null)),f(C)],L=B.concat(h("new",k,i.MULTISIG_GAS,i.MULTISIG_DEPOSIT));u.Logger.log("deploying multisig contract for",P);const{stateStatus:R}=await this.checkMultisigCodeAndStateStatus(C);switch(R){case o.MultisigStateStatus.STATE_NOT_INITIALIZED:return await super.signAndSendTransactionWithAccount(P,L);case o.MultisigStateStatus.VALID_STATE:return await super.signAndSendTransactionWithAccount(P,B);case o.MultisigStateStatus.INVALID_STATE:throw new t.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new t.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}}async disableWithFAK({contractBytes:C,cleanupContractBytes:P}){let S=[];P&&(await this.deleteAllRequests().catch(B=>B),S=await this.get2faDisableCleanupActions(P));const N=await this.get2faDisableKeyConversionActions(),j=[...S,...N,f(C)],k=await this.findAccessKey(this.accountId,j);if(k&&k.accessKey&&k.accessKey.permission!=="FullAccess")throw new t.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,j)}async get2faDisableCleanupActions(C){const P=await this.viewState("").catch(N=>{const j=N.cause&&N.cause.name;if(j=="NO_CONTRACT_CODE")return[];throw j=="TOO_LARGE_CONTRACT_STATE"?new t.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):N}),S=P.map(({key:N})=>N.toString("base64"));return P.length?[f(C),h("clean",{keys:S},i.MULTISIG_GAS,0n)]:[]}async get2faDisableKeyConversionActions(){const{accountId:C}=this,S=(await this.getAccessKeys()).filter(({access_key:j})=>j.permission!=="FullAccess").filter(({access_key:j})=>{const k=j.permission.FunctionCall;return k.receiver_id===C&&k.method_names.length===4&&k.method_names.includes("add_request_and_confirm")}),N=r.PublicKey.from((await this.postSignedJson("/2fa/getAccessKey",{accountId:C})).publicKey);return[l(N),...S.map(({public_key:j})=>l(r.PublicKey.from(j))),...S.map(({public_key:j})=>c(r.PublicKey.from(j),d()))]}async disable(C,P){const{stateStatus:S}=await this.checkMultisigCodeAndStateStatus();if(S!==o.MultisigStateStatus.VALID_STATE&&S!==o.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new t.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let N;await this.deleteAllRequests().catch(B=>N=B);const k=[...await this.get2faDisableCleanupActions(P).catch(B=>{throw B.type==="ContractHasExistingState"&&N||B}),...await this.get2faDisableKeyConversionActions(),f(C)];return u.Logger.log("disabling 2fa for",this.accountId),await this.signAndSendTransaction({receiverId:this.accountId,actions:k})}async sendCodeDefault(){const{accountId:C}=this,{requestId:P}=this.getRequest(),S=await this.get2faMethod();return await this.postSignedJson("/2fa/send",{accountId:C,method:S,requestId:P}),P}async getCodeDefault(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}async promptAndVerify(){const C=await this.get2faMethod(),P=await this.getCode(C);try{return await this.verifyCode(P)}catch(S){if(u.Logger.warn("Error validating security code:",S),S.toString().includes("invalid 2fa code provided")||S.toString().includes("2fa code not valid"))return await this.promptAndVerify();throw S}}async verifyCodeDefault(C){const{accountId:P}=this,S=this.getRequest();if(!S)throw new Error("no request pending");const{requestId:N}=S;return await this.postSignedJson("/2fa/verify",{accountId:P,securityCode:C,requestId:N})}async getRecoveryMethods(){const{accountId:C}=this;return{accountId:C,data:await this.postSignedJson("/account/recoveryMethods",{accountId:C})}}async get2faMethod(){let{data:C}=await this.getRecoveryMethods();if(C&&C.length&&(C=C.find(N=>N.kind.indexOf("2fa-")===0)),!C)return null;const{kind:P,detail:S}=C;return{kind:P,detail:S}}async signatureFor(){const{accountId:C}=this,S=(await this.connection.provider.block({finality:"final"})).header.height.toString(),N=await this.connection.signer.signMessage(Buffer.from(S),C,this.connection.networkId),j=Buffer.from(N.signature).toString("base64");return{blockNumber:S,blockNumberSignature:j}}async postSignedJson(C,P){return await(0,a.default)(this.helperUrl+C,{body:JSON.stringify({...P,...await this.signatureFor()}),method:"POST"})}}account_2fa.Account2FA=p;const g=E=>r.PublicKey.from(E);return account_2fa}var account_creator$1={},hasRequiredAccount_creator$1;function requireAccount_creator$1(){if(hasRequiredAccount_creator$1)return account_creator$1;hasRequiredAccount_creator$1=1;var e=account_creator$1&&account_creator$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(account_creator$1,"__esModule",{value:!0}),account_creator$1.UrlAccountCreator=account_creator$1.LocalAccountCreator=account_creator$1.AccountCreator=void 0;const r=e(requireBrowser());class t{}account_creator$1.AccountCreator=t;class n extends t{constructor(i,o){super();J(this,"masterAccount");J(this,"initialBalance");this.masterAccount=i,this.initialBalance=o}async createAccount(i,o){await this.masterAccount.createAccount(i,o,this.initialBalance)}}account_creator$1.LocalAccountCreator=n;class u extends t{constructor(i,o){super();J(this,"connection");J(this,"helperUrl");this.connection=i,this.helperUrl=o}async createAccount(i,o){await(0,r.default)(`${this.helperUrl}/account`,{body:JSON.stringify({newAccountId:i,newAccountPublicKey:o.toString()}),method:"POST"})}}return account_creator$1.UrlAccountCreator=u,account_creator$1}var connection$1={},commonjs$1={},in_memory_signer={},signer$1={},hasRequiredSigner$1;function requireSigner$1(){if(hasRequiredSigner$1)return signer$1;hasRequiredSigner$1=1,Object.defineProperty(signer$1,"__esModule",{value:!0}),signer$1.Signer=void 0;class e{}return signer$1.Signer=e,signer$1}var hasRequiredIn_memory_signer;function requireIn_memory_signer(){if(hasRequiredIn_memory_signer)return in_memory_signer;hasRequiredIn_memory_signer=1,Object.defineProperty(in_memory_signer,"__esModule",{value:!0}),in_memory_signer.InMemorySigner=void 0;const e=requireCommonjs$7(),r=requireCommonjs$6(),t=requireSha256$1(),n=requireSigner$1();class u extends n.Signer{constructor(i){super();J(this,"keyStore");this.keyStore=i}static async fromKeyPair(i,o,c){const l=new r.InMemoryKeyStore;return await l.setKey(i,o,c),new u(l)}async createKey(i,o,c){const l=c===e.KeyType.SECP256K1?e.KeyPair.fromRandom("secp256k1"):e.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(o,i,l),l.getPublicKey()}async getPublicKey(i,o){const c=await this.keyStore.getKey(o,i);return c===null?null:c.getPublicKey()}async signMessage(i,o,c){const l=new Uint8Array((0,t.sha256)(i));if(!o)throw new Error("InMemorySigner requires provided account id");const f=await this.keyStore.getKey(c,o);if(f===null)throw new Error(`Key for ${o} not found in ${c}`);return f.sign(l)}toString(){return`InMemorySigner(${this.keyStore})`}}return in_memory_signer.InMemorySigner=u,in_memory_signer}var hasRequiredCommonjs$2;function requireCommonjs$2(){return hasRequiredCommonjs$2||(hasRequiredCommonjs$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var r=requireIn_memory_signer();Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return r.InMemorySigner}});var t=requireSigner$1();Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return t.Signer}})}(commonjs$1)),commonjs$1}var hasRequiredConnection$1;function requireConnection$1(){if(hasRequiredConnection$1)return connection$1;hasRequiredConnection$1=1,Object.defineProperty(connection$1,"__esModule",{value:!0}),connection$1.Connection=void 0;const e=requireCommonjs$2(),r=requireCommonjs$3();function t(a){switch(a.type){case void 0:return a;case"JsonRpcProvider":return new r.JsonRpcProvider({...a.args});case"FailoverRpcProvider":{const s=((a==null?void 0:a.args)||[]).map(i=>new r.JsonRpcProvider(i));return new r.FailoverRpcProvider(s)}default:throw new Error(`Unknown provider type ${a.type}`)}}function n(a){switch(a.type){case void 0:return a;case"InMemorySigner":return new e.InMemorySigner(a.keyStore);default:throw new Error(`Unknown signer type ${a.type}`)}}class u{constructor(s,i,o,c){J(this,"networkId");J(this,"provider");J(this,"signer");J(this,"jsvmAccountId");this.networkId=s,this.provider=i,this.signer=o,this.jsvmAccountId=c}getConnection(){return this}static fromConfig(s){const i=t(s.provider),o=n(s.signer);return new u(s.networkId,i,o,s.jsvmAccountId)}}return connection$1.Connection=u,connection$1}var contract$1={},localViewExecution={},storage={},hasRequiredStorage;function requireStorage(){if(hasRequiredStorage)return storage;hasRequiredStorage=1,Object.defineProperty(storage,"__esModule",{value:!0}),storage.Storage=void 0;const e=requireLru(),t=class t{constructor(u={max:t.MAX_ELEMENTS}){J(this,"cache");J(this,"blockHeights");this.cache=new e.LRUMap(u.max),this.blockHeights=new Map}load(u){if(!("blockId"in u))return;let s=u.blockId;return s.toString().length==44&&(s=this.blockHeights.get(s.toString())),this.cache.get(s)}save(u,{blockHeight:a,blockTimestamp:s,contractCode:i,contractState:o}){this.blockHeights.set(u,a),this.cache.set(a,{blockHeight:a,blockTimestamp:s,contractCode:i,contractState:o})}};J(t,"MAX_ELEMENTS",100);let r=t;return storage.Storage=r,storage}var runtime={},hasRequiredRuntime;function requireRuntime(){if(hasRequiredRuntime)return runtime;hasRequiredRuntime=1,Object.defineProperty(runtime,"__esModule",{value:!0}),runtime.Runtime=void 0;const e=requireSha256$1(),r=u=>()=>{throw new Error("method not implemented: "+u)},t=u=>()=>{throw new Error("method not available for view calls: "+u)};class n{constructor({contractCode:a,...s}){J(this,"context");J(this,"wasm");J(this,"memory");J(this,"registers");J(this,"logs");J(this,"result");this.context=s,this.wasm=this.prepareWASM(Buffer.from(a,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer.from([])}readUTF16CStr(a){const s=[],i=new Uint16Array(this.memory.buffer);let o=Number(a)/2;for(;i[o]!=0;)s.push(i[o]),o++;return Buffer.from(Uint16Array.from(s).buffer).toString("ucs2")}readUTF8CStr(a,s){const i=[],o=new Uint8Array(this.memory.buffer);let c=Number(s);for(let l=0;l<a&&o[c]!=0;l++)i.push(o[c]),c++;return Buffer.from(i).toString("utf8")}storageRead(a,s){const i=Buffer.from(new Uint8Array(this.memory.buffer,Number(s),Number(a))),o=this.context.contractState.filter(c=>Buffer.compare(c.key,i)===0).map(c=>c.value);return o.length===0?null:o.length>1?o:o[0]}prepareWASM(a){const s=[];if(a.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const o=a.readUInt32LE(4);if(o!=1)throw new Error("Invalid version: "+o);let c=8;s.push(a.subarray(0,c));function l(){let p=0,g=0,E;do E=a[c++],p|=(E&127)<<g,g+=7;while(E&128);return p}function f(){const g=a[c++]&1,E=l(),A=g?l():null;return{initial:E,max:A}}function d(){const p=l(),g=a.subarray(c,c+p);return c+=p,g.toString("utf8")}function h(p){const g=[];do{let E=p&127;p>>=7,p!==0&&(E|=128),g.push(E)}while(p!==0);return Buffer.from(g)}function v(p){const g=Buffer.from(p,"utf8");return Buffer.concat([h(g.length),g])}do{const p=c,g=a.readUInt8(c);c++;const E=l(),A=c+E;if(g==5)s.push(Buffer.from([5,1,0]));else if(g==2){const C=[],P=l();for(let j=0;j<P;j++){const k=c;d(),d();const B=a.readUInt8(c);c++;let L=!1;switch(B){case 0:l();break;case 1:c++,f();break;case 2:f(),L=!0;break;case 3:c++,c++;break;default:throw new Error("Invalid import kind: "+B)}L||C.push(a.subarray(k,c))}const S=Buffer.concat([v("env"),v("memory"),Buffer.from([2]),Buffer.from([0]),h(1)]);C.push(S);const N=Buffer.concat([h(C.length),...C]);s.push(Buffer.concat([Buffer.from([2]),h(N.length),N]))}else if(g==7){const C=[],P=l();for(let N=0;N<P;N++){const j=c;d();const k=a.readUInt8(c);c++,l(),k!==2&&C.push(a.subarray(j,c))}const S=Buffer.concat([h(C.length),...C]);s.push(Buffer.concat([Buffer.from([7]),h(S.length),S]))}else s.push(a.subarray(p,A));c=A}while(c<a.length);return Buffer.concat(s)}getRegisterLength(a){return BigInt(this.registers[a.toString()]?this.registers[a.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(a,s){new Uint8Array(this.memory.buffer).set(this.registers[a.toString()]||Buffer.from([]),Number(s))}getCurrentAccountId(a){this.registers[a.toString()]=Buffer.from(this.context.contractId)}inputMethodArgs(a){this.registers[a.toString()]=Buffer.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(a,s,i){const o=new Uint8Array(this.memory.buffer,Number(s),Number(a));this.registers[i.toString()]=(0,e.sha256)(o)}returnValue(a,s){this.result=Buffer.from(new Uint8Array(this.memory.buffer,Number(s),Number(a)))}panic(a){throw new Error("panic: "+a)}abort(a,s,i,o){const c=this.readUTF16CStr(a),l=this.readUTF16CStr(s),f=`${c} ${l}:${i}:${o}`;throw!c||!l?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+f)}appendToLog(a,s){this.logs.push(this.readUTF8CStr(a,s))}readStorage(a,s,i){const o=this.storageRead(a,s);return o==null?0n:(this.registers[i]=o,1n)}hasStorageKey(a,s){return this.storageRead(a,s)==null?0n:1n}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(a,s)=>this.panic(this.readUTF8CStr(a,s)),epoch_height:r("epoch_height"),storage_usage:r("storage_usage"),account_balance:r("account_balance"),account_locked_balance:r("account_locked_balance"),random_seed:r("random_seed"),ripemd160:r("ripemd160"),keccak256:r("keccak256"),keccak512:r("keccak512"),ecrecover:r("ecrecover"),validator_stake:r("validator_stake"),validator_total_stake:r("validator_total_stake"),write_register:t("write_register"),signer_account_id:t("signer_account_id"),signer_account_pk:t("signer_account_pk"),predecessor_account_id:t("predecessor_account_id"),attached_deposit:t("attached_deposit"),prepaid_gas:t("prepaid_gas"),used_gas:t("used_gas"),promise_create:t("promise_create"),promise_then:t("promise_then"),promise_and:t("promise_and"),promise_batch_create:t("promise_batch_create"),promise_batch_then:t("promise_batch_then"),promise_batch_action_create_account:t("promise_batch_action_create_account"),promise_batch_action_deploy_contract:t("promise_batch_action_deploy_contract"),promise_batch_action_function_call:t("promise_batch_action_function_call"),promise_batch_action_function_call_weight:t("promise_batch_action_function_call_weight"),promise_batch_action_transfer:t("promise_batch_action_transfer"),promise_batch_action_stake:t("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:t("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:t("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:t("promise_batch_action_delete_key"),promise_batch_action_delete_account:t("promise_batch_action_delete_account"),promise_results_count:t("promise_results_count"),promise_result:t("promise_result"),promise_return:t("promise_return"),storage_write:t("storage_write"),storage_remove:t("storage_remove")}}async execute(a){const s=await WebAssembly.compile(this.wasm),o=(await WebAssembly.instantiate(s,{env:{...this.getHostImports(),memory:this.memory}})).exports[a];if(o==null)throw new Error(`Contract method '${a}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return o(),{result:this.result,logs:this.logs}}}return runtime.Runtime=n,runtime}var hasRequiredLocalViewExecution;function requireLocalViewExecution(){if(hasRequiredLocalViewExecution)return localViewExecution;hasRequiredLocalViewExecution=1,Object.defineProperty(localViewExecution,"__esModule",{value:!0}),localViewExecution.LocalViewExecution=void 0;const e=requireCommonjs$8(),r=requireStorage(),t=requireRuntime(),n=requireUtils();class u{constructor(s){J(this,"connection");J(this,"storage");this.connection=s.getConnection(),this.storage=new r.Storage}async fetchContractCode(s,i){return(await this.connection.provider.query({request_type:"view_code",account_id:s,...i})).code_base64}async fetchContractState(s,i){return(0,n.viewState)(this.connection,s,"",i)}async fetch(s,i){const o=await this.connection.provider.block(i),c=o.header.hash,l=o.header.height,f=o.header.timestamp,d=await this.fetchContractCode(s,i),h=await this.fetchContractState(s,i);return{blockHash:c,blockHeight:l,blockTimestamp:f,contractCode:d,contractState:h}}async loadOrFetch(s,i){const o=this.storage.load(i);if(o)return o;const{blockHash:c,...l}=await this.fetch(s,i);return this.storage.save(c,l),l}async viewFunction({contractId:s,methodName:i,args:o={},blockQuery:c={finality:"optimistic"}}){const l=JSON.stringify(o),{contractCode:f,contractState:d,blockHeight:h,blockTimestamp:v}=await this.loadOrFetch(s,c),p=new t.Runtime({contractId:s,contractCode:f,contractState:d,blockHeight:h,blockTimestamp:v,methodArgs:l}),{result:g,logs:E}=await p.execute(i);return E&&(0,e.printTxOutcomeLogs)({contractId:s,logs:E}),JSON.parse(Buffer.from(g).toString())}}return localViewExecution.LocalViewExecution=u,localViewExecution}var lib={},hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbiSerializationType=e.AbiFunctionModifier=e.AbiFunctionKind=e.SCHEMA_VERSION=void 0,e.SCHEMA_VERSION="0.3.0",function(r){r.View="view",r.Call="call"}(e.AbiFunctionKind||(e.AbiFunctionKind={})),function(r){r.Init="init",r.Private="private",r.Payable="payable"}(e.AbiFunctionModifier||(e.AbiFunctionModifier={})),function(r){r.Json="json",r.Borsh="borsh"}(e.AbiSerializationType||(e.AbiSerializationType={}))}(lib)),lib}var errors={},hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.ConflictingOptions=errors.ArgumentSchemaError=errors.UnknownArgumentError=errors.UnsupportedSerializationError=void 0;class e extends Error{constructor(a,s){super(`Contract method '${a}' is using an unsupported serialization type ${s}`)}}errors.UnsupportedSerializationError=e;class r extends Error{constructor(a,s){super(`Unrecognized argument '${a}', expected '${JSON.stringify(s)}'`)}}errors.UnknownArgumentError=r;class t extends Error{constructor(a,s){super(`Argument '${a}' does not conform to the specified ABI schema: '${JSON.stringify(s)}'`)}}errors.ArgumentSchemaError=t;class n extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}return errors.ConflictingOptions=n,errors}var hasRequiredContract$1;function requireContract$1(){if(hasRequiredContract$1)return contract$1;hasRequiredContract$1=1;var e=contract$1&&contract$1.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(contract$1,"__esModule",{value:!0}),contract$1.Contract=void 0;const r=requireCommonjs$8(),t=requireCommonjs$9(),n=requireLocalViewExecution(),u=e(requireIsMyJsonValid()),a=e(requireBrowser$2()),s=requireLib(),i=requireAccount$1(),o=requireErrors(),c=requireUtils();function l(g,E){return{[g](...A){return E(...A)}}[g]}function f(g,E,A){var P;if(!h(g))return;if(E.params&&E.params.serialization_type!==s.AbiSerializationType.Json)throw new o.UnsupportedSerializationError(E.name,E.params.serialization_type);if(E.result&&E.result.serialization_type!==s.AbiSerializationType.Json)throw new o.UnsupportedSerializationError(E.name,E.result.serialization_type);const C=((P=E.params)==null?void 0:P.args)||[];for(const S of C){const N=g[S.name],j=S.type_schema;j.definitions=A.body.root_schema.definitions;const k=(0,u.default)(j);if(!k(N))throw new o.ArgumentSchemaError(S.name,k.errors)}for(const S of Object.keys(g))if(!C.find(j=>j.name===S))throw new o.UnknownArgumentError(S,C.map(j=>j.name))}const d=g=>g&&g.byteLength!==void 0&&g.byteLength===g.length,h=g=>Object.prototype.toString.call(g)==="[object Object]";class v{constructor(E,A,C){J(this,"account");J(this,"connection");J(this,"contractId");J(this,"lve");this.connection=E.getConnection(),E instanceof i.Account&&((0,a.default)("new Contract(account, contractId, options)")("use `new Contract(connection, contractId, options)` instead"),this.account=E),this.contractId=A,this.lve=new n.LocalViewExecution(E);const{viewMethods:P=[],changeMethods:S=[],abi:N,useLocalViewExecution:j}=C;let k=P.map(L=>({name:L,abi:null})),B=S.map(L=>({name:L,abi:null}));if(N){if(k.length>0||B.length>0)throw new o.ConflictingOptions;k=N.body.functions.filter(L=>L.kind===s.AbiFunctionKind.View).map(L=>({name:L.name,abi:L})),B=N.body.functions.filter(L=>L.kind===s.AbiFunctionKind.Call).map(L=>({name:L.name,abi:L}))}k.forEach(({name:L,abi:R})=>{Object.defineProperty(this,L,{writable:!1,enumerable:!0,value:l(L,async(y={},_={},...b)=>{if(b.length||!(h(y)||d(y))||!h(_))throw new t.PositionalArgsError;if(R&&f(y,R,N),j)try{return await this.lve.viewFunction({contractId:this.contractId,methodName:L,args:y,..._})}catch(w){r.Logger.warn(`Local view execution failed with: "${w.message}"`),r.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction({contractId:this.contractId,methodName:L,args:y,..._}):(0,c.viewFunction)(this.connection,{contractId:this.contractId,methodName:L,args:y,..._})})})}),B.forEach(({name:L,abi:R})=>{Object.defineProperty(this,L,{writable:!1,enumerable:!0,value:l(L,async(...y)=>{if(y.length&&(y.length>3||!(h(y[0])||d(y[0]))))throw new t.PositionalArgsError;return(y.length>1||!(y[0]&&y[0].args))&&((0,a.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),y[0]={args:y[0],gas:y[1],amount:y[2]}),R&&f(y[0].args,R,N),this._changeMethod({methodName:L,...y[0]})})})})}async _changeMethod({signerAccount:E,args:A,methodName:C,gas:P,amount:S,meta:N,callbackUrl:j}){p({gas:P,amount:S});const k=this.account||E;if(!k)throw new Error("signerAccount must be specified");const B=await k.functionCall({contractId:this.contractId,methodName:C,args:A,gas:P,attachedDeposit:S,walletMeta:N,walletCallbackUrl:j});return(0,r.getTransactionLastResult)(B)}}contract$1.Contract=v;function p(g){const E="number, decimal string or BigInt";for(const A of Object.keys(g)){const C=g[A];if(C&&typeof C!="bigint"&&isNaN(C))throw new t.ArgumentTypeError(A,E,C)}}return contract$1}var hasRequiredCommonjs$1;function requireCommonjs$1(){return hasRequiredCommonjs$1||(hasRequiredCommonjs$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=e.Contract=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.Connection=e.AccountMultisig=e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=e.Account2FA=e.Account=void 0;var r=requireAccount$1();Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return r.Account}});var t=requireAccount_2fa();Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return t.Account2FA}});var n=requireAccount_creator$1();Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return n.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return n.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return n.UrlAccountCreator}});var u=requireAccount_multisig$1();Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return u.AccountMultisig}});var a=requireConnection$1();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return a.Connection}});var s=requireConstants();Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return s.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return s.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return s.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return s.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return s.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return s.MULTISIG_CONFIRM_METHODS}});var i=requireContract$1();Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return i.Contract}});var o=requireErrors();Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return o.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return o.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return o.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return o.UnsupportedSerializationError}});var c=requireTypes();Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return c.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return c.MultisigStateStatus}})}(commonjs$2)),commonjs$2}var hasRequiredAccount;function requireAccount(){return hasRequiredAccount||(hasRequiredAccount=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;var r=requireCommonjs$1();Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return r.Account}})}(account$1)),account$1}var account_multisig={},hasRequiredAccount_multisig;function requireAccount_multisig(){return hasRequiredAccount_multisig||(hasRequiredAccount_multisig=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.AccountMultisig=e.Account2FA=void 0;var r=requireCommonjs$1();Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return r.Account2FA}}),Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return r.AccountMultisig}}),Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return r.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return r.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return r.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return r.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return r.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return r.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return r.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return r.MultisigStateStatus}})}(account_multisig)),account_multisig}var account_creator={},hasRequiredAccount_creator;function requireAccount_creator(){return hasRequiredAccount_creator||(hasRequiredAccount_creator=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;var r=requireCommonjs$1();Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return r.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return r.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return r.UrlAccountCreator}})}(account_creator)),account_creator}var connection={},hasRequiredConnection;function requireConnection(){return hasRequiredConnection||(hasRequiredConnection=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var r=requireCommonjs$1();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return r.Connection}})}(connection)),connection}var signer={},hasRequiredSigner;function requireSigner(){return hasRequiredSigner||(hasRequiredSigner=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var r=requireCommonjs$2();Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return r.InMemorySigner}}),Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return r.Signer}})}(signer)),signer}var contract={},hasRequiredContract;function requireContract(){return hasRequiredContract||(hasRequiredContract=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;var r=requireCommonjs$1();Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return r.Contract}})}(contract)),contract}var near$1={},commonjs={},near={},hasRequiredNear$1;function requireNear$1(){if(hasRequiredNear$1)return near;hasRequiredNear$1=1,Object.defineProperty(near,"__esModule",{value:!0}),near.Near=void 0;const e=requireCommonjs$1();class r{constructor(n){J(this,"config");J(this,"connection");J(this,"accountCreator");var u;if(this.config=n,this.connection=e.Connection.fromConfig({networkId:n.networkId,provider:n.provider||{type:"JsonRpcProvider",args:{url:n.nodeUrl,headers:n.headers}},signer:n.signer||{type:"InMemorySigner",keyStore:n.keyStore||((u=n.deps)==null?void 0:u.keyStore)},jsvmAccountId:n.jsvmAccountId||`jsvm.${n.networkId}`}),n.masterAccount){const a=n.initialBalance?BigInt(n.initialBalance):500000000000000000000000000n;this.accountCreator=new e.LocalAccountCreator(new e.Account(this.connection,n.masterAccount),a)}else n.helperUrl?this.accountCreator=new e.UrlAccountCreator(this.connection,n.helperUrl):this.accountCreator=null}async account(n){return new e.Account(this.connection,n)}async createAccount(n,u){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return await this.accountCreator.createAccount(n,u),new e.Account(this.connection,n)}}return near.Near=r,near}var wallet_account={},hasRequiredWallet_account;function requireWallet_account(){if(hasRequiredWallet_account)return wallet_account;hasRequiredWallet_account=1,Object.defineProperty(wallet_account,"__esModule",{value:!0}),wallet_account.ConnectedWalletAccount=wallet_account.WalletConnection=void 0;const e=requireCommonjs$1(),r=requireCommonjs$7(),t=requireCommonjs$8(),n=requireCommonjs$4(),u=requireCjs(),a="/login/",s="add_request_and_confirm",i="_wallet_auth_key",o="pending_key";class c{constructor(d,h){J(this,"_walletBaseUrl");J(this,"_authDataKey");J(this,"_keyStore");J(this,"_authData");J(this,"_networkId");J(this,"_near");J(this,"_connectedAccount");J(this,"_completeSignInPromise");if(typeof h!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(g,E){return E==="isSignedIn"?()=>!1:E==="getAccountId"?()=>"":g[E]&&typeof g[E]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:g[E]}});this._near=d;const v=h+i,p=JSON.parse(window.localStorage.getItem(v));this._networkId=d.config.networkId,this._walletBaseUrl=d.config.walletUrl,h=h||d.config.contractName||"default",this._keyStore=d.connection.signer.keyStore,this._authData=p||{allKeys:[]},this._authDataKey=v,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}async isSignedInAsync(){return this._completeSignInPromise?(await this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()}getAccountId(){return this._authData.accountId||""}async requestSignInUrl({contractId:d,methodNames:h,successUrl:v,failureUrl:p,keyType:g="ed25519"}){const E=new URL(window.location.href),A=new URL(this._walletBaseUrl+a);if(A.searchParams.set("success_url",v||E.href),A.searchParams.set("failure_url",p||E.href),d){await(await this._near.account(d)).state(),A.searchParams.set("contract_id",d);const P=r.KeyPair.fromRandom(g);A.searchParams.set("public_key",P.getPublicKey().toString()),await this._keyStore.setKey(this._networkId,o+P.getPublicKey(),P)}return h&&h.forEach(C=>{A.searchParams.append("methodNames",C)}),A.toString()}async requestSignIn(d){const h=await this.requestSignInUrl(d);window.location.assign(h)}requestSignTransactionsUrl({transactions:d,meta:h,callbackUrl:v}){const p=new URL(window.location.href),g=new URL("sign",this._walletBaseUrl);return g.searchParams.set("transactions",d.map(E=>(0,u.serialize)(n.SCHEMA.Transaction,E)).map(E=>Buffer.from(E).toString("base64")).join(",")),g.searchParams.set("callbackUrl",v||p.href),h&&g.searchParams.set("meta",h),g.toString()}requestSignTransactions(d){const h=this.requestSignTransactionsUrl(d);window.location.assign(h)}async _completeSignInWithAccessKey(){const d=new URL(window.location.href),h=d.searchParams.get("public_key")||"",v=(d.searchParams.get("all_keys")||"").split(","),p=d.searchParams.get("account_id")||"";if(p){const g={accountId:p,allKeys:v};window.localStorage.setItem(this._authDataKey,JSON.stringify(g)),h&&await this._moveKeyFromTempToPermanent(p,h),this._authData=g}d.searchParams.delete("public_key"),d.searchParams.delete("all_keys"),d.searchParams.delete("account_id"),d.searchParams.delete("meta"),d.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,d.toString())}async _moveKeyFromTempToPermanent(d,h){const v=await this._keyStore.getKey(this._networkId,o+h);await this._keyStore.setKey(this._networkId,d,v),await this._keyStore.removeKey(this._networkId,o+h)}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new l(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}wallet_account.WalletConnection=c;class l extends e.Account{constructor(h,v,p){super(v,p);J(this,"walletConnection");this.walletConnection=h}async signAndSendTransaction({receiverId:h,actions:v,walletMeta:p,walletCallbackUrl:g=window.location.href}){const E=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let A=await this.accessKeyForTransaction(h,v,E);if(!A)throw new Error(`Cannot find matching key for transaction sent to ${h}`);if(E&&E.toString()===A.public_key)try{return await super.signAndSendTransaction({receiverId:h,actions:v})}catch(k){if(k.type==="NotEnoughAllowance")A=await this.accessKeyForTransaction(h,v);else throw k}const C=await this.connection.provider.block({finality:"final"}),P=(0,t.baseDecode)(C.header.hash),S=r.PublicKey.from(A.public_key),N=A.access_key.nonce+1n,j=(0,n.createTransaction)(this.accountId,S,h,N,v,P);return await this.walletConnection.requestSignTransactions({transactions:[j],meta:p,callbackUrl:g}),new Promise((k,B)=>{setTimeout(()=>{B(new Error("Failed to redirect to sign transaction"))},1e3)})}async accessKeyMatchesTransaction(h,v,p){const{access_key:{permission:g}}=h;if(g==="FullAccess")return!0;if(g.FunctionCall){const{receiver_id:E,method_names:A}=g.FunctionCall;if(E===this.accountId&&A.includes(s))return!0;if(E===v){if(p.length!==1)return!1;const[{functionCall:C}]=p;return C&&(!C.deposit||C.deposit.toString()==="0")&&(A.length===0||A.includes(C.methodName))}}return!1}async accessKeyForTransaction(h,v,p){const g=await this.getAccessKeys();if(p){const A=g.find(C=>C.public_key.toString()===p.toString());if(A&&await this.accessKeyMatchesTransaction(A,h,v))return A}const E=this.walletConnection._authData.allKeys;for(const A of g)if(E.indexOf(A.public_key)!==-1&&await this.accessKeyMatchesTransaction(A,h,v))return A;return null}}return wallet_account.ConnectedWalletAccount=l,wallet_account}var hasRequiredCommonjs;function requireCommonjs(){return hasRequiredCommonjs||(hasRequiredCommonjs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=void 0;var r=requireNear$1();Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return r.Near}});var t=requireWallet_account();Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return t.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return t.WalletConnection}})}(commonjs)),commonjs}var hasRequiredNear;function requireNear(){return hasRequiredNear||(hasRequiredNear=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;var r=requireCommonjs();Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return r.Near}})}(near$1)),near$1}var walletAccount={},hasRequiredWalletAccount;function requireWalletAccount(){return hasRequiredWalletAccount||(hasRequiredWalletAccount=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=void 0;var r=requireCommonjs();Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return r.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return r.WalletConnection}})}(walletAccount)),walletAccount}var hasRequiredCommonIndex;function requireCommonIndex(){return hasRequiredCommonIndex||(hasRequiredCommonIndex=1,function(e){var r=commonIndex&&commonIndex.__createBinding||(Object.create?function(E,A,C,P){P===void 0&&(P=C);var S=Object.getOwnPropertyDescriptor(A,C);(!S||("get"in S?!A.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return A[C]}}),Object.defineProperty(E,P,S)}:function(E,A,C,P){P===void 0&&(P=C),E[P]=A[C]}),t=commonIndex&&commonIndex.__setModuleDefault||(Object.create?function(E,A){Object.defineProperty(E,"default",{enumerable:!0,value:A})}:function(E,A){E.default=A}),n=commonIndex&&commonIndex.__importStar||function(E){if(E&&E.__esModule)return E;var A={};if(E!=null)for(var C in E)C!=="default"&&Object.prototype.hasOwnProperty.call(E,C)&&r(A,E,C);return t(A,E),A};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const u=n(requireProviders());e.providers=u;const a=n(requireUtils$1());e.utils=a;const s=n(requireTransaction());e.transactions=s;const i=n(requireValidators());e.validators=i;const o=requireAccount();Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return o.Account}});const c=n(requireAccount_multisig());e.multisig=c;const l=n(requireAccount_creator());e.accountCreator=l;const f=requireConnection();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return f.Connection}});const d=requireSigner();Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return d.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return d.InMemorySigner}});const h=requireContract();Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return h.Contract}});const v=requireKey_pair();Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return v.KeyPair}});const p=requireNear();Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return p.Near}});const g=requireWalletAccount();Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return g.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return g.WalletConnection}})}(commonIndex)),commonIndex}var browserConnect={},hasRequiredBrowserConnect;function requireBrowserConnect(){if(hasRequiredBrowserConnect)return browserConnect;hasRequiredBrowserConnect=1,Object.defineProperty(browserConnect,"__esModule",{value:!0}),browserConnect.connect=void 0;const e=requireNear();async function r(t){return new e.Near(t)}return browserConnect.connect=r,browserConnect}var hasRequiredBrowserIndex;function requireBrowserIndex(){return hasRequiredBrowserIndex||(hasRequiredBrowserIndex=1,function(e){var r=browserIndex$2&&browserIndex$2.__createBinding||(Object.create?function(a,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(a,o,c)}:function(a,s,i,o){o===void 0&&(o=i),a[o]=s[i]}),t=browserIndex$2&&browserIndex$2.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),n=browserIndex$2&&browserIndex$2.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var i in a)i!=="default"&&Object.prototype.hasOwnProperty.call(a,i)&&r(s,a,i);return t(s,a),s},u=browserIndex$2&&browserIndex$2.__exportStar||function(a,s){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&r(s,a,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=void 0,e.keyStores=n(requireBrowserIndex$1()),u(requireCommonIndex(),e),u(requireBrowserConnect(),e)}(browserIndex$2)),browserIndex$2}var browserIndexExports=requireBrowserIndex();const browserIndex=getDefaultExportFromCjs(browserIndexExports),nearAPI=_mergeNamespaces({__proto__:null,default:browserIndex},[browserIndexExports]),{transactions,utils}=nearAPI,getAccessKey=e=>{if(e==="FullAccess")return transactions.fullAccessKey();const{receiverId:r,methodNames:t=[]}=e,n=e.allowance?BigInt(e.allowance):void 0;return transactions.functionCallAccessKey(r,t,n)},createAction=e=>{switch(e.type){case"CreateAccount":return transactions.createAccount();case"DeployContract":{const{code:r}=e.params;return transactions.deployContract(r)}case"FunctionCall":{const{methodName:r,args:t,gas:n,deposit:u}=e.params;return transactions.functionCall(r,t,BigInt(n),BigInt(u))}case"Transfer":{const{deposit:r}=e.params;return transactions.transfer(BigInt(r))}case"Stake":{const{stake:r,publicKey:t}=e.params;return transactions.stake(BigInt(r),utils.PublicKey.from(t))}case"AddKey":{const{publicKey:r,accessKey:t}=e.params;return transactions.addKey(utils.PublicKey.from(r),getAccessKey(t.permission))}case"DeleteKey":{const{publicKey:r}=e.params;return transactions.deleteKey(utils.PublicKey.from(r))}case"DeleteAccount":{const{beneficiaryId:r}=e.params;return transactions.deleteAccount(r)}default:throw new Error("Invalid action type")}};var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},fails$d$1=function(e){try{return!!e()}catch{return!0}},fails$c$1=fails$d$1,functionBindNative$1=!fails$c$1(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$3$1=functionBindNative$1,FunctionPrototype$2$1=Function.prototype,call$d$1=FunctionPrototype$2$1.call,uncurryThisWithBind$1=NATIVE_BIND$3$1&&FunctionPrototype$2$1.bind.bind(call$d$1,call$d$1),functionUncurryThis$1=NATIVE_BIND$3$1?uncurryThisWithBind$1:function(e){return function(){return call$d$1.apply(e,arguments)}},uncurryThis$d$1=functionUncurryThis$1,toString$2$1=uncurryThis$d$1({}.toString),stringSlice$1$1=uncurryThis$d$1("".slice),classofRaw$2$1=function(e){return stringSlice$1$1(toString$2$1(e),8,-1)},uncurryThis$c$1=functionUncurryThis$1,fails$b$1=fails$d$1,classof$5$1=classofRaw$2$1,$Object$4$1=Object,split$4=uncurryThis$c$1("".split),indexedObject$1=fails$b$1(function(){return!$Object$4$1("z").propertyIsEnumerable(0)})?function(e){return classof$5$1(e)==="String"?split$4(e,""):$Object$4$1(e)}:$Object$4$1,isNullOrUndefined$4$1=function(e){return e==null},isNullOrUndefined$3$1=isNullOrUndefined$4$1,$TypeError$c$1=TypeError,requireObjectCoercible$3$1=function(e){if(isNullOrUndefined$3$1(e))throw new $TypeError$c$1("Can't call method on "+e);return e},IndexedObject$2=indexedObject$1,requireObjectCoercible$2$1=requireObjectCoercible$3$1,toIndexedObject$5$1=function(e){return IndexedObject$2(requireObjectCoercible$2$1(e))},check$1=function(e){return e&&e.Math===Math&&e},globalThis_1$1=check$1(typeof globalThis=="object"&&globalThis)||check$1(typeof window=="object"&&window)||check$1(typeof self=="object"&&self)||check$1(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||check$1(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),sharedStore$1={exports:{}},globalThis$j$1=globalThis_1$1,defineProperty$5$1=Object.defineProperty,defineGlobalProperty$3$1=function(e,r){try{defineProperty$5$1(globalThis$j$1,e,{value:r,configurable:!0,writable:!0})}catch{globalThis$j$1[e]=r}return r},globalThis$i$1=globalThis_1$1,defineGlobalProperty$2$1=defineGlobalProperty$3$1,SHARED$1="__core-js_shared__",store$3$1=sharedStore$1.exports=globalThis$i$1[SHARED$1]||defineGlobalProperty$2$1(SHARED$1,{});(store$3$1.versions||(store$3$1.versions=[])).push({version:"3.41.0",mode:"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"});var store$2$1=sharedStore$1.exports,shared$3$1=function(e,r){return store$2$1[e]||(store$2$1[e]=r||{})},requireObjectCoercible$1$1=requireObjectCoercible$3$1,$Object$3$1=Object,toObject$2$1=function(e){return $Object$3$1(requireObjectCoercible$1$1(e))},uncurryThis$b$1=functionUncurryThis$1,toObject$1$1=toObject$2$1,hasOwnProperty$1=uncurryThis$b$1({}.hasOwnProperty),hasOwnProperty_1$1=Object.hasOwn||function e(r,t){return hasOwnProperty$1(toObject$1$1(r),t)},uncurryThis$a$1=functionUncurryThis$1,id$1=0,postfix$1=Math.random(),toString$1$1=uncurryThis$a$1(1 .toString),uid$2$1=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$1$1(++id$1+postfix$1,36)},globalThis$h$1=globalThis_1$1,navigator$2=globalThis$h$1.navigator,userAgent$5$1=navigator$2&&navigator$2.userAgent,environmentUserAgent$1=userAgent$5$1?String(userAgent$5$1):"",globalThis$g$1=globalThis_1$1,userAgent$4$1=environmentUserAgent$1,process$3$1=globalThis$g$1.process,Deno$1$1=globalThis$g$1.Deno,versions$1=process$3$1&&process$3$1.versions||Deno$1$1&&Deno$1$1.version,v8$1=versions$1&&versions$1.v8,match$1,version$1;v8$1&&(match$1=v8$1.split("."),version$1=match$1[0]>0&&match$1[0]<4?1:+(match$1[0]+match$1[1]));!version$1&&userAgent$4$1&&(match$1=userAgent$4$1.match(/Edge\/(\d+)/),(!match$1||match$1[1]>=74)&&(match$1=userAgent$4$1.match(/Chrome\/(\d+)/),match$1&&(version$1=+match$1[1])));var environmentV8Version$1=version$1,V8_VERSION$1$1=environmentV8Version$1,fails$a$1=fails$d$1,globalThis$f$1=globalThis_1$1,$String$5$1=globalThis$f$1.String,symbolConstructorDetection$1=!!Object.getOwnPropertySymbols&&!fails$a$1(function(){var e=Symbol("symbol detection");return!$String$5$1(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1$1&&V8_VERSION$1$1<41}),NATIVE_SYMBOL$1$1=symbolConstructorDetection$1,useSymbolAsUid$1=NATIVE_SYMBOL$1$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",globalThis$e$1=globalThis_1$1,shared$2$1=shared$3$1,hasOwn$a$1=hasOwnProperty_1$1,uid$1$1=uid$2$1,NATIVE_SYMBOL$2=symbolConstructorDetection$1,USE_SYMBOL_AS_UID$1$1=useSymbolAsUid$1,Symbol$1$1=globalThis$e$1.Symbol,WellKnownSymbolsStore$1=shared$2$1("wks"),createWellKnownSymbol$1=USE_SYMBOL_AS_UID$1$1?Symbol$1$1.for||Symbol$1$1:Symbol$1$1&&Symbol$1$1.withoutSetter||uid$1$1,wellKnownSymbol$e$1=function(e){return hasOwn$a$1(WellKnownSymbolsStore$1,e)||(WellKnownSymbolsStore$1[e]=NATIVE_SYMBOL$2&&hasOwn$a$1(Symbol$1$1,e)?Symbol$1$1[e]:createWellKnownSymbol$1("Symbol."+e)),WellKnownSymbolsStore$1[e]},documentAll$1=typeof document=="object"&&document.all,isCallable$j$1=typeof documentAll$1>"u"&&documentAll$1!==void 0?function(e){return typeof e=="function"||e===documentAll$1}:function(e){return typeof e=="function"},isCallable$i$1=isCallable$j$1,isObject$a$1=function(e){return typeof e=="object"?e!==null:isCallable$i$1(e)},isObject$9$1=isObject$a$1,$String$4$1=String,$TypeError$b$1=TypeError,anObject$b$1=function(e){if(isObject$9$1(e))return e;throw new $TypeError$b$1($String$4$1(e)+" is not an object")},objectDefineProperties$1={},fails$9$1=fails$d$1,descriptors$1=!fails$9$1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),DESCRIPTORS$a$1=descriptors$1,fails$8$1=fails$d$1,v8PrototypeDefineBug$1=DESCRIPTORS$a$1&&fails$8$1(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),objectDefineProperty$1={},globalThis$d$1=globalThis_1$1,isObject$8$1=isObject$a$1,document$3$1=globalThis$d$1.document,EXISTS$1$1=isObject$8$1(document$3$1)&&isObject$8$1(document$3$1.createElement),documentCreateElement$2$1=function(e){return EXISTS$1$1?document$3$1.createElement(e):{}},DESCRIPTORS$9$1=descriptors$1,fails$7$1=fails$d$1,createElement$1$1=documentCreateElement$2$1,ie8DomDefine$1=!DESCRIPTORS$9$1&&!fails$7$1(function(){return Object.defineProperty(createElement$1$1("div"),"a",{get:function(){return 7}}).a!==7}),NATIVE_BIND$2$1=functionBindNative$1,call$c$1=Function.prototype.call,functionCall$1=NATIVE_BIND$2$1?call$c$1.bind(call$c$1):function(){return call$c$1.apply(call$c$1,arguments)},globalThis$c$1=globalThis_1$1,isCallable$h$1=isCallable$j$1,aFunction$1=function(e){return isCallable$h$1(e)?e:void 0},getBuiltIn$7$1=function(e,r){return arguments.length<2?aFunction$1(globalThis$c$1[e]):globalThis$c$1[e]&&globalThis$c$1[e][r]},uncurryThis$9$1=functionUncurryThis$1,objectIsPrototypeOf$1=uncurryThis$9$1({}.isPrototypeOf),getBuiltIn$6$1=getBuiltIn$7$1,isCallable$g$1=isCallable$j$1,isPrototypeOf$3$1=objectIsPrototypeOf$1,USE_SYMBOL_AS_UID$2=useSymbolAsUid$1,$Object$2$1=Object,isSymbol$2$1=USE_SYMBOL_AS_UID$2?function(e){return typeof e=="symbol"}:function(e){var r=getBuiltIn$6$1("Symbol");return isCallable$g$1(r)&&isPrototypeOf$3$1(r.prototype,$Object$2$1(e))},$String$3$1=String,tryToString$4$1=function(e){try{return $String$3$1(e)}catch{return"Object"}},isCallable$f$1=isCallable$j$1,tryToString$3$1=tryToString$4$1,$TypeError$a$1=TypeError,aCallable$8$1=function(e){if(isCallable$f$1(e))return e;throw new $TypeError$a$1(tryToString$3$1(e)+" is not a function")},aCallable$7$1=aCallable$8$1,isNullOrUndefined$2$1=isNullOrUndefined$4$1,getMethod$3$1=function(e,r){var t=e[r];return isNullOrUndefined$2$1(t)?void 0:aCallable$7$1(t)},call$b$1=functionCall$1,isCallable$e$1=isCallable$j$1,isObject$7$1=isObject$a$1,$TypeError$9$1=TypeError,ordinaryToPrimitive$1$1=function(e,r){var t,n;if(r==="string"&&isCallable$e$1(t=e.toString)&&!isObject$7$1(n=call$b$1(t,e))||isCallable$e$1(t=e.valueOf)&&!isObject$7$1(n=call$b$1(t,e))||r!=="string"&&isCallable$e$1(t=e.toString)&&!isObject$7$1(n=call$b$1(t,e)))return n;throw new $TypeError$9$1("Can't convert object to primitive value")},call$a$1=functionCall$1,isObject$6$1=isObject$a$1,isSymbol$1$1=isSymbol$2$1,getMethod$2$1=getMethod$3$1,ordinaryToPrimitive$2=ordinaryToPrimitive$1$1,wellKnownSymbol$d$1=wellKnownSymbol$e$1,$TypeError$8$1=TypeError,TO_PRIMITIVE$1=wellKnownSymbol$d$1("toPrimitive"),toPrimitive$1$1=function(e,r){if(!isObject$6$1(e)||isSymbol$1$1(e))return e;var t=getMethod$2$1(e,TO_PRIMITIVE$1),n;if(t){if(r===void 0&&(r="default"),n=call$a$1(t,e,r),!isObject$6$1(n)||isSymbol$1$1(n))return n;throw new $TypeError$8$1("Can't convert object to primitive value")}return r===void 0&&(r="number"),ordinaryToPrimitive$2(e,r)},toPrimitive$2=toPrimitive$1$1,isSymbol$3=isSymbol$2$1,toPropertyKey$2$1=function(e){var r=toPrimitive$2(e,"string");return isSymbol$3(r)?r:r+""},DESCRIPTORS$8$1=descriptors$1,IE8_DOM_DEFINE$1$1=ie8DomDefine$1,V8_PROTOTYPE_DEFINE_BUG$1$1=v8PrototypeDefineBug$1,anObject$a$1=anObject$b$1,toPropertyKey$1$1=toPropertyKey$2$1,$TypeError$7$1=TypeError,$defineProperty$1=Object.defineProperty,$getOwnPropertyDescriptor$1$1=Object.getOwnPropertyDescriptor,ENUMERABLE$1="enumerable",CONFIGURABLE$1$1="configurable",WRITABLE$1="writable";objectDefineProperty$1.f=DESCRIPTORS$8$1?V8_PROTOTYPE_DEFINE_BUG$1$1?function e(r,t,n){if(anObject$a$1(r),t=toPropertyKey$1$1(t),anObject$a$1(n),typeof r=="function"&&t==="prototype"&&"value"in n&&WRITABLE$1 in n&&!n[WRITABLE$1]){var u=$getOwnPropertyDescriptor$1$1(r,t);u&&u[WRITABLE$1]&&(r[t]=n.value,n={configurable:CONFIGURABLE$1$1 in n?n[CONFIGURABLE$1$1]:u[CONFIGURABLE$1$1],enumerable:ENUMERABLE$1 in n?n[ENUMERABLE$1]:u[ENUMERABLE$1],writable:!1})}return $defineProperty$1(r,t,n)}:$defineProperty$1:function e(r,t,n){if(anObject$a$1(r),t=toPropertyKey$1$1(t),anObject$a$1(n),IE8_DOM_DEFINE$1$1)try{return $defineProperty$1(r,t,n)}catch{}if("get"in n||"set"in n)throw new $TypeError$7$1("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var ceil$1=Math.ceil,floor$4=Math.floor,mathTrunc$1=Math.trunc||function e(r){var t=+r;return(t>0?floor$4:ceil$1)(t)},trunc2$1=mathTrunc$1,toIntegerOrInfinity$2$1=function(e){var r=+e;return r!==r||r===0?0:trunc2$1(r)},toIntegerOrInfinity$1$1=toIntegerOrInfinity$2$1,max$1=Math.max,min$1$1=Math.min,toAbsoluteIndex$1$1=function(e,r){var t=toIntegerOrInfinity$1$1(e);return t<0?max$1(t+r,0):min$1$1(t,r)},toIntegerOrInfinity$4=toIntegerOrInfinity$2$1,min$2=Math.min,toLength$1$1=function(e){var r=toIntegerOrInfinity$4(e);return r>0?min$2(r,9007199254740991):0},toLength$2=toLength$1$1,lengthOfArrayLike$2$1=function(e){return toLength$2(e.length)},toIndexedObject$4$1=toIndexedObject$5$1,toAbsoluteIndex$3=toAbsoluteIndex$1$1,lengthOfArrayLike$1$1=lengthOfArrayLike$2$1,createMethod$2=function(e){return function(r,t,n){var u=toIndexedObject$4$1(r),a=lengthOfArrayLike$1$1(u);if(a===0)return!e&&-1;var s=toAbsoluteIndex$3(n,a),i;if(e&&t!==t){for(;a>s;)if(i=u[s++],i!==i)return!0}else for(;a>s;s++)if((e||s in u)&&u[s]===t)return e||s||0;return!e&&-1}},arrayIncludes$1={indexOf:createMethod$2(!1)},hiddenKeys$4$1={},uncurryThis$8$1=functionUncurryThis$1,hasOwn$9$1=hasOwnProperty_1$1,toIndexedObject$3$1=toIndexedObject$5$1,indexOf$1=arrayIncludes$1.indexOf,hiddenKeys$3$1=hiddenKeys$4$1,push$4=uncurryThis$8$1([].push),objectKeysInternal$1=function(e,r){var t=toIndexedObject$3$1(e),n=0,u=[],a;for(a in t)!hasOwn$9$1(hiddenKeys$3$1,a)&&hasOwn$9$1(t,a)&&push$4(u,a);for(;r.length>n;)hasOwn$9$1(t,a=r[n++])&&(~indexOf$1(u,a)||push$4(u,a));return u},enumBugKeys$3$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$1=objectKeysInternal$1,enumBugKeys$2$1=enumBugKeys$3$1,objectKeys$1$1=Object.keys||function e(r){return internalObjectKeys$1$1(r,enumBugKeys$2$1)},DESCRIPTORS$7$1=descriptors$1,V8_PROTOTYPE_DEFINE_BUG$2=v8PrototypeDefineBug$1,definePropertyModule$3$1=objectDefineProperty$1,anObject$9$1=anObject$b$1,toIndexedObject$2$1=toIndexedObject$5$1,objectKeys$3=objectKeys$1$1;objectDefineProperties$1.f=DESCRIPTORS$7$1&&!V8_PROTOTYPE_DEFINE_BUG$2?Object.defineProperties:function e(r,t){anObject$9$1(r);for(var n=toIndexedObject$2$1(t),u=objectKeys$3(t),a=u.length,s=0,i;a>s;)definePropertyModule$3$1.f(r,i=u[s++],n[i]);return r};var getBuiltIn$5$1=getBuiltIn$7$1,html$2$1=getBuiltIn$5$1("document","documentElement"),shared$1$1=shared$3$1,uid$3=uid$2$1,keys2=shared$1$1("keys"),sharedKey$3$1=function(e){return keys2[e]||(keys2[e]=uid$3(e))},anObject$8$1=anObject$b$1,definePropertiesModule$1=objectDefineProperties$1,enumBugKeys$1$1=enumBugKeys$3$1,hiddenKeys$2$1=hiddenKeys$4$1,html$1$1=html$2$1,documentCreateElement$1$1=documentCreateElement$2$1,sharedKey$2$1=sharedKey$3$1,GT$1=">",LT$1="<",PROTOTYPE$1="prototype",SCRIPT$1="script",IE_PROTO$1$1=sharedKey$2$1("IE_PROTO"),EmptyConstructor$1=function(){},scriptTag$1=function(e){return LT$1+SCRIPT$1+GT$1+e+LT$1+"/"+SCRIPT$1+GT$1},NullProtoObjectViaActiveX$1=function(e){e.write(scriptTag$1("")),e.close();var r=e.parentWindow.Object;return e=null,r},NullProtoObjectViaIFrame$1=function(){var e=documentCreateElement$1$1("iframe"),r="java"+SCRIPT$1+":",t;return e.style.display="none",html$1$1.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(scriptTag$1("document.F=Object")),t.close(),t.F},activeXDocument$1,NullProtoObject$1=function(){try{activeXDocument$1=new ActiveXObject("htmlfile")}catch{}NullProtoObject$1=typeof document<"u"?document.domain&&activeXDocument$1?NullProtoObjectViaActiveX$1(activeXDocument$1):NullProtoObjectViaIFrame$1():NullProtoObjectViaActiveX$1(activeXDocument$1);for(var e=enumBugKeys$1$1.length;e--;)delete NullProtoObject$1[PROTOTYPE$1][enumBugKeys$1$1[e]];return NullProtoObject$1()};hiddenKeys$2$1[IE_PROTO$1$1]=!0;var objectCreate$1=Object.create||function e(r,t){var n;return r!==null?(EmptyConstructor$1[PROTOTYPE$1]=anObject$8$1(r),n=new EmptyConstructor$1,EmptyConstructor$1[PROTOTYPE$1]=null,n[IE_PROTO$1$1]=r):n=NullProtoObject$1(),t===void 0?n:definePropertiesModule$1.f(n,t)},wellKnownSymbol$c$1=wellKnownSymbol$e$1,create$1$1=objectCreate$1,defineProperty$4$1=objectDefineProperty$1.f,UNSCOPABLES$1=wellKnownSymbol$c$1("unscopables"),ArrayPrototype$1$1=Array.prototype;ArrayPrototype$1$1[UNSCOPABLES$1]===void 0&&defineProperty$4$1(ArrayPrototype$1$1,UNSCOPABLES$1,{configurable:!0,value:create$1$1(null)});var addToUnscopables$1$1=function(e){ArrayPrototype$1$1[UNSCOPABLES$1][e]=!0},iterators$1={},globalThis$b$1=globalThis_1$1,isCallable$d$1=isCallable$j$1,WeakMap$1$1=globalThis$b$1.WeakMap,weakMapBasicDetection$1=isCallable$d$1(WeakMap$1$1)&&/native code/.test(String(WeakMap$1$1)),createPropertyDescriptor$3$1=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},DESCRIPTORS$6$1=descriptors$1,definePropertyModule$2$1=objectDefineProperty$1,createPropertyDescriptor$2$1=createPropertyDescriptor$3$1,createNonEnumerableProperty$4$1=DESCRIPTORS$6$1?function(e,r,t){return definePropertyModule$2$1.f(e,r,createPropertyDescriptor$2$1(1,t))}:function(e,r,t){return e[r]=t,e},NATIVE_WEAK_MAP$1=weakMapBasicDetection$1,globalThis$a$1=globalThis_1$1,isObject$5$1=isObject$a$1,createNonEnumerableProperty$3$1=createNonEnumerableProperty$4$1,hasOwn$8$1=hasOwnProperty_1$1,shared$4=sharedStore$1.exports,sharedKey$1$1=sharedKey$3$1,hiddenKeys$1$1=hiddenKeys$4$1,OBJECT_ALREADY_INITIALIZED$1="Object already initialized",TypeError$2$1=globalThis$a$1.TypeError,WeakMap$3=globalThis$a$1.WeakMap,set$1$1,get$1,has$1,enforce$1=function(e){return has$1(e)?get$1(e):set$1$1(e,{})},getterFor$1=function(e){return function(r){var t;if(!isObject$5$1(r)||(t=get$1(r)).type!==e)throw new TypeError$2$1("Incompatible receiver, "+e+" required");return t}};if(NATIVE_WEAK_MAP$1||shared$4.state){var store$1$1=shared$4.state||(shared$4.state=new WeakMap$3);store$1$1.get=store$1$1.get,store$1$1.has=store$1$1.has,store$1$1.set=store$1$1.set,set$1$1=function(e,r){if(store$1$1.has(e))throw new TypeError$2$1(OBJECT_ALREADY_INITIALIZED$1);return r.facade=e,store$1$1.set(e,r),r},get$1=function(e){return store$1$1.get(e)||{}},has$1=function(e){return store$1$1.has(e)}}else{var STATE$1=sharedKey$1$1("state");hiddenKeys$1$1[STATE$1]=!0,set$1$1=function(e,r){if(hasOwn$8$1(e,STATE$1))throw new TypeError$2$1(OBJECT_ALREADY_INITIALIZED$1);return r.facade=e,createNonEnumerableProperty$3$1(e,STATE$1,r),r},get$1=function(e){return hasOwn$8$1(e,STATE$1)?e[STATE$1]:{}},has$1=function(e){return hasOwn$8$1(e,STATE$1)}}var internalState$1={set:set$1$1,get:get$1,has:has$1,enforce:enforce$1,getterFor:getterFor$1},objectGetOwnPropertyDescriptor$1={},objectPropertyIsEnumerable$1={},$propertyIsEnumerable$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$2$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$1=getOwnPropertyDescriptor$2$1&&!$propertyIsEnumerable$1.call({1:2},1);objectPropertyIsEnumerable$1.f=NASHORN_BUG$1?function e(r){var t=getOwnPropertyDescriptor$2$1(this,r);return!!t&&t.enumerable}:$propertyIsEnumerable$1;var DESCRIPTORS$5$1=descriptors$1,call$9$1=functionCall$1,propertyIsEnumerableModule$2=objectPropertyIsEnumerable$1,createPropertyDescriptor$1$1=createPropertyDescriptor$3$1,toIndexedObject$1$1=toIndexedObject$5$1,toPropertyKey$3=toPropertyKey$2$1,hasOwn$7$1=hasOwnProperty_1$1,IE8_DOM_DEFINE$2=ie8DomDefine$1,$getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$1.f=DESCRIPTORS$5$1?$getOwnPropertyDescriptor$2:function e(r,t){if(r=toIndexedObject$1$1(r),t=toPropertyKey$3(t),IE8_DOM_DEFINE$2)try{return $getOwnPropertyDescriptor$2(r,t)}catch{}if(hasOwn$7$1(r,t))return createPropertyDescriptor$1$1(!call$9$1(propertyIsEnumerableModule$2.f,r,t),r[t])};var makeBuiltIn$3$1={exports:{}},DESCRIPTORS$4$1=descriptors$1,hasOwn$6$1=hasOwnProperty_1$1,FunctionPrototype$1$1=Function.prototype,getDescriptor$1=DESCRIPTORS$4$1&&Object.getOwnPropertyDescriptor,EXISTS$2=hasOwn$6$1(FunctionPrototype$1$1,"name"),PROPER$1=EXISTS$2&&(function e(){}).name==="something",CONFIGURABLE$2=EXISTS$2&&(!DESCRIPTORS$4$1||DESCRIPTORS$4$1&&getDescriptor$1(FunctionPrototype$1$1,"name").configurable),functionName$1={PROPER:PROPER$1,CONFIGURABLE:CONFIGURABLE$2},uncurryThis$7$1=functionUncurryThis$1,isCallable$c$1=isCallable$j$1,store$4=sharedStore$1.exports,functionToString$1=uncurryThis$7$1(Function.toString);isCallable$c$1(store$4.inspectSource)||(store$4.inspectSource=function(e){return functionToString$1(e)});var inspectSource$3$1=store$4.inspectSource,uncurryThis$6$1=functionUncurryThis$1,fails$6$1=fails$d$1,isCallable$b$1=isCallable$j$1,hasOwn$5$1=hasOwnProperty_1$1,DESCRIPTORS$3$1=descriptors$1,CONFIGURABLE_FUNCTION_NAME$1$1=functionName$1.CONFIGURABLE,inspectSource$2$1=inspectSource$3$1,InternalStateModule$2$1=internalState$1,enforceInternalState$1=InternalStateModule$2$1.enforce,getInternalState$1$1=InternalStateModule$2$1.get,$String$2$1=String,defineProperty$3$1=Object.defineProperty,stringSlice$5=uncurryThis$6$1("".slice),replace$4=uncurryThis$6$1("".replace),join$5=uncurryThis$6$1([].join),CONFIGURABLE_LENGTH$1=DESCRIPTORS$3$1&&!fails$6$1(function(){return defineProperty$3$1(function(){},"length",{value:8}).length!==8}),TEMPLATE$1=String(String).split("String"),makeBuiltIn$2$1=makeBuiltIn$3$1.exports=function(e,r,t){stringSlice$5($String$2$1(r),0,7)==="Symbol("&&(r="["+replace$4($String$2$1(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!hasOwn$5$1(e,"name")||CONFIGURABLE_FUNCTION_NAME$1$1&&e.name!==r)&&(DESCRIPTORS$3$1?defineProperty$3$1(e,"name",{value:r,configurable:!0}):e.name=r),CONFIGURABLE_LENGTH$1&&t&&hasOwn$5$1(t,"arity")&&e.length!==t.arity&&defineProperty$3$1(e,"length",{value:t.arity});try{t&&hasOwn$5$1(t,"constructor")&&t.constructor?DESCRIPTORS$3$1&&defineProperty$3$1(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=enforceInternalState$1(e);return hasOwn$5$1(n,"source")||(n.source=join$5(TEMPLATE$1,typeof r=="string"?r:"")),e};Function.prototype.toString=makeBuiltIn$2$1(function e(){return isCallable$b$1(this)&&getInternalState$1$1(this).source||inspectSource$2$1(this)},"toString");var isCallable$a$1=isCallable$j$1,definePropertyModule$1$1=objectDefineProperty$1,makeBuiltIn$1$1=makeBuiltIn$3$1.exports,defineGlobalProperty$1$1=defineGlobalProperty$3$1,defineBuiltIn$6$1=function(e,r,t,n){n||(n={});var u=n.enumerable,a=n.name!==void 0?n.name:r;if(isCallable$a$1(t)&&makeBuiltIn$1$1(t,a,n),n.global)u?e[r]=t:defineGlobalProperty$1$1(r,t);else{try{n.unsafe?e[r]&&(u=!0):delete e[r]}catch{}u?e[r]=t:definePropertyModule$1$1.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},objectGetOwnPropertyNames$1={},internalObjectKeys$2=objectKeysInternal$1,enumBugKeys$4=enumBugKeys$3$1,hiddenKeys$5=enumBugKeys$4.concat("length","prototype");objectGetOwnPropertyNames$1.f=Object.getOwnPropertyNames||function e(r){return internalObjectKeys$2(r,hiddenKeys$5)};var objectGetOwnPropertySymbols$1={};objectGetOwnPropertySymbols$1.f=Object.getOwnPropertySymbols;var getBuiltIn$4$1=getBuiltIn$7$1,uncurryThis$5$1=functionUncurryThis$1,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames$1,getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols$1,anObject$7$1=anObject$b$1,concat$2=uncurryThis$5$1([].concat),ownKeys$1$1=getBuiltIn$4$1("Reflect","ownKeys")||function e(r){var t=getOwnPropertyNamesModule$1.f(anObject$7$1(r)),n=getOwnPropertySymbolsModule$2.f;return n?concat$2(t,n(r)):t},hasOwn$4$1=hasOwnProperty_1$1,ownKeys2$1=ownKeys$1$1,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor$1,definePropertyModule$5=objectDefineProperty$1,copyConstructorProperties$1$1=function(e,r,t){for(var n=ownKeys2$1(r),u=definePropertyModule$5.f,a=getOwnPropertyDescriptorModule$1.f,s=0;s<n.length;s++){var i=n[s];!hasOwn$4$1(e,i)&&!(t&&hasOwn$4$1(t,i))&&u(e,i,a(r,i))}},fails$5$1=fails$d$1,isCallable$9$1=isCallable$j$1,replacement$1=/#|\.prototype\./,isForced$2$1=function(e,r){var t=data$1[normalize$1(e)];return t===POLYFILL$1?!0:t===NATIVE$1?!1:isCallable$9$1(r)?fails$5$1(r):!!r},normalize$1=isForced$2$1.normalize=function(e){return String(e).replace(replacement$1,".").toLowerCase()},data$1=isForced$2$1.data={},NATIVE$1=isForced$2$1.NATIVE="N",POLYFILL$1=isForced$2$1.POLYFILL="P",isForced_1$1=isForced$2$1,globalThis$9$1=globalThis_1$1,getOwnPropertyDescriptor$1$1=objectGetOwnPropertyDescriptor$1.f,createNonEnumerableProperty$2$1=createNonEnumerableProperty$4$1,defineBuiltIn$5$1=defineBuiltIn$6$1,defineGlobalProperty$4=defineGlobalProperty$3$1,copyConstructorProperties$2=copyConstructorProperties$1$1,isForced$1$1=isForced_1$1,_export$1=function(e,r){var t=e.target,n=e.global,u=e.stat,a,s,i,o,c,l;if(n?s=globalThis$9$1:u?s=globalThis$9$1[t]||defineGlobalProperty$4(t,{}):s=globalThis$9$1[t]&&globalThis$9$1[t].prototype,s)for(i in r){if(c=r[i],e.dontCallGetSet?(l=getOwnPropertyDescriptor$1$1(s,i),o=l&&l.value):o=s[i],a=isForced$1$1(n?i:t+(u?".":"#")+i,e.forced),!a&&o!==void 0){if(typeof c==typeof o)continue;copyConstructorProperties$2(c,o)}(e.sham||o&&o.sham)&&createNonEnumerableProperty$2$1(c,"sham",!0),defineBuiltIn$5$1(s,i,c,e)}},fails$4$1=fails$d$1,correctPrototypeGetter$1=!fails$4$1(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hasOwn$3$1=hasOwnProperty_1$1,isCallable$8$1=isCallable$j$1,toObject$5=toObject$2$1,sharedKey$4=sharedKey$3$1,CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter$1,IE_PROTO$2=sharedKey$4("IE_PROTO"),$Object$1$1=Object,ObjectPrototype$1=$Object$1$1.prototype,objectGetPrototypeOf$1=CORRECT_PROTOTYPE_GETTER$1?$Object$1$1.getPrototypeOf:function(e){var r=toObject$5(e);if(hasOwn$3$1(r,IE_PROTO$2))return r[IE_PROTO$2];var t=r.constructor;return isCallable$8$1(t)&&r instanceof t?t.prototype:r instanceof $Object$1$1?ObjectPrototype$1:null},fails$3$1=fails$d$1,isCallable$7$1=isCallable$j$1,isObject$4$1=isObject$a$1,getPrototypeOf$1$1=objectGetPrototypeOf$1,defineBuiltIn$4$1=defineBuiltIn$6$1,wellKnownSymbol$b$1=wellKnownSymbol$e$1,ITERATOR$5$1=wellKnownSymbol$b$1("iterator"),BUGGY_SAFARI_ITERATORS$1$1=!1,IteratorPrototype$2$1,PrototypeOfArrayIteratorPrototype$1,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype$1=getPrototypeOf$1$1(getPrototypeOf$1$1(arrayIterator$1)),PrototypeOfArrayIteratorPrototype$1!==Object.prototype&&(IteratorPrototype$2$1=PrototypeOfArrayIteratorPrototype$1)):BUGGY_SAFARI_ITERATORS$1$1=!0);var NEW_ITERATOR_PROTOTYPE$1=!isObject$4$1(IteratorPrototype$2$1)||fails$3$1(function(){var e={};return IteratorPrototype$2$1[ITERATOR$5$1].call(e)!==e});NEW_ITERATOR_PROTOTYPE$1&&(IteratorPrototype$2$1={});isCallable$7$1(IteratorPrototype$2$1[ITERATOR$5$1])||defineBuiltIn$4$1(IteratorPrototype$2$1,ITERATOR$5$1,function(){return this});var iteratorsCore$1={IteratorPrototype:IteratorPrototype$2$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$1},defineProperty$2$1=objectDefineProperty$1.f,hasOwn$2$1=hasOwnProperty_1$1,wellKnownSymbol$a$1=wellKnownSymbol$e$1,TO_STRING_TAG$2$1=wellKnownSymbol$a$1("toStringTag"),setToStringTag$4$1=function(e,r,t){e&&!t&&(e=e.prototype),e&&!hasOwn$2$1(e,TO_STRING_TAG$2$1)&&defineProperty$2$1(e,TO_STRING_TAG$2$1,{configurable:!0,value:r})},IteratorPrototype$1$1=iteratorsCore$1.IteratorPrototype,create2$1=objectCreate$1,createPropertyDescriptor$6=createPropertyDescriptor$3$1,setToStringTag$3$1=setToStringTag$4$1,Iterators$4$1=iterators$1,returnThis$1$1=function(){return this},iteratorCreateConstructor$1=function(e,r,t,n){var u=r+" Iterator";return e.prototype=create2$1(IteratorPrototype$1$1,{next:createPropertyDescriptor$6(+!n,t)}),setToStringTag$3$1(e,u,!1),Iterators$4$1[u]=returnThis$1$1,e},uncurryThis$4$1=functionUncurryThis$1,aCallable$6$1=aCallable$8$1,functionUncurryThisAccessor$1=function(e,r,t){try{return uncurryThis$4$1(aCallable$6$1(Object.getOwnPropertyDescriptor(e,r)[t]))}catch{}},isObject$3$1=isObject$a$1,isPossiblePrototype$1$1=function(e){return isObject$3$1(e)||e===null},isPossiblePrototype$2=isPossiblePrototype$1$1,$String$1$1=String,$TypeError$6$1=TypeError,aPossiblePrototype$1$1=function(e){if(isPossiblePrototype$2(e))return e;throw new $TypeError$6$1("Can't set "+$String$1$1(e)+" as a prototype")},uncurryThisAccessor$1=functionUncurryThisAccessor$1,isObject$2$1=isObject$a$1,requireObjectCoercible$6=requireObjectCoercible$3$1,aPossiblePrototype$2=aPossiblePrototype$1$1,objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=uncurryThisAccessor$1(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch{}return function(u,a){return requireObjectCoercible$6(u),aPossiblePrototype$2(a),isObject$2$1(u)&&(e?t(u,a):u.__proto__=a),u}}():void 0),$$6$1=_export$1,call$8$1=functionCall$1,FunctionName$1=functionName$1,isCallable$6$1=isCallable$j$1,createIteratorConstructor$2=iteratorCreateConstructor$1,getPrototypeOf$2=objectGetPrototypeOf$1,setPrototypeOf$1$1=objectSetPrototypeOf$1,setToStringTag$2$1=setToStringTag$4$1,createNonEnumerableProperty$1$1=createNonEnumerableProperty$4$1,defineBuiltIn$3$1=defineBuiltIn$6$1,wellKnownSymbol$9$1=wellKnownSymbol$e$1,Iterators$3$1=iterators$1,IteratorsCore$1=iteratorsCore$1,PROPER_FUNCTION_NAME$1$1=FunctionName$1.PROPER,CONFIGURABLE_FUNCTION_NAME$2=FunctionName$1.CONFIGURABLE,IteratorPrototype$3=IteratorsCore$1.IteratorPrototype,BUGGY_SAFARI_ITERATORS$2=IteratorsCore$1.BUGGY_SAFARI_ITERATORS,ITERATOR$4$1=wellKnownSymbol$9$1("iterator"),KEYS$1="keys",VALUES$1="values",ENTRIES$1="entries",returnThis$2=function(){return this},iteratorDefine$1=function(e,r,t,n,u,a,s){createIteratorConstructor$2(t,r,n);var i=function(E){if(E===u&&d)return d;if(!BUGGY_SAFARI_ITERATORS$2&&E&&E in l)return l[E];switch(E){case KEYS$1:return function(){return new t(this,E)};case VALUES$1:return function(){return new t(this,E)};case ENTRIES$1:return function(){return new t(this,E)}}return function(){return new t(this)}},o=r+" Iterator",c=!1,l=e.prototype,f=l[ITERATOR$4$1]||l["@@iterator"]||u&&l[u],d=!BUGGY_SAFARI_ITERATORS$2&&f||i(u),h=r==="Array"&&l.entries||f,v,p,g;if(h&&(v=getPrototypeOf$2(h.call(new e)),v!==Object.prototype&&v.next&&(getPrototypeOf$2(v)!==IteratorPrototype$3&&(setPrototypeOf$1$1?setPrototypeOf$1$1(v,IteratorPrototype$3):isCallable$6$1(v[ITERATOR$4$1])||defineBuiltIn$3$1(v,ITERATOR$4$1,returnThis$2)),setToStringTag$2$1(v,o,!0))),PROPER_FUNCTION_NAME$1$1&&u===VALUES$1&&f&&f.name!==VALUES$1&&(CONFIGURABLE_FUNCTION_NAME$2?createNonEnumerableProperty$1$1(l,"name",VALUES$1):(c=!0,d=function(){return call$8$1(f,this)})),u)if(p={values:i(VALUES$1),keys:a?d:i(KEYS$1),entries:i(ENTRIES$1)},s)for(g in p)(BUGGY_SAFARI_ITERATORS$2||c||!(g in l))&&defineBuiltIn$3$1(l,g,p[g]);else $$6$1({target:r,proto:!0,forced:BUGGY_SAFARI_ITERATORS$2||c},p);return l[ITERATOR$4$1]!==d&&defineBuiltIn$3$1(l,ITERATOR$4$1,d,{name:u}),Iterators$3$1[r]=d,p},createIterResultObject$1$1=function(e,r){return{value:e,done:r}},toIndexedObject$6=toIndexedObject$5$1,addToUnscopables$3=addToUnscopables$1$1,Iterators$2$1=iterators$1,InternalStateModule$1$1=internalState$1,defineProperty$1$1=objectDefineProperty$1.f,defineIterator$2=iteratorDefine$1,createIterResultObject$4=createIterResultObject$1$1,DESCRIPTORS$2$1=descriptors$1,ARRAY_ITERATOR$1="Array Iterator",setInternalState$1$1=InternalStateModule$1$1.set,getInternalState$3=InternalStateModule$1$1.getterFor(ARRAY_ITERATOR$1),es_array_iterator$1=defineIterator$2(Array,"Array",function(e,r){setInternalState$1$1(this,{type:ARRAY_ITERATOR$1,target:toIndexedObject$6(e),index:0,kind:r})},function(){var e=getInternalState$3(this),r=e.target,t=e.index++;if(!r||t>=r.length)return e.target=null,createIterResultObject$4(void 0,!0);switch(e.kind){case"keys":return createIterResultObject$4(t,!1);case"values":return createIterResultObject$4(r[t],!1)}return createIterResultObject$4([t,r[t]],!1)},"values"),values$1=Iterators$2$1.Arguments=Iterators$2$1.Array;addToUnscopables$3("keys");addToUnscopables$3("values");addToUnscopables$3("entries");if(DESCRIPTORS$2$1&&values$1.name!=="values")try{defineProperty$1$1(values$1,"name",{value:"values"})}catch(e){}var globalThis$8$1=globalThis_1$1,userAgent$3$1=environmentUserAgent$1,classof$4$1=classofRaw$2$1,userAgentStartsWith$1=function(e){return userAgent$3$1.slice(0,e.length)===e},environment$1=function(){return userAgentStartsWith$1("Bun/")?"BUN":userAgentStartsWith$1("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith$1("Deno/")?"DENO":userAgentStartsWith$1("Node.js/")?"NODE":globalThis$8$1.Bun&&typeof Bun.version=="string"?"BUN":globalThis$8$1.Deno&&typeof Deno.version=="object"?"DENO":classof$4$1(globalThis$8$1.process)==="process"?"NODE":globalThis$8$1.window&&globalThis$8$1.document?"BROWSER":"REST"}(),ENVIRONMENT$1$1=environment$1,environmentIsNode$1=ENVIRONMENT$1$1==="NODE",makeBuiltIn$4=makeBuiltIn$3$1.exports,defineProperty3$1=objectDefineProperty$1,defineBuiltInAccessor$1$1=function(e,r,t){return t.get&&makeBuiltIn$4(t.get,r,{getter:!0}),t.set&&makeBuiltIn$4(t.set,r,{setter:!0}),defineProperty3$1.f(e,r,t)},getBuiltIn$3$1=getBuiltIn$7$1,defineBuiltInAccessor$4=defineBuiltInAccessor$1$1,wellKnownSymbol$8$1=wellKnownSymbol$e$1,DESCRIPTORS$1$1=descriptors$1,SPECIES$2$1=wellKnownSymbol$8$1("species"),setSpecies$1$1=function(e){var r=getBuiltIn$3$1(e);DESCRIPTORS$1$1&&r&&!r[SPECIES$2$1]&&defineBuiltInAccessor$4(r,SPECIES$2$1,{configurable:!0,get:function(){return this}})},isPrototypeOf$2$1=objectIsPrototypeOf$1,$TypeError$5$1=TypeError,anInstance$1$1=function(e,r){if(isPrototypeOf$2$1(r,e))return e;throw new $TypeError$5$1("Incorrect invocation")},wellKnownSymbol$7$1=wellKnownSymbol$e$1,TO_STRING_TAG$1$1=wellKnownSymbol$7$1("toStringTag"),test$1={};test$1[TO_STRING_TAG$1$1]="z";var toStringTagSupport$1=String(test$1)==="[object z]",TO_STRING_TAG_SUPPORT$1=toStringTagSupport$1,isCallable$5$1=isCallable$j$1,classofRaw$1$1=classofRaw$2$1,wellKnownSymbol$6$1=wellKnownSymbol$e$1,TO_STRING_TAG$3=wellKnownSymbol$6$1("toStringTag"),$Object$5=Object,CORRECT_ARGUMENTS$1=classofRaw$1$1(function(){return arguments}())==="Arguments",tryGet$1=function(e,r){try{return e[r]}catch{}},classof$3$1=TO_STRING_TAG_SUPPORT$1?classofRaw$1$1:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=tryGet$1(r=$Object$5(e),TO_STRING_TAG$3))=="string"?t:CORRECT_ARGUMENTS$1?classofRaw$1$1(r):(n=classofRaw$1$1(r))==="Object"&&isCallable$5$1(r.callee)?"Arguments":n},uncurryThis$3$1=functionUncurryThis$1,fails$2$1=fails$d$1,isCallable$4$1=isCallable$j$1,classof$2$1=classof$3$1,getBuiltIn$2$1=getBuiltIn$7$1,inspectSource$1$1=inspectSource$3$1,noop$1=function(){},construct$1=getBuiltIn$2$1("Reflect","construct"),constructorRegExp$1=/^\s*(?:class|function)\b/,exec$4=uncurryThis$3$1(constructorRegExp$1.exec),INCORRECT_TO_STRING$1=!constructorRegExp$1.test(noop$1),isConstructorModern$1=function e(r){if(!isCallable$4$1(r))return!1;try{return construct$1(noop$1,[],r),!0}catch{return!1}},isConstructorLegacy$1=function e(r){if(!isCallable$4$1(r))return!1;switch(classof$2$1(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$1||!!exec$4(constructorRegExp$1,inspectSource$1$1(r))}catch{return!0}};isConstructorLegacy$1.sham=!0;var isConstructor$1$1=!construct$1||fails$2$1(function(){var e;return isConstructorModern$1(isConstructorModern$1.call)||!isConstructorModern$1(Object)||!isConstructorModern$1(function(){e=!0})||e})?isConstructorLegacy$1:isConstructorModern$1,isConstructor3$1=isConstructor$1$1,tryToString$2$1=tryToString$4$1,$TypeError$4$1=TypeError,aConstructor$1$1=function(e){if(isConstructor3$1(e))return e;throw new $TypeError$4$1(tryToString$2$1(e)+" is not a constructor")},anObject$6$1=anObject$b$1,aConstructor$2=aConstructor$1$1,isNullOrUndefined$1$1=isNullOrUndefined$4$1,wellKnownSymbol$5$1=wellKnownSymbol$e$1,SPECIES$1$1=wellKnownSymbol$5$1("species"),speciesConstructor$1$1=function(e,r){var t=anObject$6$1(e).constructor,n;return t===void 0||isNullOrUndefined$1$1(n=anObject$6$1(t)[SPECIES$1$1])?r:aConstructor$2(n)},NATIVE_BIND$1$1=functionBindNative$1,FunctionPrototype$3=Function.prototype,apply$1$1=FunctionPrototype$3.apply,call$7$1=FunctionPrototype$3.call,functionApply$1=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1$1?call$7$1.bind(apply$1$1):function(){return call$7$1.apply(apply$1$1,arguments)}),classofRaw$3=classofRaw$2$1,uncurryThis$2$1=functionUncurryThis$1,functionUncurryThisClause$1=function(e){if(classofRaw$3(e)==="Function")return uncurryThis$2$1(e)},uncurryThis$1$1=functionUncurryThisClause$1,aCallable$5$1=aCallable$8$1,NATIVE_BIND$4=functionBindNative$1,bind$4$1=uncurryThis$1$1(uncurryThis$1$1.bind),functionBindContext$1=function(e,r){return aCallable$5$1(e),r===void 0?e:NATIVE_BIND$4?bind$4$1(e,r):function(){return e.apply(r,arguments)}},uncurryThis$l=functionUncurryThis$1,arraySlice$1$1=uncurryThis$l([].slice),$TypeError$3$1=TypeError,validateArgumentsLength$1$1=function(e,r){if(e<r)throw new $TypeError$3$1("Not enough arguments");return e},userAgent$2$1=environmentUserAgent$1,environmentIsIos$1=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$2$1),globalThis$7$1=globalThis_1$1,apply$2=functionApply$1,bind$3$1=functionBindContext$1,isCallable$3$1=isCallable$j$1,hasOwn$1$1=hasOwnProperty_1$1,fails$1$1=fails$d$1,html$3=html$2$1,arraySlice$4=arraySlice$1$1,createElement$2=documentCreateElement$2$1,validateArgumentsLength$4=validateArgumentsLength$1$1,IS_IOS$1$1=environmentIsIos$1,IS_NODE$2$1=environmentIsNode$1,set$2=globalThis$7$1.setImmediate,clear$1=globalThis$7$1.clearImmediate,process$2$1=globalThis$7$1.process,Dispatch$1=globalThis$7$1.Dispatch,Function$1$1=globalThis$7$1.Function,MessageChannel$1=globalThis$7$1.MessageChannel,String$1$1=globalThis$7$1.String,counter$1=0,queue$2$1={},ONREADYSTATECHANGE$1="onreadystatechange",$location$1,defer$1,channel$1,port$1;fails$1$1(function(){$location$1=globalThis$7$1.location});var run$1=function(e){if(hasOwn$1$1(queue$2$1,e)){var r=queue$2$1[e];delete queue$2$1[e],r()}},runner$1=function(e){return function(){run$1(e)}},eventListener$1=function(e){run$1(e.data)},globalPostMessageDefer$1=function(e){globalThis$7$1.postMessage(String$1$1(e),$location$1.protocol+"//"+$location$1.host)};(!set$2||!clear$1)&&(set$2=function(r){validateArgumentsLength$4(arguments.length,1);var t=isCallable$3$1(r)?r:Function$1$1(r),n=arraySlice$4(arguments,1);return queue$2$1[++counter$1]=function(){apply$2(t,void 0,n)},defer$1(counter$1),counter$1},clear$1=function(r){delete queue$2$1[r]},IS_NODE$2$1?defer$1=function(e){process$2$1.nextTick(runner$1(e))}:Dispatch$1&&Dispatch$1.now?defer$1=function(e){Dispatch$1.now(runner$1(e))}:MessageChannel$1&&!IS_IOS$1$1?(channel$1=new MessageChannel$1,port$1=channel$1.port2,channel$1.port1.onmessage=eventListener$1,defer$1=bind$3$1(port$1.postMessage,port$1)):globalThis$7$1.addEventListener&&isCallable$3$1(globalThis$7$1.postMessage)&&!globalThis$7$1.importScripts&&$location$1&&$location$1.protocol!=="file:"&&!fails$1$1(globalPostMessageDefer$1)?(defer$1=globalPostMessageDefer$1,globalThis$7$1.addEventListener("message",eventListener$1,!1)):ONREADYSTATECHANGE$1 in createElement$2("script")?defer$1=function(e){html$3.appendChild(createElement$2("script"))[ONREADYSTATECHANGE$1]=function(){html$3.removeChild(this),run$1(e)}}:defer$1=function(e){setTimeout(runner$1(e),0)});var task$1$1={set:set$2},globalThis$6$1=globalThis_1$1,DESCRIPTORS$g=descriptors$1,getOwnPropertyDescriptor2$1=Object.getOwnPropertyDescriptor,safeGetBuiltIn$1$1=function(e){if(!DESCRIPTORS$g)return globalThis$6$1[e];var r=getOwnPropertyDescriptor2$1(globalThis$6$1,e);return r&&r.value},Queue$2$1=function(){this.head=null,this.tail=null};Queue$2$1.prototype={add:function(e){var r={item:e,next:null},t=this.tail;t?t.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e){var r=this.head=e.next;return r===null&&(this.tail=null),e.item}}};var queue$1$1=Queue$2$1,userAgent$1$1=environmentUserAgent$1,environmentIsIosPebble$1=/ipad|iphone|ipod/i.test(userAgent$1$1)&&typeof Pebble<"u",userAgent$6=environmentUserAgent$1,environmentIsWebosWebkit$1=/web0s(?!.*chrome)/i.test(userAgent$6),globalThis$5$1=globalThis_1$1,safeGetBuiltIn$3=safeGetBuiltIn$1$1,bind$2$1=functionBindContext$1,macrotask$1=task$1$1.set,Queue$1$1=queue$1$1,IS_IOS$2=environmentIsIos$1,IS_IOS_PEBBLE$1=environmentIsIosPebble$1,IS_WEBOS_WEBKIT$1=environmentIsWebosWebkit$1,IS_NODE$1$1=environmentIsNode$1,MutationObserver$1=globalThis$5$1.MutationObserver||globalThis$5$1.WebKitMutationObserver,document$2$1=globalThis$5$1.document,process$1$1=globalThis$5$1.process,Promise$1$1=globalThis$5$1.Promise,microtask$1$1=safeGetBuiltIn$3("queueMicrotask"),notify$1$1,toggle$1,node$1,promise$1,then$1;if(!microtask$1$1){var queue$3=new Queue$1$1,flush$1=function(){var e,r;for(IS_NODE$1$1&&(e=process$1$1.domain)&&e.exit();r=queue$3.get();)try{r()}catch(t){throw queue$3.head&&notify$1$1(),t}e&&e.enter()};!IS_IOS$2&&!IS_NODE$1$1&&!IS_WEBOS_WEBKIT$1&&MutationObserver$1&&document$2$1?(toggle$1=!0,node$1=document$2$1.createTextNode(""),new MutationObserver$1(flush$1).observe(node$1,{characterData:!0}),notify$1$1=function(){node$1.data=toggle$1=!toggle$1}):!IS_IOS_PEBBLE$1&&Promise$1$1&&Promise$1$1.resolve?(promise$1=Promise$1$1.resolve(void 0),promise$1.constructor=Promise$1$1,then$1=bind$2$1(promise$1.then,promise$1),notify$1$1=function(){then$1(flush$1)}):IS_NODE$1$1?notify$1$1=function(){process$1$1.nextTick(flush$1)}:(macrotask$1=bind$2$1(macrotask$1,globalThis$5$1),notify$1$1=function(){macrotask$1(flush$1)}),microtask$1$1=function(e){queue$3.head||notify$1$1(),queue$3.add(e)}}var microtask_1$1=microtask$1$1,hostReportErrors$1$1=function(e,r){try{arguments.length===1?console.error(e):console.error(e,r)}catch{}},perform$3$1=function(e){try{return{error:!1,value:e()}}catch(r){return{error:!0,value:r}}},globalThis$4$1=globalThis_1$1,promiseNativeConstructor$1=globalThis$4$1.Promise,globalThis$3$1=globalThis_1$1,NativePromiseConstructor$3$1=promiseNativeConstructor$1,isCallable$2$1=isCallable$j$1,isForced$3=isForced_1$1,inspectSource$4=inspectSource$3$1,wellKnownSymbol$4$1=wellKnownSymbol$e$1,ENVIRONMENT$2=environment$1,V8_VERSION$2=environmentV8Version$1;NativePromiseConstructor$3$1&&NativePromiseConstructor$3$1.prototype;var SPECIES$3=wellKnownSymbol$4$1("species"),SUBCLASSING$1=!1,NATIVE_PROMISE_REJECTION_EVENT$1$1=isCallable$2$1(globalThis$3$1.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5$1=isForced$3("Promise",function(){var e=inspectSource$4(NativePromiseConstructor$3$1),r=e!==String(NativePromiseConstructor$3$1);if(!r&&V8_VERSION$2===66)return!0;if(!V8_VERSION$2||V8_VERSION$2<51||!/native code/.test(e)){var t=new NativePromiseConstructor$3$1(function(a){a(1)}),n=function(a){a(function(){},function(){})},u=t.constructor={};if(u[SPECIES$3]=n,SUBCLASSING$1=t.then(function(){})instanceof n,!SUBCLASSING$1)return!0}return!r&&(ENVIRONMENT$2==="BROWSER"||ENVIRONMENT$2==="DENO")&&!NATIVE_PROMISE_REJECTION_EVENT$1$1}),promiseConstructorDetection$1={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5$1,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1$1,SUBCLASSING:SUBCLASSING$1},newPromiseCapability$2$1={},aCallable$4$1=aCallable$8$1,$TypeError$2$1=TypeError,PromiseCapability$1=function(e){var r,t;this.promise=new e(function(n,u){if(r!==void 0||t!==void 0)throw new $TypeError$2$1("Bad Promise constructor");r=n,t=u}),this.resolve=aCallable$4$1(r),this.reject=aCallable$4$1(t)};newPromiseCapability$2$1.f=function(e){return new PromiseCapability$1(e)};var $$5$1=_export$1,IS_NODE$3=environmentIsNode$1,globalThis$2$1=globalThis_1$1,call$6$1=functionCall$1,defineBuiltIn$2$1=defineBuiltIn$6$1,setPrototypeOf$2=objectSetPrototypeOf$1,setToStringTag$1$1=setToStringTag$4$1,setSpecies$2=setSpecies$1$1,aCallable$3$1=aCallable$8$1,isCallable$1$1=isCallable$j$1,isObject$1$1=isObject$a$1,anInstance$4=anInstance$1$1,speciesConstructor$2=speciesConstructor$1$1,task$2=task$1$1.set,microtask$2=microtask_1$1,hostReportErrors$2=hostReportErrors$1$1,perform$2$1=perform$3$1,Queue$3=queue$1$1,InternalStateModule$6=internalState$1,NativePromiseConstructor$2$1=promiseNativeConstructor$1,PromiseConstructorDetection$1=promiseConstructorDetection$1,newPromiseCapabilityModule$3$1=newPromiseCapability$2$1,PROMISE$1="Promise",FORCED_PROMISE_CONSTRUCTOR$4$1=PromiseConstructorDetection$1.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT$2=PromiseConstructorDetection$1.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING$1=PromiseConstructorDetection$1.SUBCLASSING,getInternalPromiseState$1=InternalStateModule$6.getterFor(PROMISE$1),setInternalState$5=InternalStateModule$6.set,NativePromisePrototype$1$1=NativePromiseConstructor$2$1&&NativePromiseConstructor$2$1.prototype,PromiseConstructor$1=NativePromiseConstructor$2$1,PromisePrototype$1=NativePromisePrototype$1$1,TypeError$1$1=globalThis$2$1.TypeError,document$1$1=globalThis$2$1.document,process$5=globalThis$2$1.process,newPromiseCapability$1$1=newPromiseCapabilityModule$3$1.f,newGenericPromiseCapability$1=newPromiseCapability$1$1,DISPATCH_EVENT$1=!!(document$1$1&&document$1$1.createEvent&&globalThis$2$1.dispatchEvent),UNHANDLED_REJECTION$1="unhandledrejection",REJECTION_HANDLED$1="rejectionhandled",PENDING$1=0,FULFILLED$1=1,REJECTED$1=2,HANDLED$1=1,UNHANDLED$1=2,Internal$1,OwnPromiseCapability$1,PromiseWrapper$1,nativeThen$1,isThenable$1=function(e){var r;return isObject$1$1(e)&&isCallable$1$1(r=e.then)?r:!1},callReaction$1=function(e,r){var t=r.value,n=r.state===FULFILLED$1,u=n?e.ok:e.fail,a=e.resolve,s=e.reject,i=e.domain,o,c,l;try{u?(n||(r.rejection===UNHANDLED$1&&onHandleUnhandled$1(r),r.rejection=HANDLED$1),u===!0?o=t:(i&&i.enter(),o=u(t),i&&(i.exit(),l=!0)),o===e.promise?s(new TypeError$1$1("Promise-chain cycle")):(c=isThenable$1(o))?call$6$1(c,o,a,s):a(o)):s(t)}catch(f){i&&!l&&i.exit(),s(f)}},notify$2=function(e,r){e.notified||(e.notified=!0,microtask$2(function(){for(var t=e.reactions,n;n=t.get();)callReaction$1(n,e);e.notified=!1,r&&!e.rejection&&onUnhandled$1(e)}))},dispatchEvent$1=function(e,r,t){var n,u;DISPATCH_EVENT$1?(n=document$1$1.createEvent("Event"),n.promise=r,n.reason=t,n.initEvent(e,!1,!0),globalThis$2$1.dispatchEvent(n)):n={promise:r,reason:t},!NATIVE_PROMISE_REJECTION_EVENT$2&&(u=globalThis$2$1["on"+e])?u(n):e===UNHANDLED_REJECTION$1&&hostReportErrors$2("Unhandled promise rejection",t)},onUnhandled$1=function(e){call$6$1(task$2,globalThis$2$1,function(){var r=e.facade,t=e.value,n=isUnhandled$1(e),u;if(n&&(u=perform$2$1(function(){IS_NODE$3?process$5.emit("unhandledRejection",t,r):dispatchEvent$1(UNHANDLED_REJECTION$1,r,t)}),e.rejection=IS_NODE$3||isUnhandled$1(e)?UNHANDLED$1:HANDLED$1,u.error))throw u.value})},isUnhandled$1=function(e){return e.rejection!==HANDLED$1&&!e.parent},onHandleUnhandled$1=function(e){call$6$1(task$2,globalThis$2$1,function(){var r=e.facade;IS_NODE$3?process$5.emit("rejectionHandled",r):dispatchEvent$1(REJECTION_HANDLED$1,r,e.value)})},bind$1$1=function(e,r,t){return function(n){e(r,n,t)}},internalReject$1=function(e,r,t){e.done||(e.done=!0,t&&(e=t),e.value=r,e.state=REJECTED$1,notify$2(e,!0))},internalResolve$1=function(e,r,t){if(!e.done){e.done=!0,t&&(e=t);try{if(e.facade===r)throw new TypeError$1$1("Promise can't be resolved itself");var n=isThenable$1(r);n?microtask$2(function(){var u={done:!1};try{call$6$1(n,r,bind$1$1(internalResolve$1,u,e),bind$1$1(internalReject$1,u,e))}catch(a){internalReject$1(u,a,e)}}):(e.value=r,e.state=FULFILLED$1,notify$2(e,!1))}catch(u){internalReject$1({done:!1},u,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4$1&&(PromiseConstructor$1=function(r){anInstance$4(this,PromisePrototype$1),aCallable$3$1(r),call$6$1(Internal$1,this);var t=getInternalPromiseState$1(this);try{r(bind$1$1(internalResolve$1,t),bind$1$1(internalReject$1,t))}catch(n){internalReject$1(t,n)}},PromisePrototype$1=PromiseConstructor$1.prototype,Internal$1=function(r){setInternalState$5(this,{type:PROMISE$1,done:!1,notified:!1,parent:!1,reactions:new Queue$3,rejection:!1,state:PENDING$1,value:null})},Internal$1.prototype=defineBuiltIn$2$1(PromisePrototype$1,"then",function(r,t){var n=getInternalPromiseState$1(this),u=newPromiseCapability$1$1(speciesConstructor$2(this,PromiseConstructor$1));return n.parent=!0,u.ok=isCallable$1$1(r)?r:!0,u.fail=isCallable$1$1(t)&&t,u.domain=IS_NODE$3?process$5.domain:void 0,n.state===PENDING$1?n.reactions.add(u):microtask$2(function(){callReaction$1(u,n)}),u.promise}),OwnPromiseCapability$1=function(){var e=new Internal$1,r=getInternalPromiseState$1(e);this.promise=e,this.resolve=bind$1$1(internalResolve$1,r),this.reject=bind$1$1(internalReject$1,r)},newPromiseCapabilityModule$3$1.f=newPromiseCapability$1$1=function(e){return e===PromiseConstructor$1||e===PromiseWrapper$1?new OwnPromiseCapability$1(e):newGenericPromiseCapability$1(e)},isCallable$1$1(NativePromiseConstructor$2$1)&&NativePromisePrototype$1$1!==Object.prototype)){nativeThen$1=NativePromisePrototype$1$1.then,NATIVE_PROMISE_SUBCLASSING$1||defineBuiltIn$2$1(NativePromisePrototype$1$1,"then",function(r,t){var n=this;return new PromiseConstructor$1(function(u,a){call$6$1(nativeThen$1,n,u,a)}).then(r,t)},{unsafe:!0});try{delete NativePromisePrototype$1$1.constructor}catch{}setPrototypeOf$2&&setPrototypeOf$2(NativePromisePrototype$1$1,PromisePrototype$1)}$$5$1({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4$1},{Promise:PromiseConstructor$1});setToStringTag$1$1(PromiseConstructor$1,PROMISE$1,!1);setSpecies$2(PROMISE$1);var wellKnownSymbol$3$1=wellKnownSymbol$e$1,Iterators$1$1=iterators$1,ITERATOR$3$1=wellKnownSymbol$3$1("iterator"),ArrayPrototype$2=Array.prototype,isArrayIteratorMethod$1$1=function(e){return e!==void 0&&(Iterators$1$1.Array===e||ArrayPrototype$2[ITERATOR$3$1]===e)},classof$1$1=classof$3$1,getMethod$1$1=getMethod$3$1,isNullOrUndefined$5=isNullOrUndefined$4$1,Iterators$5=iterators$1,wellKnownSymbol$2$1=wellKnownSymbol$e$1,ITERATOR$2$1=wellKnownSymbol$2$1("iterator"),getIteratorMethod$2$1=function(e){if(!isNullOrUndefined$5(e))return getMethod$1$1(e,ITERATOR$2$1)||getMethod$1$1(e,"@@iterator")||Iterators$5[classof$1$1(e)]},call$5$1=functionCall$1,aCallable$2$1=aCallable$8$1,anObject$5$1=anObject$b$1,tryToString$1$1=tryToString$4$1,getIteratorMethod$1$1=getIteratorMethod$2$1,$TypeError$1$1=TypeError,getIterator$1$1=function(e,r){var t=arguments.length<2?getIteratorMethod$1$1(e):r;if(aCallable$2$1(t))return anObject$5$1(call$5$1(t,e));throw new $TypeError$1$1(tryToString$1$1(e)+" is not iterable")},call$4$1=functionCall$1,anObject$4$1=anObject$b$1,getMethod$4=getMethod$3$1,iteratorClose$1$1=function(e,r,t){var n,u;anObject$4$1(e);try{if(n=getMethod$4(e,"return"),!n){if(r==="throw")throw t;return t}n=call$4$1(n,e)}catch(a){u=!0,n=a}if(r==="throw")throw t;if(u)throw n;return anObject$4$1(n),t},bind$8=functionBindContext$1,call$3$1=functionCall$1,anObject$3$1=anObject$b$1,tryToString$5=tryToString$4$1,isArrayIteratorMethod$3=isArrayIteratorMethod$1$1,lengthOfArrayLike$4=lengthOfArrayLike$2$1,isPrototypeOf$1$1=objectIsPrototypeOf$1,getIterator$4=getIterator$1$1,getIteratorMethod$5=getIteratorMethod$2$1,iteratorClose$3=iteratorClose$1$1,$TypeError$e=TypeError,Result$1=function(e,r){this.stopped=e,this.result=r},ResultPrototype$1=Result$1.prototype,iterate$2$1=function(e,r,t){var n=t&&t.that,u=!!(t&&t.AS_ENTRIES),a=!!(t&&t.IS_RECORD),s=!!(t&&t.IS_ITERATOR),i=!!(t&&t.INTERRUPTED),o=bind$8(r,n),c,l,f,d,h,v,p,g=function(A){return c&&iteratorClose$3(c,"normal",A),new Result$1(!0,A)},E=function(A){return u?(anObject$3$1(A),i?o(A[0],A[1],g):o(A[0],A[1])):i?o(A,g):o(A)};if(a)c=e.iterator;else if(s)c=e;else{if(l=getIteratorMethod$5(e),!l)throw new $TypeError$e(tryToString$5(e)+" is not iterable");if(isArrayIteratorMethod$3(l)){for(f=0,d=lengthOfArrayLike$4(e);d>f;f++)if(h=E(e[f]),h&&isPrototypeOf$1$1(ResultPrototype$1,h))return h;return new Result$1(!1)}c=getIterator$4(e,l)}for(v=a?e.next:c.next;!(p=call$3$1(v,c)).done;){try{h=E(p.value)}catch(A){iteratorClose$3(c,"throw",A)}if(typeof h=="object"&&h&&isPrototypeOf$1$1(ResultPrototype$1,h))return h}return new Result$1(!1)},wellKnownSymbol$1$1=wellKnownSymbol$e$1,ITERATOR$1$1=wellKnownSymbol$1$1("iterator"),SAFE_CLOSING$1=!1;try{var called$1=0,iteratorWithReturn$1={next:function(){return{done:!!called$1++}},return:function(){SAFE_CLOSING$1=!0}};iteratorWithReturn$1[ITERATOR$1$1]=function(){return this},Array.from(iteratorWithReturn$1,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1$1=function(e,r){try{if(!r&&!SAFE_CLOSING$1)return!1}catch{return!1}var t=!1;try{var n={};n[ITERATOR$1$1]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},NativePromiseConstructor$1$1=promiseNativeConstructor$1,checkCorrectnessOfIteration$2=checkCorrectnessOfIteration$1$1,FORCED_PROMISE_CONSTRUCTOR$3$1=promiseConstructorDetection$1.CONSTRUCTOR,promiseStaticsIncorrectIteration$1=FORCED_PROMISE_CONSTRUCTOR$3$1||!checkCorrectnessOfIteration$2(function(e){NativePromiseConstructor$1$1.all(e).then(void 0,function(){})}),$$4$1=_export$1,call$2$1=functionCall$1,aCallable$1$1=aCallable$8$1,newPromiseCapabilityModule$2$1=newPromiseCapability$2$1,perform$1$1=perform$3$1,iterate$1$1=iterate$2$1,PROMISE_STATICS_INCORRECT_ITERATION$1$1=promiseStaticsIncorrectIteration$1;$$4$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1$1},{all:function e(r){var t=this,n=newPromiseCapabilityModule$2$1.f(t),u=n.resolve,a=n.reject,s=perform$1$1(function(){var i=aCallable$1$1(t.resolve),o=[],c=0,l=1;iterate$1$1(r,function(f){var d=c++,h=!1;l++,call$2$1(i,t,f).then(function(v){h||(h=!0,o[d]=v,--l||u(o))},a)}),--l||u(o)});return s.error&&a(s.value),n.promise}});var $$3$1=_export$1,FORCED_PROMISE_CONSTRUCTOR$2$1=promiseConstructorDetection$1.CONSTRUCTOR,NativePromiseConstructor$4=promiseNativeConstructor$1,getBuiltIn$1$1=getBuiltIn$7$1,isCallable$l=isCallable$j$1,defineBuiltIn$1$1=defineBuiltIn$6$1,NativePromisePrototype$2=NativePromiseConstructor$4&&NativePromiseConstructor$4.prototype;$$3$1({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2$1,real:!0},{catch:function(e){return this.then(void 0,e)}});if(isCallable$l(NativePromiseConstructor$4)){var method$1=getBuiltIn$1$1("Promise").prototype.catch;NativePromisePrototype$2.catch!==method$1&&defineBuiltIn$1$1(NativePromisePrototype$2,"catch",method$1,{unsafe:!0})}var $$2$1=_export$1,call$1$1=functionCall$1,aCallable$9=aCallable$8$1,newPromiseCapabilityModule$1$1=newPromiseCapability$2$1,perform$4=perform$3$1,iterate$3=iterate$2$1,PROMISE_STATICS_INCORRECT_ITERATION$2=promiseStaticsIncorrectIteration$1;$$2$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$2},{race:function e(r){var t=this,n=newPromiseCapabilityModule$1$1.f(t),u=n.reject,a=perform$4(function(){var s=aCallable$9(t.resolve);iterate$3(r,function(i){call$1$1(s,t,i).then(n.resolve,u)})});return a.error&&u(a.value),n.promise}});var $$1$1=_export$1,newPromiseCapabilityModule$4=newPromiseCapability$2$1,FORCED_PROMISE_CONSTRUCTOR$1$1=promiseConstructorDetection$1.CONSTRUCTOR;$$1$1({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1$1},{reject:function e(r){var t=newPromiseCapabilityModule$4.f(this),n=t.reject;return n(r),t.promise}});var anObject$2$1=anObject$b$1,isObject$d=isObject$a$1,newPromiseCapability$3=newPromiseCapability$2$1,promiseResolve$1$1=function(e,r){if(anObject$2$1(e),isObject$d(r)&&r.constructor===e)return r;var t=newPromiseCapability$3.f(e),n=t.resolve;return n(r),t.promise},$$e=_export$1,getBuiltIn$9=getBuiltIn$7$1,FORCED_PROMISE_CONSTRUCTOR$6=promiseConstructorDetection$1.CONSTRUCTOR,promiseResolve$2=promiseResolve$1$1;getBuiltIn$9("Promise");$$e({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$6},{resolve:function e(r){return promiseResolve$2(this,r)}});var classof$8=classof$3$1,$String$6=String,toString2$1=function(e){if(classof$8(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String$6(e)},anObject$1$1=anObject$b$1,regexpFlags$1=function(){var e=anObject$1$1(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},call$i=functionCall$1,hasOwn2$1=hasOwnProperty_1$1,isPrototypeOf$4=objectIsPrototypeOf$1,regExpFlags$1=regexpFlags$1,RegExpPrototype$1$1=RegExp.prototype,regexpGetFlags$1=function(e){var r=e.flags;return r===void 0&&!("flags"in RegExpPrototype$1$1)&&!hasOwn2$1(e,"flags")&&isPrototypeOf$4(RegExpPrototype$1$1,e)?call$i(regExpFlags$1,e):r},PROPER_FUNCTION_NAME$2=functionName$1.PROPER,defineBuiltIn$a=defineBuiltIn$6$1,anObject$e=anObject$b$1,$toString$3=toString2$1,fails$h=fails$d$1,getRegExpFlags$1=regexpGetFlags$1,TO_STRING$1="toString",RegExpPrototype$2=RegExp.prototype,nativeToString$1=RegExpPrototype$2[TO_STRING$1],NOT_GENERIC$1=fails$h(function(){return nativeToString$1.call({source:"a",flags:"b"})!=="/a/b"}),INCORRECT_NAME$1=PROPER_FUNCTION_NAME$2&&nativeToString$1.name!==TO_STRING$1;(NOT_GENERIC$1||INCORRECT_NAME$1)&&defineBuiltIn$a(RegExpPrototype$2,TO_STRING$1,function(){var r=anObject$e(this),t=$toString$3(r.source),n=$toString$3(getRegExpFlags$1(r));return"/"+t+"/"+n},{unsafe:!0});var domIterables$1={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement$3=documentCreateElement$2$1,classList$1=documentCreateElement$3("span").classList,DOMTokenListPrototype$1$1=classList$1&&classList$1.constructor&&classList$1.constructor.prototype,domTokenListPrototype$1=DOMTokenListPrototype$1$1===Object.prototype?void 0:DOMTokenListPrototype$1$1,globalThis$1$1=globalThis_1$1,DOMIterables$1=domIterables$1,DOMTokenListPrototype$2=domTokenListPrototype$1,ArrayIteratorMethods$1=es_array_iterator$1,createNonEnumerableProperty$5=createNonEnumerableProperty$4$1,setToStringTag$7=setToStringTag$4$1,wellKnownSymbol$j=wellKnownSymbol$e$1,ITERATOR$8=wellKnownSymbol$j("iterator"),ArrayValues$1=ArrayIteratorMethods$1.values,handlePrototype$1=function(e,r){if(e){if(e[ITERATOR$8]!==ArrayValues$1)try{createNonEnumerableProperty$5(e,ITERATOR$8,ArrayValues$1)}catch{e[ITERATOR$8]=ArrayValues$1}if(setToStringTag$7(e,r,!0),DOMIterables$1[r]){for(var t in ArrayIteratorMethods$1)if(e[t]!==ArrayIteratorMethods$1[t])try{createNonEnumerableProperty$5(e,t,ArrayIteratorMethods$1[t])}catch{e[t]=ArrayIteratorMethods$1[t]}}}};for(var COLLECTION_NAME$1 in DOMIterables$1)handlePrototype$1(globalThis$1$1[COLLECTION_NAME$1]&&globalThis$1$1[COLLECTION_NAME$1].prototype,COLLECTION_NAME$1);handlePrototype$1(DOMTokenListPrototype$2,"DOMTokenList");typeof SuppressedError=="function"&&SuppressedError;var utilsExports=requireUtils$1(),transactionExports=requireTransaction(),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},check=function(e){return e&&e.Math===Math&&e},globalThis_1=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$g=function(e){try{return!!e()}catch{return!0}},fails$f=fails$g,descriptors=!fails$f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),fails$e=fails$g,functionBindNative=!fails$e(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$3=functionBindNative,call$h=Function.prototype.call,functionCall=NATIVE_BIND$3?call$h.bind(call$h):function(){return call$h.apply(call$h,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function e(r){var t=getOwnPropertyDescriptor$2(this,r);return!!t&&t.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$5=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},NATIVE_BIND$2=functionBindNative,FunctionPrototype$2=Function.prototype,call$g=FunctionPrototype$2.call,uncurryThisWithBind=NATIVE_BIND$2&&FunctionPrototype$2.bind.bind(call$g,call$g),functionUncurryThis=NATIVE_BIND$2?uncurryThisWithBind:function(e){return function(){return call$g.apply(e,arguments)}},uncurryThis$k=functionUncurryThis,toString$5=uncurryThis$k({}.toString),stringSlice$4=uncurryThis$k("".slice),classofRaw$2=function(e){return stringSlice$4(toString$5(e),8,-1)},uncurryThis$j=functionUncurryThis,fails$d=fails$g,classof$7=classofRaw$2,$Object$4=Object,split$3=uncurryThis$j("".split),indexedObject=fails$d(function(){return!$Object$4("z").propertyIsEnumerable(0)})?function(e){return classof$7(e)==="String"?split$3(e,""):$Object$4(e)}:$Object$4,isNullOrUndefined$4=function(e){return e==null},isNullOrUndefined$3=isNullOrUndefined$4,$TypeError$d=TypeError,requireObjectCoercible$5=function(e){if(isNullOrUndefined$3(e))throw new $TypeError$d("Can't call method on "+e);return e},IndexedObject$1=indexedObject,requireObjectCoercible$4=requireObjectCoercible$5,toIndexedObject$5=function(e){return IndexedObject$1(requireObjectCoercible$4(e))},documentAll=typeof document=="object"&&document.all,isCallable$k=typeof documentAll>"u"&&documentAll!==void 0?function(e){return typeof e=="function"||e===documentAll}:function(e){return typeof e=="function"},isCallable$j=isCallable$k,isObject$c=function(e){return typeof e=="object"?e!==null:isCallable$j(e)},globalThis$l=globalThis_1,isCallable$i=isCallable$k,aFunction=function(e){return isCallable$i(e)?e:void 0},getBuiltIn$8=function(e,r){return arguments.length<2?aFunction(globalThis$l[e]):globalThis$l[e]&&globalThis$l[e][r]},uncurryThis$i=functionUncurryThis,objectIsPrototypeOf=uncurryThis$i({}.isPrototypeOf),globalThis$k=globalThis_1,navigator$1=globalThis$k.navigator,userAgent$5=navigator$1&&navigator$1.userAgent,environmentUserAgent=userAgent$5?String(userAgent$5):"",globalThis$j=globalThis_1,userAgent$4=environmentUserAgent,process$3=globalThis$j.process,Deno$1=globalThis$j.Deno,versions=process$3&&process$3.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1]));!version&&userAgent$4&&(match=userAgent$4.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$4.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var environmentV8Version=version,V8_VERSION$1=environmentV8Version,fails$c=fails$g,globalThis$i=globalThis_1,$String$5=globalThis$i.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$c(function(){var e=Symbol("symbol detection");return!$String$5(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1&&V8_VERSION$1<41}),NATIVE_SYMBOL$1=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$7=getBuiltIn$8,isCallable$h=isCallable$k,isPrototypeOf$3=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$3=Object,isSymbol$2=USE_SYMBOL_AS_UID$1?function(e){return typeof e=="symbol"}:function(e){var r=getBuiltIn$7("Symbol");return isCallable$h(r)&&isPrototypeOf$3(r.prototype,$Object$3(e))},$String$4=String,tryToString$4=function(e){try{return $String$4(e)}catch{return"Object"}},isCallable$g=isCallable$k,tryToString$3=tryToString$4,$TypeError$c=TypeError,aCallable$8=function(e){if(isCallable$g(e))return e;throw new $TypeError$c(tryToString$3(e)+" is not a function")},aCallable$7=aCallable$8,isNullOrUndefined$2=isNullOrUndefined$4,getMethod$3=function(e,r){var t=e[r];return isNullOrUndefined$2(t)?void 0:aCallable$7(t)},call$f=functionCall,isCallable$f=isCallable$k,isObject$b=isObject$c,$TypeError$b=TypeError,ordinaryToPrimitive$1=function(e,r){var t,n;if(r==="string"&&isCallable$f(t=e.toString)&&!isObject$b(n=call$f(t,e))||isCallable$f(t=e.valueOf)&&!isObject$b(n=call$f(t,e))||r!=="string"&&isCallable$f(t=e.toString)&&!isObject$b(n=call$f(t,e)))return n;throw new $TypeError$b("Can't convert object to primitive value")},sharedStore={exports:{}},isPure=!1,globalThis$h=globalThis_1,defineProperty$6=Object.defineProperty,defineGlobalProperty$3=function(e,r){try{defineProperty$6(globalThis$h,e,{value:r,configurable:!0,writable:!0})}catch{globalThis$h[e]=r}return r},globalThis$g=globalThis_1,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=sharedStore.exports=globalThis$g[SHARED]||defineGlobalProperty$2(SHARED,{});(store$3.versions||(store$3.versions=[])).push({version:"3.41.0",mode:"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"});var store$2=sharedStore.exports,shared$3=function(e,r){return store$2[e]||(store$2[e]=r||{})},requireObjectCoercible$3=requireObjectCoercible$5,$Object$2=Object,toObject$4=function(e){return $Object$2(requireObjectCoercible$3(e))},uncurryThis$h=functionUncurryThis,toObject$3=toObject$4,hasOwnProperty=uncurryThis$h({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function e(r,t){return hasOwnProperty(toObject$3(r),t)},uncurryThis$g=functionUncurryThis,id=0,postfix=Math.random(),toString$4=uncurryThis$g(1 .toString),uid$2=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$4(++id+postfix,36)},globalThis$f=globalThis_1,shared$2=shared$3,hasOwn$c=hasOwnProperty_1,uid$1=uid$2,NATIVE_SYMBOL=symbolConstructorDetection,USE_SYMBOL_AS_UID=useSymbolAsUid,Symbol$1=globalThis$f.Symbol,WellKnownSymbolsStore=shared$2("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$1.for||Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$1,wellKnownSymbol$i=function(e){return hasOwn$c(WellKnownSymbolsStore,e)||(WellKnownSymbolsStore[e]=NATIVE_SYMBOL&&hasOwn$c(Symbol$1,e)?Symbol$1[e]:createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore[e]},call$e=functionCall,isObject$a=isObject$c,isSymbol$1=isSymbol$2,getMethod$2=getMethod$3,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$h=wellKnownSymbol$i,$TypeError$a=TypeError,TO_PRIMITIVE=wellKnownSymbol$h("toPrimitive"),toPrimitive$1=function(e,r){if(!isObject$a(e)||isSymbol$1(e))return e;var t=getMethod$2(e,TO_PRIMITIVE),n;if(t){if(r===void 0&&(r="default"),n=call$e(t,e,r),!isObject$a(n)||isSymbol$1(n))return n;throw new $TypeError$a("Can't convert object to primitive value")}return r===void 0&&(r="number"),ordinaryToPrimitive(e,r)},toPrimitive=toPrimitive$1,isSymbol=isSymbol$2,toPropertyKey$2=function(e){var r=toPrimitive(e,"string");return isSymbol(r)?r:r+""},globalThis$e=globalThis_1,isObject$9=isObject$c,document$3=globalThis$e.document,EXISTS$1=isObject$9(document$3)&&isObject$9(document$3.createElement),documentCreateElement$2=function(e){return EXISTS$1?document$3.createElement(e):{}},DESCRIPTORS$f=descriptors,fails$b=fails$g,createElement$1=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$f&&!fails$b(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!==7}),DESCRIPTORS$e=descriptors,call$d=functionCall,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,createPropertyDescriptor$4=createPropertyDescriptor$5,toIndexedObject$4=toIndexedObject$5,toPropertyKey$1=toPropertyKey$2,hasOwn$b=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$e?$getOwnPropertyDescriptor$1:function e(r,t){if(r=toIndexedObject$4(r),t=toPropertyKey$1(t),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$1(r,t)}catch{}if(hasOwn$b(r,t))return createPropertyDescriptor$4(!call$d(propertyIsEnumerableModule$1.f,r,t),r[t])};var objectDefineProperty={},DESCRIPTORS$d=descriptors,fails$a=fails$g,v8PrototypeDefineBug=DESCRIPTORS$d&&fails$a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),isObject$8=isObject$c,$String$3=String,$TypeError$9=TypeError,anObject$d=function(e){if(isObject$8(e))return e;throw new $TypeError$9($String$3(e)+" is not an object")},DESCRIPTORS$c=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$c=anObject$d,toPropertyKey=toPropertyKey$2,$TypeError$8=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$c?V8_PROTOTYPE_DEFINE_BUG$1?function e(r,t,n){if(anObject$c(r),t=toPropertyKey(t),anObject$c(n),typeof r=="function"&&t==="prototype"&&"value"in n&&WRITABLE in n&&!n[WRITABLE]){var u=$getOwnPropertyDescriptor(r,t);u&&u[WRITABLE]&&(r[t]=n.value,n={configurable:CONFIGURABLE$1 in n?n[CONFIGURABLE$1]:u[CONFIGURABLE$1],enumerable:ENUMERABLE in n?n[ENUMERABLE]:u[ENUMERABLE],writable:!1})}return $defineProperty(r,t,n)}:$defineProperty:function e(r,t,n){if(anObject$c(r),t=toPropertyKey(t),anObject$c(n),IE8_DOM_DEFINE)try{return $defineProperty(r,t,n)}catch{}if("get"in n||"set"in n)throw new $TypeError$8("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var DESCRIPTORS$b=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$3=createPropertyDescriptor$5,createNonEnumerableProperty$4=DESCRIPTORS$b?function(e,r,t){return definePropertyModule$4.f(e,r,createPropertyDescriptor$3(1,t))}:function(e,r,t){return e[r]=t,e},makeBuiltIn$3={exports:{}},DESCRIPTORS$a=descriptors,hasOwn$a=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$a&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$a(FunctionPrototype$1,"name"),PROPER=EXISTS&&(function e(){}).name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$a||DESCRIPTORS$a&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={PROPER,CONFIGURABLE},uncurryThis$f=functionUncurryThis,isCallable$e=isCallable$k,store$1=sharedStore.exports,functionToString=uncurryThis$f(Function.toString);isCallable$e(store$1.inspectSource)||(store$1.inspectSource=function(e){return functionToString(e)});var inspectSource$3=store$1.inspectSource,globalThis$d=globalThis_1,isCallable$d=isCallable$k,WeakMap$1=globalThis$d.WeakMap,weakMapBasicDetection=isCallable$d(WeakMap$1)&&/native code/.test(String(WeakMap$1)),shared$1=shared$3,uid=uid$2,keys=shared$1("keys"),sharedKey$3=function(e){return keys[e]||(keys[e]=uid(e))},hiddenKeys$4={},NATIVE_WEAK_MAP=weakMapBasicDetection,globalThis$c=globalThis_1,isObject$7=isObject$c,createNonEnumerableProperty$3=createNonEnumerableProperty$4,hasOwn$9=hasOwnProperty_1,shared=sharedStore.exports,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$4=globalThis$c.TypeError,WeakMap$2=globalThis$c.WeakMap,set$1,get,has,enforce=function(e){return has(e)?get(e):set$1(e,{})},getterFor=function(e){return function(r){var t;if(!isObject$7(r)||(t=get(r)).type!==e)throw new TypeError$4("Incompatible receiver, "+e+" required");return t}};if(NATIVE_WEAK_MAP||shared.state){var store=shared.state||(shared.state=new WeakMap$2);store.get=store.get,store.has=store.has,store.set=store.set,set$1=function(e,r){if(store.has(e))throw new TypeError$4(OBJECT_ALREADY_INITIALIZED);return r.facade=e,store.set(e,r),r},get=function(e){return store.get(e)||{}},has=function(e){return store.has(e)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$1=function(e,r){if(hasOwn$9(e,STATE))throw new TypeError$4(OBJECT_ALREADY_INITIALIZED);return r.facade=e,createNonEnumerableProperty$3(e,STATE,r),r},get=function(e){return hasOwn$9(e,STATE)?e[STATE]:{}},has=function(e){return hasOwn$9(e,STATE)}}var internalState={set:set$1,get,has,enforce,getterFor},uncurryThis$e=functionUncurryThis,fails$9=fails$g,isCallable$c=isCallable$k,hasOwn$8=hasOwnProperty_1,DESCRIPTORS$9=descriptors,CONFIGURABLE_FUNCTION_NAME$1=functionName.CONFIGURABLE,inspectSource$2=inspectSource$3,InternalStateModule$5=internalState,enforceInternalState=InternalStateModule$5.enforce,getInternalState$2=InternalStateModule$5.get,$String$2=String,defineProperty$5=Object.defineProperty,stringSlice$3=uncurryThis$e("".slice),replace$3=uncurryThis$e("".replace),join$4=uncurryThis$e([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$9&&!fails$9(function(){return defineProperty$5(function(){},"length",{value:8}).length!==8}),TEMPLATE=String(String).split("String"),makeBuiltIn$2=makeBuiltIn$3.exports=function(e,r,t){stringSlice$3($String$2(r),0,7)==="Symbol("&&(r="["+replace$3($String$2(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!hasOwn$8(e,"name")||CONFIGURABLE_FUNCTION_NAME$1&&e.name!==r)&&(DESCRIPTORS$9?defineProperty$5(e,"name",{value:r,configurable:!0}):e.name=r),CONFIGURABLE_LENGTH&&t&&hasOwn$8(t,"arity")&&e.length!==t.arity&&defineProperty$5(e,"length",{value:t.arity});try{t&&hasOwn$8(t,"constructor")&&t.constructor?DESCRIPTORS$9&&defineProperty$5(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=enforceInternalState(e);return hasOwn$8(n,"source")||(n.source=join$4(TEMPLATE,typeof r=="string"?r:"")),e};Function.prototype.toString=makeBuiltIn$2(function e(){return isCallable$c(this)&&getInternalState$2(this).source||inspectSource$2(this)},"toString");var isCallable$b=isCallable$k,definePropertyModule$3=objectDefineProperty,makeBuiltIn$1=makeBuiltIn$3.exports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$9=function(e,r,t,n){n||(n={});var u=n.enumerable,a=n.name!==void 0?n.name:r;if(isCallable$b(t)&&makeBuiltIn$1(t,a,n),n.global)u?e[r]=t:defineGlobalProperty$1(r,t);else{try{n.unsafe?e[r]&&(u=!0):delete e[r]}catch{}u?e[r]=t:definePropertyModule$3.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},objectGetOwnPropertyNames={},ceil=Math.ceil,floor$3=Math.floor,mathTrunc=Math.trunc||function e(r){var t=+r;return(t>0?floor$3:ceil)(t)},trunc2=mathTrunc,toIntegerOrInfinity$3=function(e){var r=+e;return r!==r||r===0?0:trunc2(r)},toIntegerOrInfinity$2=toIntegerOrInfinity$3,max=Math.max,min$1=Math.min,toAbsoluteIndex$2=function(e,r){var t=toIntegerOrInfinity$2(e);return t<0?max(t+r,0):min$1(t,r)},toIntegerOrInfinity$1=toIntegerOrInfinity$3,min=Math.min,toLength$1=function(e){var r=toIntegerOrInfinity$1(e);return r>0?min(r,9007199254740991):0},toLength=toLength$1,lengthOfArrayLike$3=function(e){return toLength(e.length)},toIndexedObject$3=toIndexedObject$5,toAbsoluteIndex$1=toAbsoluteIndex$2,lengthOfArrayLike$2=lengthOfArrayLike$3,createMethod$1=function(e){return function(r,t,n){var u=toIndexedObject$3(r),a=lengthOfArrayLike$2(u);if(a===0)return!e&&-1;var s=toAbsoluteIndex$1(n,a),i;if(e&&t!==t){for(;a>s;)if(i=u[s++],i!==i)return!0}else for(;a>s;s++)if((e||s in u)&&u[s]===t)return e||s||0;return!e&&-1}},arrayIncludes={includes:createMethod$1(!0),indexOf:createMethod$1(!1)},uncurryThis$d=functionUncurryThis,hasOwn$7=hasOwnProperty_1,toIndexedObject$2=toIndexedObject$5,indexOf=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,push$3=uncurryThis$d([].push),objectKeysInternal=function(e,r){var t=toIndexedObject$2(e),n=0,u=[],a;for(a in t)!hasOwn$7(hiddenKeys$2,a)&&hasOwn$7(t,a)&&push$3(u,a);for(;r.length>n;)hasOwn$7(t,a=r[n++])&&(~indexOf(u,a)||push$3(u,a));return u},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function e(r){return internalObjectKeys$1(r,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$6=getBuiltIn$8,uncurryThis$c=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,anObject$b=anObject$d,concat$1=uncurryThis$c([].concat),ownKeys$1=getBuiltIn$6("Reflect","ownKeys")||function e(r){var t=getOwnPropertyNamesModule.f(anObject$b(r)),n=getOwnPropertySymbolsModule$1.f;return n?concat$1(t,n(r)):t},hasOwn$6=hasOwnProperty_1,ownKeys2=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$2=objectDefineProperty,copyConstructorProperties$1=function(e,r,t){for(var n=ownKeys2(r),u=definePropertyModule$2.f,a=getOwnPropertyDescriptorModule.f,s=0;s<n.length;s++){var i=n[s];!hasOwn$6(e,i)&&!(t&&hasOwn$6(t,i))&&u(e,i,a(r,i))}},fails$8=fails$g,isCallable$a=isCallable$k,replacement=/#|\.prototype\./,isForced$2=function(e,r){var t=data[normalize(e)];return t===POLYFILL?!0:t===NATIVE?!1:isCallable$a(r)?fails$8(r):!!r},normalize=isForced$2.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced$2.data={},NATIVE=isForced$2.NATIVE="N",POLYFILL=isForced$2.POLYFILL="P",isForced_1=isForced$2,globalThis$b=globalThis_1,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$2=createNonEnumerableProperty$4,defineBuiltIn$8=defineBuiltIn$9,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties=copyConstructorProperties$1,isForced$1=isForced_1,_export=function(e,r){var t=e.target,n=e.global,u=e.stat,a,s,i,o,c,l;if(n?s=globalThis$b:u?s=globalThis$b[t]||defineGlobalProperty(t,{}):s=globalThis$b[t]&&globalThis$b[t].prototype,s)for(i in r){if(c=r[i],e.dontCallGetSet?(l=getOwnPropertyDescriptor$1(s,i),o=l&&l.value):o=s[i],a=isForced$1(n?i:t+(u?".":"#")+i,e.forced),!a&&o!==void 0){if(typeof c==typeof o)continue;copyConstructorProperties(c,o)}(e.sham||o&&o.sham)&&createNonEnumerableProperty$2(c,"sham",!0),defineBuiltIn$8(s,i,c,e)}},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$2=Object.keys||function e(r){return internalObjectKeys(r,enumBugKeys$1)},DESCRIPTORS$8=descriptors,uncurryThis$b=functionUncurryThis,call$c=functionCall,fails$7=fails$g,objectKeys$1=objectKeys$2,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,propertyIsEnumerableModule=objectPropertyIsEnumerable,toObject$2=toObject$4,IndexedObject=indexedObject,$assign=Object.assign,defineProperty$4=Object.defineProperty,concat=uncurryThis$b([].concat),objectAssign=!$assign||fails$7(function(){if(DESCRIPTORS$8&&$assign({b:1},$assign(defineProperty$4({},"a",{enumerable:!0,get:function(){defineProperty$4(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},r={},t=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[t]=7,n.split("").forEach(function(u){r[u]=u}),$assign({},e)[t]!==7||objectKeys$1($assign({},r)).join("")!==n})?function e(r,t){for(var n=toObject$2(r),u=arguments.length,a=1,s=getOwnPropertySymbolsModule.f,i=propertyIsEnumerableModule.f;u>a;)for(var o=IndexedObject(arguments[a++]),c=s?concat(objectKeys$1(o),s(o)):objectKeys$1(o),l=c.length,f=0,d;l>f;)d=c[f++],(!DESCRIPTORS$8||call$c(i,o,d))&&(n[d]=o[d]);return n}:$assign,$$d=_export,assign$1=objectAssign;$$d({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign$1},{assign:assign$1});var wellKnownSymbol$g=wellKnownSymbol$i,TO_STRING_TAG$2=wellKnownSymbol$g("toStringTag"),test={};test[TO_STRING_TAG$2]="z";var toStringTagSupport=String(test)==="[object z]",TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$9=isCallable$k,classofRaw$1=classofRaw$2,wellKnownSymbol$f=wellKnownSymbol$i,TO_STRING_TAG$1=wellKnownSymbol$f("toStringTag"),$Object$1=Object,CORRECT_ARGUMENTS=classofRaw$1(function(){return arguments}())==="Arguments",tryGet=function(e,r){try{return e[r]}catch{}},classof$6=TO_STRING_TAG_SUPPORT?classofRaw$1:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=tryGet(r=$Object$1(e),TO_STRING_TAG$1))=="string"?t:CORRECT_ARGUMENTS?classofRaw$1(r):(n=classofRaw$1(r))==="Object"&&isCallable$9(r.callee)?"Arguments":n},classof$5=classof$6,$String$1=String,toString$3=function(e){if(classof$5(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String$1(e)},anObject$a=anObject$d,regexpFlags=function(){var e=anObject$a(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},call$b=functionCall,hasOwn$5=hasOwnProperty_1,isPrototypeOf$2=objectIsPrototypeOf,regExpFlags=regexpFlags,RegExpPrototype$1=RegExp.prototype,regexpGetFlags=function(e){var r=e.flags;return r===void 0&&!("flags"in RegExpPrototype$1)&&!hasOwn$5(e,"flags")&&isPrototypeOf$2(RegExpPrototype$1,e)?call$b(regExpFlags,e):r},PROPER_FUNCTION_NAME$1=functionName.PROPER,defineBuiltIn$7=defineBuiltIn$9,anObject$9=anObject$d,$toString$2=toString$3,fails$6=fails$g,getRegExpFlags=regexpGetFlags,TO_STRING="toString",RegExpPrototype=RegExp.prototype,nativeToString=RegExpPrototype[TO_STRING],NOT_GENERIC=fails$6(function(){return nativeToString.call({source:"a",flags:"b"})!=="/a/b"}),INCORRECT_NAME=PROPER_FUNCTION_NAME$1&&nativeToString.name!==TO_STRING;(NOT_GENERIC||INCORRECT_NAME)&&defineBuiltIn$7(RegExpPrototype,TO_STRING,function(){var r=anObject$9(this),t=$toString$2(r.source),n=$toString$2(getRegExpFlags(r));return"/"+t+"/"+n},{unsafe:!0});function __awaiter(e,r,t,n){function u(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function i(l){try{c(n.next(l))}catch(f){s(f)}}function o(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?a(l.value):u(l.value).then(i,o)}c((n=n.apply(e,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAD8UExURUdwTGx5rpLO8YOYx1Og0ly29X5ezR4mT0tiji4eWJ953KGn1Jxs7qB9xvfD/Us0gduu8yeh4HOq74dD647R91256eSz+j82cbvg/dSj/LuL79Wp6zCf24KN9xANGRANF59d/0W+/taa/8iN/3HL9uOn/z638Bil7l3G84TP+FHB8o5A/0i9/ZjU+47S+vq8/4Qy/S6w8O+x/5Rp/wyg7G2T/s+T/vO2/+qt/1qp/qDV/HyD/ki4+4R7/qnY/tyh/1Gx/ptU/76E/2bJ9Ld8/4t0/pxe+XvN9iOq7rB0/0i88aRk/6ps/z++/naL/mab/mGh/pVM/wub5mGd+fAEOhEAAAAgdFJOUwBEyWKA47EKJhnFluGA6l3H67Du6crdNOXs5q/I65rcQbfB9AAAIABJREFUeNrsnE9r4zoXxidOG9tNQqBvSrLKeKGF7WIz4J0WgSCuDc1s7vf/Mq/+S0d2p7Zkd7i0SsZJh3th+PGcR4+OpP748T3+4yNODofDKY2/SYxgdbhcfl4ul9M3rY9ZpZefbFwu6TeMD8dJwPp5Sb6l9eFIL5zW5TDoWrEc35wEjtOFDWPxjE2aJMkqWa3W6/WevuigPyVJ+tWngTg+HQ58PmSDQlqvt5Eax+jIBv2UY7umyL6u0JiMBK6DpETp4KqmL/ngX9hnwcEJYl8TGIV1EpzOEaNUCUBqFPwPfRX0W8GfFSPGgX255JCcTpwUByVY1WAU/FHwLxRWV3RdIYGtvhIvKqoVI0WriwoGK1CDvLi8JDouse5L8YqT08M2Op+vVFOYl54wJ+5PkppkJUkJZYlipN9RV1Ne69UXmCOT0zY6Xq+4Kip7GEYGmKZVyNF1ghj9whx//ZfltXQYTE/b8xnTUeFr1R82Lm7vwuPh6Cgz9jr+TVx8Mt+zcTgt0w6Ik310xIJVJXxdUaqgsIzH1w6tjlekxrVdpX/FSlb7zW63a+lrt3vazG8JFiqHVa2ewOQLlR70W1oX58XlhSiv7aerKz4xUvd7Rse9pWO32xxm/VfE6To64yt1KyEsgUt8ckT99GDsHUpL6oq9EaKT4+cWY5weNrvfbZtlNwqLfkpcM0o8XtFMhZlRUT7YYDLKEtmhsurQJNO6R0sEL0brk3FRWe3+ydpMDvblzpDtnvYz/SPihIYFzHRFYYE6xMazBnJWYTyrhsri4uqEfSESPX+WdcWnza7NbjemKyYpVob/Ml5Zu9vP0cmME1aBxZXDuSpdKWSGlK0qxUqteSxUphA7hLoOsednWVe8YiV4y34zTYkX9a4bhXejtbgJp8VQcVmJuDA4Gyp7d2K8TFn1oGnJWbEjqO5ywnLE5+iK8mGyEnbFlMV0dWO1GEyLmhWdA1kKrdiTG7y2duPvss3QWx1qVLVLSxZiJwRWdOQTxJXsd9qrGKvMHsznn4JocbNic6B5KWW5wlLMBmbDesjcOzN4KZLj0uKKD7tWcslcVIJgiLbi1fasSYk3p2WUJTsOdsqqHGVBw9I5q7BQcVp0XlxYXKdNa4Tlqkp8/uNNi0UrzupqawsLd8cYqqoXSkHOqu0ED5SF1AshQo1+tRyteM+F1RhGjXy0oiwZLU9txWwdKEhpTKIIjWv1pDUQHGpXW66uUGfTWi8WIk5Pd6Ao5VqNNDCGq7170WIx9IqFqq4iuXNUVyWr95RVDeYsSKqwPEvSkrgQLcXFhHW/STz8T2uqz9DKfHwrPVisMP/GSV0tZdkxvq6qgf6fzu+1hQsoC+mwRQd/Pi5kXOnmt+Jh53fH4mkG220m/gOSh0gpyuBSVVhhuNxRsbRfh+5sCH1LCqpjvNg39kHYrLiIcfEqZHwah5DzM8tbk2glbBbEVgHKqVANMxViJzvApWFd9wOWcng9FSrHQtLpaUJdgFa8euqHheExzeWptRuzMgqzgpaO8bClVVXuhoXSVT0kLCEtwUo+mG2hxwVoxetdNhYW09YkXUFQ3LIMJ1OJGPJyFoiqVVrD6K6VpSdCpS0xlqjEdD8a1hRa8fYs8DiuBUrRpSWF1e/+DbSzrCq0YpaaDjv2mJ9Wutll9w8xNWKGpLT242gl0fnDEsRDylKkqoF2Vu24FoxYcsGjypDQEa3npRVvRllWw8MXXWGPpJVE0bXvWCad2sLCfc9yZkSoqkI3suyljnQrrimOi+Q5mplWuhnp7zKqUm2lo6wQlqGqQygsteDBoAFfuWsdp1Oquu+82dBZyoKuRdhr3kqksMbSov8dja8jtZVsoyFlye6DrSwtLVxbydQA05hqW1qOZ1mrQ1GENGyxx7y0KKzbOFgNz6ajXT5xogO+2j0H4Fm2tNxeqZXgB5SF3JQFBnWtefPW2DJsVLRvR9KKk4GgpV1LSQv0HjDcwh8CpTfCQHPGWJampF1+zrw12rPElDghQXBa2PV3LFc9lrIwbCtbs2ExBMzOo9ZEqCtQUpLFmOfH59lW1emYAN+2rb1snEDrHWm56QE7uAZmQ1iInb3QkaTEgwhgiIgPNCetdNxqpzUmn4kexFhauOdbYDVtdwAr9zzb8JahyqSwCjtkS4vwwX/K82g7T38rnqgs9Rf30S5/xX9QlhO1avNyldVzeKejbKpQSosI46Jhi+Rzxa109DoajFs2ntYfpNWbEHstmrofsmQZFrD5Dk2LCJNnpkWBoXlMPh4Jq4ENG563vLTVC1qgDut+F75/5AiUIfR36er6Wy4URrp5bCsZBavpb2fcRva3+tqCMb7CTg+w6p8qfb8MkeblmpaweOZblFl5nKPRHHuW4fj+FshbeIgXPPBQgSNa8iwpnAjtIjTuToBpyaW0GvPYFlXWPYTWhDnRNJcx1rs8yrC0ZfWOO4CGA5gLkW1ZrJ2skAlBWQPl5CXctpiyfGG12ciVz0lWIjZLa6Osyj3XVtfvG5YmVViGZa11pGUREUpFepDSIjPYlqeyGtXfmpK3sNUAtGj1TmnB3p+7aWiON1jW3klJ6ToEwqKoaNp6iP8KrEa5/di8dbLnRNxrl1Z21JLLRJgd3MMzrrur7E6QeQBYpCRRMkPO8itDtbc4tmNzBgZvw3Kb8AM7PEJbmhXYMESgj0V0yDI1mHNplcdgafkbPKfF9hPHnA0cWPmArGV1acCJtt5+YQH9ynYsgvS6EDllSGnRKB/s8QEGb3Yxxs6Jg5YFtyyArApnbSjPdPcSKQLKUgbveFYe7vFB0WFKf6u3kYhB9wH2ljUrFUrroe1CI6qOGGERhFCfE/8IlVaYsqZ0bNTKB2OVIrBTifJy4cAR3HcWOhKYG0d7M+Fc0vJTlld/C86JIGrpJQ/olaqLTXVtoSqsRGpWOTC5m3DFKTFQ3LVCc7yXstp+f2vUno/JW043XsbSuhq4kDJ07hZurMJAOmBXiloZJi3fBN/CoyNsPzGdsPKxYZmzy8KvsK5F9WUok0LXIqCfbCJDrljlYpRh0krDytBaJ07RluNa8Jj3UV0if5b3pu2DpI6yYMAyjQYrMhD9CpVWHBwdVH/r9xRaIMTbTRoBar9aJWKs+H1XSqxn8JpVJ2dDiQrBKEqAsgKlFbaQhnlrdCVewTa+Vha/X89+iUMM/49EACsKc/IdwfMNBLRIkWtYufb5IGkxZbE7AtMXh9nAefnt6P1ErNfV8iYPxmd2QeKdS3txslpTXPJeU1cg5PRnUK/+BB9LVDNIi+0btu2f3Gg0vZFnbHQPomK3U0Qgra7nj26Is9s/xyOlUxRDZ9d0KLXjlealPCsnQdJK+CZrm80w2imVKLqB/HoKV9W7ooK4okJ1sxCMWUQld2QbFvArupbmrZpVgLL+xy6DZfdwUqzLNS1viWXO9Rptk1E7e1xdtAaVbSHU26oAwT03ZiWZlbQO/ZsPFNbrLbsNH7qd0gzU57fS8VmeX9SkFTj+kH+SbKNanGCTJ7E63vgjCEYsouZBRYm7OzP4kL4WhfXr9XYb3H+ePjfesmYCLd6Jv068bMPEpY/O2Cdm1E40sqrQrUTOy9/iGSxFqwlgpc9vNU9jK5HdAJ4kK3W++vkIt+w7qzmK+v0GC1Qelh44rF//3uTN6CbMuW6j89aPlHdsztH0y7rsArGqxM5q+BF3BW3lK0WLLRD9LV7Aotq6ZzJvNb7RwfS3Rs2JlBaNml7XRpLt8UiorApwykjHhtwOC4ZUKT/KR986lLAorYErdF7r63a0ttbedwOpcRHSdXCXAsYG1fIjDi/28K1DBYvTalvv4OD0t0ZpK/b/JRuMlrMJTdw8CrO7paz8JRSW0FZIx9Ta8hmprZBuCaWVy/1CGLGsuK54lcLdpbJy7zo0sLhvZd77Yg04NHJfntY2Mg1lgnrtPuDrSloS1+NzGgpLJoh7gLIm97dCGuLbI4E79o6/W7hIqVmVtAx969CG1U+nPnOizBC/F6e1itR2DhlY5pjuqO1ZUlovq3BYglbr5fONX38rpCW+juz9HOT0sGzLKqVxleLta1oQFvetW3Zv5+lBbBf+HQvUtuSBoj/VoPH4UqAqc+JnWg4sOSe2QctEfdBmwv1EP9uKOnUeC2gqH/YrSYo9/JKWC4vTus0grAnpNLAQYcJyls9lbmJDKQ2ePl7mgRWUt5yY2ixNK3k+8gPJTsCydSVQKUxSWW+PXhv5fVgib4V2A6f1t/yldRwMDU5TRvAy0aEs0cNMsGbpb8lfntE0y9JKoiM76O4IK7eDOzAshuqNKeshnQmWS6v1tq3x9xP9XYvYsKyOe8nempYsQEXMz+FF82+YVtuG2tZtcd+iyZRYW6nvKctQkuMlmUtZpr/VhvsWpbVdjla6PZZcWQ4qKCrbsdh4K70yvFbW68Cc6N+yUbm0bTit5bQVr6J8uN0ODMtW1hufDn0yPNvd+TWsLf9EqhY+7LNZ2OWTl37/2O7J6LhgAXsLgcVxvc6Yt8zvSWKLxmZJWunzsXRxldzaS9utchsVez94K+v11+uwbwVKq2kFrHY5WjRqlWYjh6jFoFw8A1BvFqvH5yBlDWnLt2Uj9qcbRqvhymr+T9vZtTaOZGG4m51O3M3AsDOEgaEDXhjsxr6JcXxh3AKLHQnFDk68/v//ZavOV51TVfKHpJRkxUl6LubhOW+dKtlO9VG0fGhFrajsxiihfqi8grPLUpphtbhV9lhH4wdN4fjA3Pr88PcPvcahXQZdgRoVserUaHEZiluGGd5P7BD0TqeyFq18xn8YrdHvf4fmXWJd1oNRg7Wj8z8P3WA9zcmsltwqO9JybQMdOD6oEu//lXRY0X6MTIEECi4dYc0F1DzfQdy8v+UJ4bnU4/FDaEGnlZglpH7sog6LaHWGRbjmuZiH/a36JqfGJbGKYDm3PuJDMSHhCdR/bRf6Q9XezuT7rpdZ8/ZK7HDHgutPToL17QNoueUhvxg5tA2zdDm4I2a7fmXIauV53XY/sQ51aMWq3OHduv8QWDOJLIXqh4703Uyfuy6LQzILec3T+TB7P7E+qxaQqmOriNcH0Bo9yEvVeB6cmbTaxcB2HVfSbBYAw2JM7bpyfwuLcImJtRwniQWX6tvQtD4/SNdOG6N6caP7djnc+PJ5gMxq706vuZ+4ZLeYVSSWgzW4W86szK6MXTdrWjt4dHk7nZg1n8/VtBhXI+xvjc/uby3JqmWmaSCxMLaGdotghbUg35UIMs0w1yned2jWfefM0p3pvGUP4qJZwoucGusCJFp+fBv0k/hGDz/0YtDs8dneKqCaDGKWZNdT4tbljrTWdbhMpkJmVT3+OiQtB2um7jnbxY0qQJ1YPcyai1y6i8j2W/t2qZYRqXEovzpYVQ3uFpo1i7YZQv3586cpQW9Wl92/XGaZ6DK5db4/LTmyIrGqcHwELc4sm+ncJESUhoL1FBqurFpP6t0F7QvCjFdwFlqsQWn5MkxWzrtMtyCgJu4yhFmm45onbpXnb1EsWxosa1WBtIaaEwFWvBZUC5uIFdLqDusYVaEqQusXvV7+TOfOk+BYNe2+XYi88mOolIeAT2/ghElwNrOoepnlWR3n84xhmQ6i9fVb3F2N064dkSmzCj8eB3Jr9CDNle7Wd7swD052P9GncBmoDMPM+DTP3/NJtmw8onKZmwi5Fw2kioqOohiGlocFbu1UtxDSPVSeOXqU4TFHLJv14FYN7xVe2i0stcixabXUNViwWJV3a4hKFLNmihdTwifCKDzpUYZHC0zahywtiK19VIDpRMiNu80rJZaj9fsAtBjWTjUMO92ua7Xw7BnwSOqYmpVu2+A6Mbzblxv3fIdly7CAMgxjiA4CYamJb5ZMfgGVXL/80sMsVqtlZmztIJZxgxUCq9LrQc0KcG38uRmgEo1ZyqbJ2aM7LMaVZpfs3cyztPCtFRmvKu5IbbqHCgRag1QiwFJTn2GlmanI6m+W+HWMaCVuHZlW3da5i1TWrFCDHtVmsxmAloMlQTWTXQWKp0kUVSHgf+kd8MfsnJj2XEfcCoTw2ktoRfvtUeMeEqsiq1wZAq1+f6uKzOJdPV2CkxSS59cPVnokXVfccdWv+HmS/iVY+2XYw4q2RTWqQoe7w7QZhhaYtTPrZQ3JcuJHH1hH/7DhdcxFl4w7/5dJa9pp2OdWg8s42yuNisXyoyctb1ayUtZJBXAmhItpdYSFlEItJlH/xIvroNcfd3/+dkevvvKvWEv3RdMaND0DmMW0Nr1oebNyLdXErnCi0RkWD7aLWJ1x64/fvn79fId/7HZZi1e1whRt91FYVRmzerpFZXi2X5jIV8bWDVZ9LAWUkMo1EtJ1Aaz7T/fOrVevVT3WVsUb7rJyjkixWQd39HILzTJNekBjrhOFqxesSK44up4ULoL16etvd/tXvPds072qkiosKqa1kcZBxPK4utNCWJNs/ck1HovesCDobXTlNm3mHhb8x86t2t7ICbcmosCy6b7hA8069KFFZsVa7VSq6yeTvmVYGrtEMNui6m1nMMv915/vKKdqulTSt5ttGdlpUGFlxDocDo933WiNHtKEujAWPc0qLau5jq9owRhgebd0uHupinQbWa8HqXUnXAcgBaxWh45uxbAmqldQeOiER68yLMsScSlk8zpdWwsyhgWViFpVyzTZk/WglKASC6rw4HF1oxVgtXQJA5tVloKq1Dmvp8fjXG1yCSxPqwpuKbVUMxol1maz4XTHqRBjyz2+dKE1ejgPCYyyhzs7wgJSZUlfkuyisrSGBVi+g6jiFWGVqEW0glgqsCCywK1OKe9gRY1CWnxcfwuB1xkWc4IncTWa3YgjNRAKFtGqlrl90ciqWCzMduAEo1NueViZOmOFBJvF1QXWCM2CzEJmx1SxOOafDCxPCzjV0GApXoXZdGepCh1X9GBYqw65hWYlrGwJmktvsxAXSEWtRGnnRtN6GVjgVpXZkpEVYdUa7oeN9srBWt2cWzmzJtqsuBi7Z9Y3gCU1SJXIlqXtRA4Wp3yyHoxQ8RZWCCsK9kDLfXcrLQ9rkYZ5kCgN+K5mMSxGFqqR7Kqj+IJLBAtzq1qmPYPdwrK9aJgHoQLJrMOtuQVmJYjgXOgiNN9MBoClHHOUyriz5+g6xrDAragOw3KwkPWNFCEtcgQVksLr6TZaZFb7KZR6Z5aDNfbv/ir5UqoqlGqsfYuq6jGBhbRyN1PNPFgYs6QAV+HwxG7LLQernU/4brHAi79O+phV+3Os1QpVidkPvKivd5cUVkRLbnpVIlZh58GDqkGsQjpXb7f18lSGhtWCSjBAmqjrortZY4+pRrESwUqFS6mVgWVpFYlaG7V8Pti8Ikj0ZXXjnAhmLfQ5YVDqqYDql1ke1jjQMry4Eo/Y53PY58yiDsJsM5gGy/buB91fHYhVGDek/Oi7AWN1khqkn6FYPc1CYgxprHDRUsi2qVlYwa1CZ9aGOyyn1SFaO4cGS+N6W51ucGv0fTGxXlnBFgttFz/vCsvfLGVa4NhYcCGyY62v3rA8rOBW6LA20jUUei3Im1hhKgyk4Pp29arawbJjop43Ot0n8rNFD1j0MVBAyrHSuPx3ZoKEamyBxbQKfTdHljgFpxUvni0qKcM3h8qN1ZX3qhWsiSq/JsKmYPpf/bsrrJI+6hftGktdcoJFRXlsNYtpFXaJYzZGD3bxvDJinUgsr9bpykqMzGqUPnSNqPkfTjrC2qcfkFyOpSxrnfiyOfFrGyykpefBTaEXz9E8uJJ+VInlI4vduoJWBGvSLK4ZA8ESZPi1DGVZcpNRtpoFtEzPYBpRnALtrowpQc4sxHX6ckUlOlgN+nQBk9arh1l7OrLAalWTXJXtZqFbUS9qbk4c1EYyLQkF1xtVIMXW++mKSiSzCFdDlwy5ZjCz8NPYWqjpyMce9gwscMvcdi4MqDiwbIPlig9JrQDW6XLKs1lGL/u0SdB1N2vvxhgeltWeQOFnO2F/AW7V58zCfqsw97z0grAt3FEsZPUORXg6gVsXaOnMaoSOMo1/1ah/1nSHxQcz4xPJ7eUznsSzs2ZRJRZF1LdT9W3OouLGwU2GDta7w3aJFpnVhPJrDJ7G/gwf/cxiu1gxOeGo4aAPfPefnHwelneL2lHdim7OspIqpHHy4/39Ii0d8E2sUfhBNAv0gIVA9qKXyMWo8M8QwMce+uMSLMotuxq02wwZrzwqYYW0PKwLtDwsB6KhSxNUEoKNqVP4TVdY2RFwuVHTQ8ZFWOBWYe7Qm3VzbpHDnTtOhG/vPNbvp3O0Rt+bhlGFcmzEpsY84cegsOzwRYiVCI8rYHm3HjniDxu7MarMsmqFxDoJqbW7nnOLYZFYGlljZsfmw8w6P66ABbSCVXb/KrCKpsFQgGTWybFar8/RElgtgkXNF3zpDOvV/c+/wtk2kl+91lfA8q+xeTQNVnTXK+MV8joRrTcQy7t1WrfT8rCm7rDEwhFCKyRZD1ivROsVTz7CU48Hjj3942vMgtx6DHtYuRoM+wzgFdegEwraBjDrtPZne245WFODa5EyW1hinc16JRpBL4WIkfkTBn7zch2sT/d/3lVKLLMzGtL9zezMYLxLuK9JrnWrW6Pv0ymgmvqvLQOLk89FH1ivTIUhAROtGP8S/+XrlbA+3VMl4vbVJocq6q5wInS03kLCr5lW9p1cDhZyimuxaTLJz5r1MUtXnsYkHMUtP16uhoW0HKeVeQVI3GCtQsC/265BxPIpn/3kCjZrinKdI7YI0HqZJVwUMEtIf3ctLKjEx41e56R3clCslXglWgGkdzrWbZUIsIDV9KJbIfS7wopNujxerof16SvQStbPqh19W0WstFlrMWvrjhwthBWAYX41TWt+NU0/WFcRen2h8+UWWOiWbbHS2xOrRKt3UYpTfutwZWgFWOQWxDxNkPkkW0y7wnrZnyUEpx9Myz/55wZYQCu8SkZe0hDFO+z5ua7hzXglgYVjkqHlYT1PY2DypSX3hzbrhVGFg8S6ySyitUn7dtW4UzNKvZUmpVk5uVJaDtYzY9K0zrLqCusl8QiBvITn8iMef90Ei93KRLtZ5mSLkONq61vTHK3R92ej1tRY1UiG6THtAYvNoZMtwrrjIlTjn9vMIlq5lbPak1G5rkgJLjdmp+02peVhAa7nJkn6WLJesO4BFvIJGW4jKgL18o87bjTLDaAVrQdDWtEsqHCZuNqiXOstDttvEayp8at5bkI3kavHHma9hHKTQE8oMSl33A4rdSvpGUJgSXvlzi2H1RaKMXWLyjCuxQSUUqyzWVJsJphSTMypo1mf7kdIK4DSeaXbqzWtCY1ZAsqPn5qWg/X8jLQI2rT5nyR+nldXs15UQOkyNJg0KT86wLK01B7y6i1e5di2fcsZvyW9ttv/83Z+PY3kWBSHpdkkZBtlHjYtQr9UlaCkliXUKGuIZClRKQ8QbQlU+f7fZe17/edel9MTXMlWMmmGHqTh1+ceHx9XB0FpASxnW7XV19uyb161TxTZBv9OEkHq2vLHFv7JejsnQ4t2ok5Ze8fKVDOfetEzjd+Ki8rL6pcR1urxMdCa/DSoGC+trC6o641RsmIbAovO3n8PiMqj0srKei8GT4tW7vuervYrlkYBlMe12uEgBm15ZcFLZ4B1b5yTw1UP8iyAlRBWwBNe6LXIfOMKoPXxYW9Y2//nY7+PhtDPn98PkhFU9lXpy7v85CfoarnUcqqJvKzfL98It8BsAKweKfvqTCpoatuYR45nMW3t9dOdOn+QLJrK7ZvVhrq7sayNMNrCBDH52SEqa/PE6Ol+0UsMX08Ea+ul5fhwVTX6uch+S5TxP6/hFhm8FQssa0+ncPUZzyCbQ60tYXBpYKq4/of53xgjLFRWR5TFokScU/NgbWOHsoMXJpCBgscAWCNDC6Koze57X7f7JOpZbbyugrLEBqdQCVGYe2xGZm+4tLyctpZ8FD2wN6+vXFhbMn3bSFRJVEOUhdr6cJEU7pQBTh9hCtnFSCnrWRqVVlZr1sTxj5+1QQW4nLaiWXzju+xBytoGUfE49Z4gBdcQWIbWB4mjENo/yAjS/TOCoroCezdjKIq2ba///e3bz87pCrVFvQscfslBwcdDYPUiQkpSICoANgjWhZtER2tF94Mstq+YtysrK41KGGKFxnV9ff2XhtWhtGqnrbAq8j2QP9sYMIY9Ub0fGsATKIvR6jUNn/EySMYQdWXsSr8abcH1WHeIy0qrphvr5VsoI2qyCcqHFRC9p43KU8KrWgx9g7Bvek2047fHzSAxrE/r7DwyWF2Z0CBUIdQv7VpFWxQaWW0Gsevq9CxaeXGvz4S15VuZ9yglbPkAGlTDYRlaRlQmv/ePU10rs+EJSxhXN7TEpoA5dNJq2zeqrc5vrP0vxMLsJObCOjx7yCpSVnUCZekEoWkZZe0/UVurz55fRbJyjmWEZUSlgRlVaZEhrSWZRKetlKgGKiusfO9pT2cj2FTVcFigLXunzH7fWwXjAssqC0htQFqgKGGYASzU1rKjq2LtaHmNLUM1mA8r7VV9XBWwak4Cy2gLItZ+7/srnq74MiiU3RQKq6y2LdzVIi3CqrZPjwsF9rY8jbKSsgJM20hWp/Asq61Pcwix/4zWwY2vGryyhN0/Y2wwBl+wy2srTlxdWBxJjljWA2AxaTV+DWxIDnWiAlwngWW0Ze/s49vBOLe7rgG2hPphrp0A14IRLITo06ptogdp9TY/g5WVSFXc1wOuxWney91M4iqxErLcDnvnYFdGWIBMGVYQTAtM823NJtE3gh1fGHE9PAmsHiSNaFv5+TulsqxvOVR7XvWtIllZUgBIuCn0w4jawry1rLl18YrLfmIgrKb/oFbVBFQng4W+FUh5Wa2ItVtZbUBROikQQu6DHX46sSZ6YFxay2GwGp4XmjgveGWdFhbSYstgcPcI6FJiAAASE0lEQVRQNIBZaWIGijP3yOJ3zuUJrM6VzXXweEttAKwmmr8tD1aoqSYM4uKEPwmG0Nq4jMWmUOAiuAFdCcQUxhA/2rXpNbGrvXeBdXVuHLNhNdtD80eiFVGWlCeEZXyLnTvTgAUrILRX2I3iI9JUAVtEKy3UVnShprrwSz0EVjKruxXQ6coP4UmVBdpiLXLQlYIO2ccrE0VVawaxcN6lGDNVJGjV4eiH9Db5sJreZpmJinECaZ0UltfWph+wbCVj94PWs4qIkGiDifV2PmRx7IysrMByYTmv2vZUZXn5LHoeWJggrFWtwrmzcr0oqqpVrfAzVxR9ajuBnU1bp/eJ/mCxyx9Db+69FFr5dEVRyZPDsrT4aWrQFZbIkBsEiiteCp2yIKQWpN86FCKWy2xYyW6hYcHKfSBPbvDBt1jZ/mjrmLAOqp6tk2URgykw1Z/6XdM1saN53hlYPqwmHkNnV02wdmlFBR/cXZ78x9AirfhAFVVlHZ0aFqyJ7Y6jcwkfsrzRFdv+kI4rX1l/RuUEFSZRympx+p9w7GgBscfQyeB2MK0sl0a9siyuVAfhZQXtc6ayFgcmkGwGvbSke9ydHtbI0lIrUrmbGVT+ZCINrGWDCKPo+61+5HLOlQVruqj6siKJoUFhyWBYAGt6clhWWyt+kANHXgJ9XbXUrLyiRG8Qd3rpJNpKKmwArMQEelQkZUmUl4F1hh9ib7QFth4OCKEYRc+yWaFVTFHCK4poS7TK561umR7GHFij74skqortcGSQlQEm5d3NGWBdXFxqWuSGBhhCJURR9MOooFGLwCpsM6hh/a5TsAYoa3T1r2jLTLbNTUDlE5a9ZuNzwLrw2jLhARq+X86wqDfxrNUzMnCuonD9Fjh6F81jFqzLBeHkHcuLSpIBNJqytMrZ5ehstADW4wZEFQ4Hv3IplyDImuiP+FFdWbB+zMLWpgp7G/2AkSNRFJFZXPOr88BC34JbioATFsi0wHJBVJiQJeKkhToT9ouifmuosi4AVt/VUVmNdJx8aLDXmUzL0wKbh+8bTijcrKVVJrCDUNGqyPstrqw8WOOblLHTnkHa5EAcS8r1mUwLaYGqrLebUewzOpRQhbctVFbc2HjHz4KFEb6i5UKvkeETKM86h4GWu5lB4bGXlY7oc1IJXm59DLT43qfOh1Vxw/Lbm/QMlrIszxNLKS17WI8nN2n9GMcSETIVBhG+OJxVW2SWWBas0XRBW74qLvuca+EQVo7WGefQ+ZaAATTDJBIxQdjaPSEx5feJqqDniR3ND3nKurzbVtGpoI+fvpIJU1jio6zm30dnpaVshSASXV+UT6nAqMUXzuxs3iJxq8tT1uWC1XxEYBVtsIhflRLm8P580gJaQrV2Z6iK/jYwlA5t6t9cA4Fx9rfb+Xh95SlLZwfaWjWVbLysnLhoHnXKktX5LN7Ran2PwDCFIot8NqjLHZbZSWT9lh/DPGXp7CCdR5HkwHVFUFla8szSsi4P37Ld8YiCHUf/IT8UeMBvx9in086ZVpc9hpPpXRXvnoOkYAL9QljapRCe5VmlBbR+qVan0h1fDnloJ5m+JTUgftIBM0YftYF5yhpdLXp6on0Mze0WF8Bay7vZOaUF+0TjW5jgRTJOaY8SCXIicHL7xIL3W5ljqB2+Cmc4TcTLSUwGwypRWmtZnnNBdLTghiIRO1PUv8M2sWDBwX+NzhgC/4bBG0mlmbAuftykMrskyyBPWGBZa7kuy7tzdQ+EljL3qhX+kEuIY7Y+9r4kP5IGF79/KxcWmJYvZWQ4wmH5ypKynoUKO7PHO1pws7vpinHLp0Xy94cXCXi+gxgwhmBatDqWdPtMAlYp0aykxEEsy/V6Pj0/LfNtKvVoJol2ovE+cRcXhIwV3lH5O/hWLqzLWWxU9JCQ0iq9sNC5jG1Nzktrgr7lTriCHSlCSdBKXvGzV8G0Ze8NzIZlkhbt2yUVVkwKJ3FtnuXaDOLsanTxf/EtkEbRMvOmdbP4w3F13G91+bDMCY+MhSXjUqaM10KYQzkfQGs0Gn3F5TFdujrB16RhZVQpz1dMWf4em1xYbA5lhAuAlfxhRLWG14chtEaX08sjaYW8hSIr4v1PwuEVKylYvzVAWaPxTcRKVgd0FeI7sCo1rTKX1uTqdn6c5QEtPIaAb3f3x9OK5G+LqA3MhgVzSJo+CwpRVSEyBFpISssLXvNojae3t0+3t8fS+qUK51voUja779KpQSSaU8heeJ44AJYO8bKJ+/aoRi5tYCDCkmvgZWh9H39Zzfe3T/o6ntaj/jYdrSMbeUFKVbelBnVpbWXD0uvhXcOPJ6SkrEpuWWYpRHWtgdZ6Ppt+7Qc4ji41q5enp5eX2+Mm0SQIE0ahaFbpLgvVJZzszG/6/yDut+p8WKMrHeJlQxJDf/ccRGWVVeIUmqt8mN9ffSFwjb/Pb180K8PreG35xKQOnYmlT1zdEPrLZPl8WBc/ZjJq26XXVhmCu9/nrO2KuMYLbP5ocenVd377+voE18vr8bR22G/tFHekHasf1CF7xzICnprWAFi4P/TZiuqqlL0toZtBMCyA9fCg4+n99yNwjUbjqZWV1hX88vQFl29dhEjeDn+wDPSoXK3fXufD0n/YMj4frDgrNolrqiszhlpb2rlmf4drNBlPjaxeYALx+fTyhUmENlCIg86+a/HgJ/xFDOHvfRC+5jJvzfJtwNt43Nw5s5L9ZZBpStplkPPS6jJGr4dxMjosqqv7+e0zyOn1+cldL1/xrfZw5dD7GwShq+f7b+N6Q2CZ6kGy4C57wd0qax1CVgRLPzUuPY3j3j5G72zGl05Uz0/P1t2f3CAeTcv0UiSR28r5byZyJ4IcbYgYAuticnMXWneuLRm1DTSUMlRw3Rle0++X4/FkMjLXZDIZj6+m9zON6vn55fnFXd6zvkgLd9M75TpRyKnh6HB3jIu1g2Bpacn+zTJS0sAQMkOIWLgYPoTnw8Prej6fGWT6mpqX2b3mdKvn75nCeqIm/3Kky0/ifmsnxIGB3P0psKpBsLRrrdlJDstYss/K03pAXERcmtfD66vOBHO87m7/197V9CaOBNGwBGEmCkJIOEKcMHK0QpbQ+GD3wVLfkfj/f2e7+rOqus0ANtFqEq82yaz2sPvy6vWrV9VG1OrPtcGqtlA9xq3efCti1SVRnn6LcFgZgjENnDrw8qNoBcUqUswCpEoQfKF/BpD0F8CKVKEVLf1DfTu3rudbUXtYRXcxBjNLqVZxOHCl8k0hyxu0d0d1iLCy3DLwCA0T/KFtMVwn83cg1l3cYvlWVbGCO/uUSx+HPqzp/N2xgcxS1MpTviF4d9cT0irUSAWsZCkMVsJ8hQJ030WoQouVF632PpVn+Rbuf7reKH5MZukDMZVgFThywNTCCi8tVE6yNECGX74EqcC3vgI9v+7QLZRv7aveCuzzYoOZpai1OjR8WcYNc5zJgkBZUktqqWXx0lhZ5QI2aVJ5yBy1Tr4K2xOqxdvRwvlWmE2fk1JvDD3ZxRnMrJc5dIimv4FqLIjAG+cOKZYsUljJcBKWZW2p5bEKAo+5RY7DO9H6VOrel2+lr9hhyl0Gg/Xy8Us2h4KOCaPD0Hc7xGVJxCwNmAh41eFAbJFsBY+FEbvHb/F8i3Gq613jGl6GEItvi0NTsAm0mxK63F2yXocB5cAKSAl7KCaYdWqxwt/rt+yQiwcQfA0Crwg6CIeDBc60cYYh2IUQY7kmOnCrRJJFkcJw+aclttSTCjGrvT2x+cT5VnrNpkfqx2AWRDUWLdoRNrglbJLdDvZYlFmWXbVxDgnNailcj+VbzKKfA6vQ6k3g2AhgvSzeVSFagMyiLUlmcPRexL5B4m4nwIUf5LSQuj+k8nG+db4i9mc8uR6FWVCIBW6g4fvBTVYbHzdwzZJMtIwjLSmzrH8P5gEz61G0XL7V4bvT1R9s1kjMgkIsDiwZtUVImRVpFrWk2DtY6yA8Wix3iAzE4/lWxUuyS1rVkZg1VydiOAllg6Y5wV/hxMEplkMMkaoMx6EXeSZaqKNmaL3d3Ccav/Vp7iCevfPq2FUxvBFRdaOABaPiLZpQSLcEQjxDiP1KKVO+oceUuk46xDRO3eNSvGNCdtH78tH+FtEwshzRVSOBNQfZKhBeZPZFAuUS5zOo16FFaMtQJJl1aoPTah9Ay+VbnX/9n4GrSvsHN3sci1latkjgwEK/okfc0VmITsOa+Cx2HBIbT587slOUL8f51vnCOFaNySzjH2B32zHLjSh46OfR4k10KYi8Y8B0qhXxqk0YiMfzra7q3ZZ3ujUeWDBzDWZUaxaqQ4nSGdwUBoUX1Gfh3tAUYU3L8JQowkH5Fr2+Eu1MjlmGGq28CdkM7gm5yXIpKZH4kjY7tBRRtOzrMMksjVZ2o251aLvvfGWSuB+dWeq3tcsLnMzwsU7BipD7d1KIdbI3JMRK2Yfb0YLOpwqJzYV2h1qviN8aOGRN7E9tnV41XNujrpCGMyU/CyOhJ3FpGwxEohJXt+9v0XyrZ4/SBPKqDKejvlsO0DJWq0li5aYU/iiUUatjoaprFjxQT4rz0rgS83s2knC+1XGnFe75jA2WQctcaYK/Ghl5Uq9WVxTLwcVki4wtyFgs5tZtl8+yK/lWdDRWY4Ol0dKGlJ6EEtt3pFgso4m8Q8JnOWaRyXQbNz43/W/xfOvaNjP4rMnLqM98sttawUo5UjoCI71OD7FSHv7PzFrduCQX51vn3rcDKrDGvkezALSkkXncQIc+Giv8NWax7rDFVovMpaMucXn7zTOSb/kbKuHlBej9LF21Gf3S0fzj11YSVkWtDmdW1BcGWmHNQvlf29sdAla7O27pxftbFdetyjFrfLBAt3JrSMNeJNOsMNyh1KJ4mWF+GzstNmltqV7t7tqCDvkW9aM8n7+MaeAjlZcS2Xgi8bKkXbRHill4wRKtOHlIlODy3ht62dTfT6zsx/LAzxcSCyr2/R5b3x1ab7kxWqV1EQVLsiQ17wnvQJvD1IEYpha2IFuzanp3rSi0rN+CzzGi40R/GVZht37SPcmP9xxEvpTR8gxay5LJmWHiLAzMYkENppVZE1lNH7jLaKav5h75J+SmlVuUtDmXNvlPqUI7el2Z7rDEK1ncOkhmSvt8ViJZpi7LbZk+eAHbvPUHADt3x+6otBzsRNiG1xH05mkXcOeLiTkUrbYXkkwqJG116lRvGKjV+jKkIk/j5Rbk6tFrW6DynXt3ML2/ad4fcpw99WUnH2+5kEVBAmW278fNQ8lNVp/Ae3lvUUiavz/+u9d+qzOvsKEpvN3jmq2ferN7nk1XW1WGDq2SRMpsN6ukDt5zq7cMww6g+bbMd4PegaDzLfPpMu4dbdU+vPPoMnvyGxbAzecNGYKVvdNV6uB9CYq0wLPFNh00ZIM/EfCoDddlb1/C5d6VpP7B+XnqjgeKK1AuvVnLh2DSrd5a8xAx69rw8GRFy9JquRuuKIvp5viphz1ddzzqt/8YAVN2dPaavTz/WUzeVtuyARfhFmeSAU3Zw6xoxBNymlNtLqm0Il8NpZX9b93M9r/trOe815+GCHVZzdbTr8DKwJWL0otWgdRd9galxGiJVAJ4EgYpEPa3yVjzvNfZWctWePa/j/+8ZvOXL3oWIPSluTTXo1oRs5KTQ8otDVXdKmEf8deeTdf6rrCWLv31c7b5KlqZX9j84321DPfAPKd6NatGTqsvATydhFDWapwKxEf4Zvbv0b5JdzbbrL+QVki6cjq5v+azBK5AMrIIkiXq8aEycE1e1xv9rF+nky+Hypw1Ci4U/PHWsExrVjzDd3CJZf4EqEwlLLJskmWJW31fVoyGXTJK30WsWXUqKiXMWj4Nqv/LA9oVtF57L5s3hHEYmRtquPQlHrvwoKklalV/Stb/ZqjMyaivptalbKRbCHGpgyDxn2hxCRrkNFLCkGrxt0NlqvFjqvGSOpZx8QxCy2+V+mtiUI3KqgOCLSA1yb4DUgSvrbYSNbpsWCYyeCCU8lOaW8Cpt+k3QsrhpW9AA2CWXLWguXJtL7IKW4MA1E5xavHdoPKGRhFspRADWkkMV+0WQ+D8g5vA6l97n35XoJCjmb7rS/Y5YMYaRGCTvpY/zb45UKQmgWQ7hRl5dj8wXaPZQr/PQeGTLfQLHn5A+Xl+np/n53nC8x/tAMljWkeBnAAAAABJRU5ErkJggg==",objectDefineProperties={},DESCRIPTORS$7=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$1=objectDefineProperty,anObject$8=anObject$d,toIndexedObject$1=toIndexedObject$5,objectKeys=objectKeys$2;objectDefineProperties.f=DESCRIPTORS$7&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function e(r,t){anObject$8(r);for(var n=toIndexedObject$1(t),u=objectKeys(t),a=u.length,s=0,i;a>s;)definePropertyModule$1.f(r,i=u[s++],n[i]);return r};var getBuiltIn$5=getBuiltIn$8,html$2=getBuiltIn$5("document","documentElement"),anObject$7=anObject$d,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html$1=html$2,documentCreateElement$1=documentCreateElement$2,sharedKey$1=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$1("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var r=e.parentWindow.Object;return e=null,r},NullProtoObjectViaIFrame=function(){var e=documentCreateElement$1("iframe"),r="java"+SCRIPT+":",t;return e.style.display="none",html$1.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(scriptTag("document.F=Object")),t.close(),t.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var e=enumBugKeys.length;e--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[e]];return NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var objectCreate=Object.create||function e(r,t){var n;return r!==null?(EmptyConstructor[PROTOTYPE]=anObject$7(r),n=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,n[IE_PROTO$1]=r):n=NullProtoObject(),t===void 0?n:definePropertiesModule.f(n,t)},wellKnownSymbol$e=wellKnownSymbol$i,create$2=objectCreate,defineProperty$3=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$e("unscopables"),ArrayPrototype$1=Array.prototype;ArrayPrototype$1[UNSCOPABLES]===void 0&&defineProperty$3(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:create$2(null)});var addToUnscopables$2=function(e){ArrayPrototype$1[UNSCOPABLES][e]=!0},$$c=_export,$includes=arrayIncludes.includes,fails$5=fails$g,addToUnscopables$1=addToUnscopables$2,BROKEN_ON_SPARSE=fails$5(function(){return!Array(1).includes()});$$c({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE},{includes:function e(r){return $includes(this,r,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$1("includes");var iterators={},fails$4=fails$g,correctPrototypeGetter=!fails$4(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hasOwn$4=hasOwnProperty_1,isCallable$8=isCallable$k,toObject$1=toObject$4,sharedKey=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),$Object=Object,ObjectPrototype=$Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(e){var r=toObject$1(e);if(hasOwn$4(r,IE_PROTO))return r[IE_PROTO];var t=r.constructor;return isCallable$8(t)&&r instanceof t?t.prototype:r instanceof $Object?ObjectPrototype:null},fails$3=fails$g,isCallable$7=isCallable$k,isObject$6=isObject$c,getPrototypeOf$1=objectGetPrototypeOf,defineBuiltIn$6=defineBuiltIn$9,wellKnownSymbol$d=wellKnownSymbol$i,ITERATOR$7=wellKnownSymbol$d("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$1(getPrototypeOf$1(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=!isObject$6(IteratorPrototype$2)||fails$3(function(){var e={};return IteratorPrototype$2[ITERATOR$7].call(e)!==e});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={});isCallable$7(IteratorPrototype$2[ITERATOR$7])||defineBuiltIn$6(IteratorPrototype$2,ITERATOR$7,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty$2=objectDefineProperty.f,hasOwn$3=hasOwnProperty_1,wellKnownSymbol$c=wellKnownSymbol$i,TO_STRING_TAG=wellKnownSymbol$c("toStringTag"),setToStringTag$6=function(e,r,t){e&&!t&&(e=e.prototype),e&&!hasOwn$3(e,TO_STRING_TAG)&&defineProperty$2(e,TO_STRING_TAG,{configurable:!0,value:r})},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$1=objectCreate,createPropertyDescriptor$2=createPropertyDescriptor$5,setToStringTag$5=setToStringTag$6,Iterators$4=iterators,returnThis$1=function(){return this},iteratorCreateConstructor=function(e,r,t,n){var u=r+" Iterator";return e.prototype=create$1(IteratorPrototype$1,{next:createPropertyDescriptor$2(+!n,t)}),setToStringTag$5(e,u,!1),Iterators$4[u]=returnThis$1,e},uncurryThis$a=functionUncurryThis,aCallable$6=aCallable$8,functionUncurryThisAccessor=function(e,r,t){try{return uncurryThis$a(aCallable$6(Object.getOwnPropertyDescriptor(e,r)[t]))}catch{}},isObject$5=isObject$c,isPossiblePrototype$1=function(e){return isObject$5(e)||e===null},isPossiblePrototype=isPossiblePrototype$1,$String=String,$TypeError$7=TypeError,aPossiblePrototype$1=function(e){if(isPossiblePrototype(e))return e;throw new $TypeError$7("Can't set "+$String(e)+" as a prototype")},uncurryThisAccessor=functionUncurryThisAccessor,isObject$4=isObject$c,requireObjectCoercible$2=requireObjectCoercible$5,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=uncurryThisAccessor(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch{}return function(u,a){return requireObjectCoercible$2(u),aPossiblePrototype(a),isObject$4(u)&&(e?t(u,a):u.__proto__=a),u}}():void 0),$$b=_export,call$a=functionCall,FunctionName=functionName,isCallable$6=isCallable$k,createIteratorConstructor$1=iteratorCreateConstructor,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf,setToStringTag$4=setToStringTag$6,createNonEnumerableProperty$1=createNonEnumerableProperty$4,defineBuiltIn$5=defineBuiltIn$9,wellKnownSymbol$b=wellKnownSymbol$i,Iterators$3=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$6=wellKnownSymbol$b("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},iteratorDefine=function(e,r,t,n,u,a,s){createIteratorConstructor$1(t,r,n);var i=function(E){if(E===u&&d)return d;if(!BUGGY_SAFARI_ITERATORS&&E&&E in l)return l[E];switch(E){case KEYS:return function(){return new t(this,E)};case VALUES:return function(){return new t(this,E)};case ENTRIES:return function(){return new t(this,E)}}return function(){return new t(this)}},o=r+" Iterator",c=!1,l=e.prototype,f=l[ITERATOR$6]||l["@@iterator"]||u&&l[u],d=!BUGGY_SAFARI_ITERATORS&&f||i(u),h=r==="Array"&&l.entries||f,v,p,g;if(h&&(v=getPrototypeOf(h.call(new e)),v!==Object.prototype&&v.next&&(getPrototypeOf(v)!==IteratorPrototype&&(setPrototypeOf$1?setPrototypeOf$1(v,IteratorPrototype):isCallable$6(v[ITERATOR$6])||defineBuiltIn$5(v,ITERATOR$6,returnThis)),setToStringTag$4(v,o,!0))),PROPER_FUNCTION_NAME&&u===VALUES&&f&&f.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty$1(l,"name",VALUES):(c=!0,d=function(){return call$a(f,this)})),u)if(p={values:i(VALUES),keys:a?d:i(KEYS),entries:i(ENTRIES)},s)for(g in p)(BUGGY_SAFARI_ITERATORS||c||!(g in l))&&defineBuiltIn$5(l,g,p[g]);else $$b({target:r,proto:!0,forced:BUGGY_SAFARI_ITERATORS||c},p);return l[ITERATOR$6]!==d&&defineBuiltIn$5(l,ITERATOR$6,d,{name:u}),Iterators$3[r]=d,p},createIterResultObject$3=function(e,r){return{value:e,done:r}},toIndexedObject=toIndexedObject$5,addToUnscopables=addToUnscopables$2,Iterators$2=iterators,InternalStateModule$4=internalState,defineProperty$1=objectDefineProperty.f,defineIterator$1=iteratorDefine,createIterResultObject$2=createIterResultObject$3,DESCRIPTORS$6=descriptors,ARRAY_ITERATOR="Array Iterator",setInternalState$4=InternalStateModule$4.set,getInternalState$1=InternalStateModule$4.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator$1(Array,"Array",function(e,r){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject(e),index:0,kind:r})},function(){var e=getInternalState$1(this),r=e.target,t=e.index++;if(!r||t>=r.length)return e.target=null,createIterResultObject$2(void 0,!0);switch(e.kind){case"keys":return createIterResultObject$2(t,!1);case"values":return createIterResultObject$2(r[t],!1)}return createIterResultObject$2([t,r[t]],!1)},"values"),values=Iterators$2.Arguments=Iterators$2.Array;addToUnscopables("keys");addToUnscopables("values");addToUnscopables("entries");if(DESCRIPTORS$6&&values.name!=="values")try{defineProperty$1(values,"name",{value:"values"})}catch(e){}var globalThis$a=globalThis_1,userAgent$3=environmentUserAgent,classof$4=classofRaw$2,userAgentStartsWith=function(e){return userAgent$3.slice(0,e.length)===e},environment=function(){return userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":globalThis$a.Bun&&typeof Bun.version=="string"?"BUN":globalThis$a.Deno&&typeof Deno.version=="object"?"DENO":classof$4(globalThis$a.process)==="process"?"NODE":globalThis$a.window&&globalThis$a.document?"BROWSER":"REST"}(),ENVIRONMENT$1=environment,environmentIsNode=ENVIRONMENT$1==="NODE",makeBuiltIn=makeBuiltIn$3.exports,defineProperty3=objectDefineProperty,defineBuiltInAccessor$3=function(e,r,t){return t.get&&makeBuiltIn(t.get,r,{getter:!0}),t.set&&makeBuiltIn(t.set,r,{setter:!0}),defineProperty3.f(e,r,t)},getBuiltIn$4=getBuiltIn$8,defineBuiltInAccessor$2=defineBuiltInAccessor$3,wellKnownSymbol$a=wellKnownSymbol$i,DESCRIPTORS$5=descriptors,SPECIES$2=wellKnownSymbol$a("species"),setSpecies$1=function(e){var r=getBuiltIn$4(e);DESCRIPTORS$5&&r&&!r[SPECIES$2]&&defineBuiltInAccessor$2(r,SPECIES$2,{configurable:!0,get:function(){return this}})},isPrototypeOf$1=objectIsPrototypeOf,$TypeError$6=TypeError,anInstance$3=function(e,r){if(isPrototypeOf$1(r,e))return e;throw new $TypeError$6("Incorrect invocation")},uncurryThis$9=functionUncurryThis,fails$2=fails$g,isCallable$5=isCallable$k,classof$3=classof$6,getBuiltIn$3=getBuiltIn$8,inspectSource$1=inspectSource$3,noop=function(){},construct=getBuiltIn$3("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$3=uncurryThis$9(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop),isConstructorModern=function e(r){if(!isCallable$5(r))return!1;try{return construct(noop,[],r),!0}catch{return!1}},isConstructorLegacy=function e(r){if(!isCallable$5(r))return!1;switch(classof$3(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$3(constructorRegExp,inspectSource$1(r))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$2=!construct||fails$2(function(){var e;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){e=!0})||e})?isConstructorLegacy:isConstructorModern,isConstructor$1=isConstructor$2,tryToString$2=tryToString$4,$TypeError$5=TypeError,aConstructor$1=function(e){if(isConstructor$1(e))return e;throw new $TypeError$5(tryToString$2(e)+" is not a constructor")},anObject$6=anObject$d,aConstructor=aConstructor$1,isNullOrUndefined$1=isNullOrUndefined$4,wellKnownSymbol$9=wellKnownSymbol$i,SPECIES$1=wellKnownSymbol$9("species"),speciesConstructor$1=function(e,r){var t=anObject$6(e).constructor,n;return t===void 0||isNullOrUndefined$1(n=anObject$6(t)[SPECIES$1])?r:aConstructor(n)},NATIVE_BIND$1=functionBindNative,FunctionPrototype=Function.prototype,apply$1=FunctionPrototype.apply,call$9=FunctionPrototype.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1?call$9.bind(apply$1):function(){return call$9.apply(apply$1,arguments)}),classofRaw=classofRaw$2,uncurryThis$8=functionUncurryThis,functionUncurryThisClause=function(e){if(classofRaw(e)==="Function")return uncurryThis$8(e)},uncurryThis$7=functionUncurryThisClause,aCallable$5=aCallable$8,NATIVE_BIND=functionBindNative,bind$7=uncurryThis$7(uncurryThis$7.bind),functionBindContext=function(e,r){return aCallable$5(e),r===void 0?e:NATIVE_BIND?bind$7(e,r):function(){return e.apply(r,arguments)}},uncurryThis$6=functionUncurryThis,arraySlice$3=uncurryThis$6([].slice),$TypeError$4=TypeError,validateArgumentsLength$3=function(e,r){if(e<r)throw new $TypeError$4("Not enough arguments");return e},userAgent$2=environmentUserAgent,environmentIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$2),globalThis$9=globalThis_1,apply=functionApply,bind$6=functionBindContext,isCallable$4=isCallable$k,hasOwn$2=hasOwnProperty_1,fails$1=fails$g,html=html$2,arraySlice$2=arraySlice$3,createElement=documentCreateElement$2,validateArgumentsLength$2=validateArgumentsLength$3,IS_IOS$1=environmentIsIos,IS_NODE$2=environmentIsNode,set=globalThis$9.setImmediate,clear=globalThis$9.clearImmediate,process$2=globalThis$9.process,Dispatch=globalThis$9.Dispatch,Function$1=globalThis$9.Function,MessageChannel=globalThis$9.MessageChannel,String$1=globalThis$9.String,counter=0,queue$2={},ONREADYSTATECHANGE="onreadystatechange",$location,defer,channel,port;fails$1(function(){$location=globalThis$9.location});var run=function(e){if(hasOwn$2(queue$2,e)){var r=queue$2[e];delete queue$2[e],r()}},runner=function(e){return function(){run(e)}},eventListener=function(e){run(e.data)},globalPostMessageDefer=function(e){globalThis$9.postMessage(String$1(e),$location.protocol+"//"+$location.host)};(!set||!clear)&&(set=function(r){validateArgumentsLength$2(arguments.length,1);var t=isCallable$4(r)?r:Function$1(r),n=arraySlice$2(arguments,1);return queue$2[++counter]=function(){apply(t,void 0,n)},defer(counter),counter},clear=function(r){delete queue$2[r]},IS_NODE$2?defer=function(e){process$2.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel&&!IS_IOS$1?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=eventListener,defer=bind$6(port.postMessage,port)):globalThis$9.addEventListener&&isCallable$4(globalThis$9.postMessage)&&!globalThis$9.importScripts&&$location&&$location.protocol!=="file:"&&!fails$1(globalPostMessageDefer)?(defer=globalPostMessageDefer,globalThis$9.addEventListener("message",eventListener,!1)):ONREADYSTATECHANGE in createElement("script")?defer=function(e){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(e)}}:defer=function(e){setTimeout(runner(e),0)});var task$1={set},globalThis$8=globalThis_1,DESCRIPTORS$4=descriptors,getOwnPropertyDescriptor2=Object.getOwnPropertyDescriptor,safeGetBuiltIn$2=function(e){if(!DESCRIPTORS$4)return globalThis$8[e];var r=getOwnPropertyDescriptor2(globalThis$8,e);return r&&r.value},Queue$2=function(){this.head=null,this.tail=null};Queue$2.prototype={add:function(e){var r={item:e,next:null},t=this.tail;t?t.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e){var r=this.head=e.next;return r===null&&(this.tail=null),e.item}}};var queue$1=Queue$2,userAgent$1=environmentUserAgent,environmentIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$1)&&typeof Pebble<"u",userAgent=environmentUserAgent,environmentIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent),globalThis$7=globalThis_1,safeGetBuiltIn$1=safeGetBuiltIn$2,bind$5=functionBindContext,macrotask=task$1.set,Queue$1=queue$1,IS_IOS=environmentIsIos,IS_IOS_PEBBLE=environmentIsIosPebble,IS_WEBOS_WEBKIT=environmentIsWebosWebkit,IS_NODE$1=environmentIsNode,MutationObserver=globalThis$7.MutationObserver||globalThis$7.WebKitMutationObserver,document$2=globalThis$7.document,process$1=globalThis$7.process,Promise$1=globalThis$7.Promise,microtask$1=safeGetBuiltIn$1("queueMicrotask"),notify$1,toggle,node,promise,then;if(!microtask$1){var queue=new Queue$1,flush=function(){var e,r;for(IS_NODE$1&&(e=process$1.domain)&&e.exit();r=queue.get();)try{r()}catch(t){throw queue.head&&notify$1(),t}e&&e.enter()};!IS_IOS&&!IS_NODE$1&&!IS_WEBOS_WEBKIT&&MutationObserver&&document$2?(toggle=!0,node=document$2.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}):!IS_IOS_PEBBLE&&Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),promise.constructor=Promise$1,then=bind$5(promise.then,promise),notify$1=function(){then(flush)}):IS_NODE$1?notify$1=function(){process$1.nextTick(flush)}:(macrotask=bind$5(macrotask,globalThis$7),notify$1=function(){macrotask(flush)}),microtask$1=function(e){queue.head||notify$1(),queue.add(e)}}var microtask_1=microtask$1,hostReportErrors$1=function(e,r){try{arguments.length===1?console.error(e):console.error(e,r)}catch{}},perform$3=function(e){try{return{error:!1,value:e()}}catch(r){return{error:!0,value:r}}},globalThis$6=globalThis_1,promiseNativeConstructor=globalThis$6.Promise,globalThis$5=globalThis_1,NativePromiseConstructor$3=promiseNativeConstructor,isCallable$3=isCallable$k,isForced=isForced_1,inspectSource=inspectSource$3,wellKnownSymbol$8=wellKnownSymbol$i,ENVIRONMENT=environment,V8_VERSION=environmentV8Version;NativePromiseConstructor$3&&NativePromiseConstructor$3.prototype;var SPECIES=wellKnownSymbol$8("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$3(globalThis$5.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5=isForced("Promise",function(){var e=inspectSource(NativePromiseConstructor$3),r=e!==String(NativePromiseConstructor$3);if(!r&&V8_VERSION===66)return!0;if(!V8_VERSION||V8_VERSION<51||!/native code/.test(e)){var t=new NativePromiseConstructor$3(function(a){a(1)}),n=function(a){a(function(){},function(){})},u=t.constructor={};if(u[SPECIES]=n,SUBCLASSING=t.then(function(){})instanceof n,!SUBCLASSING)return!0}return!r&&(ENVIRONMENT==="BROWSER"||ENVIRONMENT==="DENO")&&!NATIVE_PROMISE_REJECTION_EVENT$1}),promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1,SUBCLASSING},newPromiseCapability$2={},aCallable$4=aCallable$8,$TypeError$3=TypeError,PromiseCapability=function(e){var r,t;this.promise=new e(function(n,u){if(r!==void 0||t!==void 0)throw new $TypeError$3("Bad Promise constructor");r=n,t=u}),this.resolve=aCallable$4(r),this.reject=aCallable$4(t)};newPromiseCapability$2.f=function(e){return new PromiseCapability(e)};var $$a=_export,IS_NODE=environmentIsNode,globalThis$4=globalThis_1,call$8=functionCall,defineBuiltIn$4=defineBuiltIn$9,setPrototypeOf=objectSetPrototypeOf,setToStringTag$3=setToStringTag$6,setSpecies=setSpecies$1,aCallable$3=aCallable$8,isCallable$2=isCallable$k,isObject$3=isObject$c,anInstance$2=anInstance$3,speciesConstructor=speciesConstructor$1,task=task$1.set,microtask=microtask_1,hostReportErrors=hostReportErrors$1,perform$2=perform$3,Queue=queue$1,InternalStateModule$3=internalState,NativePromiseConstructor$2=promiseNativeConstructor,PromiseConstructorDetection=promiseConstructorDetection,newPromiseCapabilityModule$3=newPromiseCapability$2,PROMISE="Promise",FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule$3.getterFor(PROMISE),setInternalState$3=InternalStateModule$3.set,NativePromisePrototype$1=NativePromiseConstructor$2&&NativePromiseConstructor$2.prototype,PromiseConstructor=NativePromiseConstructor$2,PromisePrototype=NativePromisePrototype$1,TypeError$3=globalThis$4.TypeError,document$1=globalThis$4.document,process$4=globalThis$4.process,newPromiseCapability$1=newPromiseCapabilityModule$3.f,newGenericPromiseCapability=newPromiseCapability$1,DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&globalThis$4.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,isThenable=function(e){var r;return isObject$3(e)&&isCallable$2(r=e.then)?r:!1},callReaction=function(e,r){var t=r.value,n=r.state===FULFILLED,u=n?e.ok:e.fail,a=e.resolve,s=e.reject,i=e.domain,o,c,l;try{u?(n||(r.rejection===UNHANDLED&&onHandleUnhandled(r),r.rejection=HANDLED),u===!0?o=t:(i&&i.enter(),o=u(t),i&&(i.exit(),l=!0)),o===e.promise?s(new TypeError$3("Promise-chain cycle")):(c=isThenable(o))?call$8(c,o,a,s):a(o)):s(t)}catch(f){i&&!l&&i.exit(),s(f)}},notify=function(e,r){e.notified||(e.notified=!0,microtask(function(){for(var t=e.reactions,n;n=t.get();)callReaction(n,e);e.notified=!1,r&&!e.rejection&&onUnhandled(e)}))},dispatchEvent=function(e,r,t){var n,u;DISPATCH_EVENT?(n=document$1.createEvent("Event"),n.promise=r,n.reason=t,n.initEvent(e,!1,!0),globalThis$4.dispatchEvent(n)):n={promise:r,reason:t},!NATIVE_PROMISE_REJECTION_EVENT&&(u=globalThis$4["on"+e])?u(n):e===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",t)},onUnhandled=function(e){call$8(task,globalThis$4,function(){var r=e.facade,t=e.value,n=isUnhandled(e),u;if(n&&(u=perform$2(function(){IS_NODE?process$4.emit("unhandledRejection",t,r):dispatchEvent(UNHANDLED_REJECTION,r,t)}),e.rejection=IS_NODE||isUnhandled(e)?UNHANDLED:HANDLED,u.error))throw u.value})},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e){call$8(task,globalThis$4,function(){var r=e.facade;IS_NODE?process$4.emit("rejectionHandled",r):dispatchEvent(REJECTION_HANDLED,r,e.value)})},bind$4=function(e,r,t){return function(n){e(r,n,t)}},internalReject=function(e,r,t){e.done||(e.done=!0,t&&(e=t),e.value=r,e.state=REJECTED,notify(e,!0))},internalResolve=function(e,r,t){if(!e.done){e.done=!0,t&&(e=t);try{if(e.facade===r)throw new TypeError$3("Promise can't be resolved itself");var n=isThenable(r);n?microtask(function(){var u={done:!1};try{call$8(n,r,bind$4(internalResolve,u,e),bind$4(internalReject,u,e))}catch(a){internalReject(u,a,e)}}):(e.value=r,e.state=FULFILLED,notify(e,!1))}catch(u){internalReject({done:!1},u,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4&&(PromiseConstructor=function(r){anInstance$2(this,PromisePrototype),aCallable$3(r),call$8(Internal,this);var t=getInternalPromiseState(this);try{r(bind$4(internalResolve,t),bind$4(internalReject,t))}catch(n){internalReject(t,n)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(r){setInternalState$3(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:PENDING,value:null})},Internal.prototype=defineBuiltIn$4(PromisePrototype,"then",function(r,t){var n=getInternalPromiseState(this),u=newPromiseCapability$1(speciesConstructor(this,PromiseConstructor));return n.parent=!0,u.ok=isCallable$2(r)?r:!0,u.fail=isCallable$2(t)&&t,u.domain=IS_NODE?process$4.domain:void 0,n.state===PENDING?n.reactions.add(u):microtask(function(){callReaction(u,n)}),u.promise}),OwnPromiseCapability=function(){var e=new Internal,r=getInternalPromiseState(e);this.promise=e,this.resolve=bind$4(internalResolve,r),this.reject=bind$4(internalReject,r)},newPromiseCapabilityModule$3.f=newPromiseCapability$1=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)},isCallable$2(NativePromiseConstructor$2)&&NativePromisePrototype$1!==Object.prototype)){nativeThen=NativePromisePrototype$1.then,NATIVE_PROMISE_SUBCLASSING||defineBuiltIn$4(NativePromisePrototype$1,"then",function(r,t){var n=this;return new PromiseConstructor(function(u,a){call$8(nativeThen,n,u,a)}).then(r,t)},{unsafe:!0});try{delete NativePromisePrototype$1.constructor}catch{}setPrototypeOf&&setPrototypeOf(NativePromisePrototype$1,PromisePrototype)}$$a({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor});setToStringTag$3(PromiseConstructor,PROMISE,!1);setSpecies(PROMISE);var wellKnownSymbol$7=wellKnownSymbol$i,Iterators$1=iterators,ITERATOR$5=wellKnownSymbol$7("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$2=function(e){return e!==void 0&&(Iterators$1.Array===e||ArrayPrototype[ITERATOR$5]===e)},classof$2=classof$6,getMethod$1=getMethod$3,isNullOrUndefined=isNullOrUndefined$4,Iterators=iterators,wellKnownSymbol$6=wellKnownSymbol$i,ITERATOR$4=wellKnownSymbol$6("iterator"),getIteratorMethod$4=function(e){if(!isNullOrUndefined(e))return getMethod$1(e,ITERATOR$4)||getMethod$1(e,"@@iterator")||Iterators[classof$2(e)]},call$7=functionCall,aCallable$2=aCallable$8,anObject$5=anObject$d,tryToString$1=tryToString$4,getIteratorMethod$3=getIteratorMethod$4,$TypeError$2=TypeError,getIterator$3=function(e,r){var t=arguments.length<2?getIteratorMethod$3(e):r;if(aCallable$2(t))return anObject$5(call$7(t,e));throw new $TypeError$2(tryToString$1(e)+" is not iterable")},call$6=functionCall,anObject$4=anObject$d,getMethod=getMethod$3,iteratorClose$2=function(e,r,t){var n,u;anObject$4(e);try{if(n=getMethod(e,"return"),!n){if(r==="throw")throw t;return t}n=call$6(n,e)}catch(a){u=!0,n=a}if(r==="throw")throw t;if(u)throw n;return anObject$4(n),t},bind$3=functionBindContext,call$5=functionCall,anObject$3=anObject$d,tryToString=tryToString$4,isArrayIteratorMethod$1=isArrayIteratorMethod$2,lengthOfArrayLike$1=lengthOfArrayLike$3,isPrototypeOf=objectIsPrototypeOf,getIterator$2=getIterator$3,getIteratorMethod$2=getIteratorMethod$4,iteratorClose$1=iteratorClose$2,$TypeError$1=TypeError,Result=function(e,r){this.stopped=e,this.result=r},ResultPrototype=Result.prototype,iterate$2=function(e,r,t){var n=t&&t.that,u=!!(t&&t.AS_ENTRIES),a=!!(t&&t.IS_RECORD),s=!!(t&&t.IS_ITERATOR),i=!!(t&&t.INTERRUPTED),o=bind$3(r,n),c,l,f,d,h,v,p,g=function(A){return c&&iteratorClose$1(c,"normal",A),new Result(!0,A)},E=function(A){return u?(anObject$3(A),i?o(A[0],A[1],g):o(A[0],A[1])):i?o(A,g):o(A)};if(a)c=e.iterator;else if(s)c=e;else{if(l=getIteratorMethod$2(e),!l)throw new $TypeError$1(tryToString(e)+" is not iterable");if(isArrayIteratorMethod$1(l)){for(f=0,d=lengthOfArrayLike$1(e);d>f;f++)if(h=E(e[f]),h&&isPrototypeOf(ResultPrototype,h))return h;return new Result(!1)}c=getIterator$2(e,l)}for(v=a?e.next:c.next;!(p=call$5(v,c)).done;){try{h=E(p.value)}catch(A){iteratorClose$1(c,"throw",A)}if(typeof h=="object"&&h&&isPrototypeOf(ResultPrototype,h))return h}return new Result(!1)},wellKnownSymbol$5=wellKnownSymbol$i,ITERATOR$3=wellKnownSymbol$5("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$3]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1=function(e,r){try{if(!r&&!SAFE_CLOSING)return!1}catch{return!1}var t=!1;try{var n={};n[ITERATOR$3]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},NativePromiseConstructor$1=promiseNativeConstructor,checkCorrectnessOfIteration=checkCorrectnessOfIteration$1,FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR,promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration(function(e){NativePromiseConstructor$1.all(e).then(void 0,function(){})}),$$9=_export,call$4=functionCall,aCallable$1=aCallable$8,newPromiseCapabilityModule$2=newPromiseCapability$2,perform$1=perform$3,iterate$1=iterate$2,PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$9({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{all:function e(r){var t=this,n=newPromiseCapabilityModule$2.f(t),u=n.resolve,a=n.reject,s=perform$1(function(){var i=aCallable$1(t.resolve),o=[],c=0,l=1;iterate$1(r,function(f){var d=c++,h=!1;l++,call$4(i,t,f).then(function(v){h||(h=!0,o[d]=v,--l||u(o))},a)}),--l||u(o)});return s.error&&a(s.value),n.promise}});var $$8=_export,FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR,NativePromiseConstructor=promiseNativeConstructor,getBuiltIn$2=getBuiltIn$8,isCallable$1=isCallable$k,defineBuiltIn$3=defineBuiltIn$9,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;$$8({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:!0},{catch:function(e){return this.then(void 0,e)}});if(isCallable$1(NativePromiseConstructor)){var method=getBuiltIn$2("Promise").prototype.catch;NativePromisePrototype.catch!==method&&defineBuiltIn$3(NativePromisePrototype,"catch",method,{unsafe:!0})}var $$7=_export,call$3=functionCall,aCallable=aCallable$8,newPromiseCapabilityModule$1=newPromiseCapability$2,perform=perform$3,iterate=iterate$2,PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration;$$7({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{race:function e(r){var t=this,n=newPromiseCapabilityModule$1.f(t),u=n.reject,a=perform(function(){var s=aCallable(t.resolve);iterate(r,function(i){call$3(s,t,i).then(n.resolve,u)})});return a.error&&u(a.value),n.promise}});var $$6=_export,newPromiseCapabilityModule=newPromiseCapability$2,FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$6({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function e(r){var t=newPromiseCapabilityModule.f(this),n=t.reject;return n(r),t.promise}});var anObject$2=anObject$d,isObject$2=isObject$c,newPromiseCapability=newPromiseCapability$2,promiseResolve$1=function(e,r){if(anObject$2(e),isObject$2(r)&&r.constructor===e)return r;var t=newPromiseCapability.f(e),n=t.resolve;return n(r),t.promise},$$5=_export,getBuiltIn$1=getBuiltIn$8,FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR,promiseResolve=promiseResolve$1;getBuiltIn$1("Promise");$$5({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{resolve:function e(r){return promiseResolve(this,r)}});var isObject$1=isObject$c,classof$1=classofRaw$2,wellKnownSymbol$4=wellKnownSymbol$i,MATCH$1=wellKnownSymbol$4("match"),isRegexp=function(e){var r;return isObject$1(e)&&((r=e[MATCH$1])!==void 0?!!r:classof$1(e)==="RegExp")},isRegExp=isRegexp,$TypeError=TypeError,notARegexp=function(e){if(isRegExp(e))throw new $TypeError("The method doesn't accept regular expressions");return e},wellKnownSymbol$3=wellKnownSymbol$i,MATCH=wellKnownSymbol$3("match"),correctIsRegexpLogic=function(e){var r=/./;try{"/./"[e](r)}catch{try{return r[MATCH]=!1,"/./"[e](r)}catch{}}return!1},$$4=_export,uncurryThis$5=functionUncurryThis,notARegExp=notARegexp,requireObjectCoercible$1=requireObjectCoercible$5,toString$2=toString$3,correctIsRegExpLogic=correctIsRegexpLogic,stringIndexOf=uncurryThis$5("".indexOf);$$4({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function e(r){return!!~stringIndexOf(toString$2(requireObjectCoercible$1(this)),toString$2(notARegExp(r)),arguments.length>1?arguments[1]:void 0)}});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement=documentCreateElement$2,classList=documentCreateElement("span").classList,DOMTokenListPrototype$1=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$1===Object.prototype?void 0:DOMTokenListPrototype$1,globalThis$3=globalThis_1,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty=createNonEnumerableProperty$4,setToStringTag$2=setToStringTag$6,wellKnownSymbol$2=wellKnownSymbol$i,ITERATOR$2=wellKnownSymbol$2("iterator"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(e,r){if(e){if(e[ITERATOR$2]!==ArrayValues)try{createNonEnumerableProperty(e,ITERATOR$2,ArrayValues)}catch{e[ITERATOR$2]=ArrayValues}if(setToStringTag$2(e,r,!0),DOMIterables[r]){for(var t in ArrayIteratorMethods)if(e[t]!==ArrayIteratorMethods[t])try{createNonEnumerableProperty(e,t,ArrayIteratorMethods[t])}catch{e[t]=ArrayIteratorMethods[t]}}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(globalThis$3[COLLECTION_NAME]&&globalThis$3[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList");var uncurryThis$4=functionUncurryThis,toIntegerOrInfinity=toIntegerOrInfinity$3,toString$1=toString$3,requireObjectCoercible=requireObjectCoercible$5,charAt$3=uncurryThis$4("".charAt),charCodeAt$1=uncurryThis$4("".charCodeAt),stringSlice$2=uncurryThis$4("".slice),createMethod=function(e){return function(r,t){var n=toString$1(requireObjectCoercible(r)),u=toIntegerOrInfinity(t),a=n.length,s,i;return u<0||u>=a?e?"":void 0:(s=charCodeAt$1(n,u),s<55296||s>56319||u+1===a||(i=charCodeAt$1(n,u+1))<56320||i>57343?e?charAt$3(n,u):s:e?stringSlice$2(n,u,u+2):(s-55296<<10)+(i-56320)+65536)}},stringMultibyte={codeAt:createMethod(!1),charAt:createMethod(!0)},charAt$2=stringMultibyte.charAt,toString2=toString$3,InternalStateModule$2=internalState,defineIterator=iteratorDefine,createIterResultObject$1=createIterResultObject$3,STRING_ITERATOR="String Iterator",setInternalState$2=InternalStateModule$2.set,getInternalState=InternalStateModule$2.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(e){setInternalState$2(this,{type:STRING_ITERATOR,string:toString2(e),index:0})},function e(){var r=getInternalState(this),t=r.string,n=r.index,u;return n>=t.length?createIterResultObject$1(void 0,!0):(u=charAt$2(t,n),r.index+=u.length,createIterResultObject$1(u,!1))});var fails=fails$g,wellKnownSymbol$1=wellKnownSymbol$i,DESCRIPTORS$3=descriptors,IS_PURE=isPure,ITERATOR$1=wellKnownSymbol$1("iterator"),urlConstructorDetection=!fails(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),r=e.searchParams,t=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",r.forEach(function(u,a){r.delete("b"),n+=a+u}),t.delete("a",2),t.delete("b",void 0),IS_PURE&&(!e.toJSON||!t.has("a",1)||t.has("a",2)||!t.has("a",void 0)||t.has("b"))||!r.size&&(IS_PURE||!DESCRIPTORS$3)||!r.sort||e.href!=="https://a/c%20d?a=1&c=3"||r.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!r[ITERATOR$1]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://тест").host!=="xn--e1aybc"||new URL("https://a#б").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"}),anObject$1=anObject$d,iteratorClose=iteratorClose$2,callWithSafeIterationClosing$1=function(e,r,t,n){try{return n?r(anObject$1(t)[0],t[1]):r(t)}catch(u){iteratorClose(e,"throw",u)}},DESCRIPTORS$2=descriptors,definePropertyModule=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$5,createProperty$1=function(e,r,t){DESCRIPTORS$2?definePropertyModule.f(e,r,createPropertyDescriptor$1(0,t)):e[r]=t},bind$2=functionBindContext,call$2=functionCall,toObject=toObject$4,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod=isArrayIteratorMethod$2,isConstructor3=isConstructor$2,lengthOfArrayLike=lengthOfArrayLike$3,createProperty=createProperty$1,getIterator$1=getIterator$3,getIteratorMethod$1=getIteratorMethod$4,$Array=Array,arrayFrom$1=function e(r){var t=toObject(r),n=isConstructor3(this),u=arguments.length,a=u>1?arguments[1]:void 0,s=a!==void 0;s&&(a=bind$2(a,u>2?arguments[2]:void 0));var i=getIteratorMethod$1(t),o=0,c,l,f,d,h,v;if(i&&!(this===$Array&&isArrayIteratorMethod(i)))for(l=n?new this:[],d=getIterator$1(t,i),h=d.next;!(f=call$2(h,d)).done;o++)v=s?callWithSafeIterationClosing(d,a,[f.value,o],!0):f.value,createProperty(l,o,v);else for(c=lengthOfArrayLike(t),l=n?new this(c):$Array(c);c>o;o++)v=s?a(t[o],o):t[o],createProperty(l,o,v);return l.length=o,l},uncurryThis$3=functionUncurryThis,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base-tMin,$RangeError$1=RangeError,exec$2=uncurryThis$3(regexSeparators.exec),floor$2=Math.floor,fromCharCode$2=String.fromCharCode,charCodeAt=uncurryThis$3("".charCodeAt),join$3=uncurryThis$3([].join),push$2=uncurryThis$3([].push),replace$2=uncurryThis$3("".replace),split$2=uncurryThis$3("".split),toLowerCase$1=uncurryThis$3("".toLowerCase),ucs2decode=function(e){for(var r=[],t=0,n=e.length;t<n;){var u=charCodeAt(e,t++);if(u>=55296&&u<=56319&&t<n){var a=charCodeAt(e,t++);(a&64512)===56320?push$2(r,((u&1023)<<10)+(a&1023)+65536):(push$2(r,u),t--)}else push$2(r,u)}return r},digitToBasic=function(e){return e+22+75*(e<26)},adapt=function(e,r,t){var n=0;for(e=t?floor$2(e/damp):e>>1,e+=floor$2(e/r);e>baseMinusTMin*tMax>>1;)e=floor$2(e/baseMinusTMin),n+=base;return floor$2(n+(baseMinusTMin+1)*e/(e+skew))},encode=function(e){var r=[];e=ucs2decode(e);var t=e.length,n=initialN,u=0,a=initialBias,s,i;for(s=0;s<e.length;s++)i=e[s],i<128&&push$2(r,fromCharCode$2(i));var o=r.length,c=o;for(o&&push$2(r,delimiter);c<t;){var l=maxInt;for(s=0;s<e.length;s++)i=e[s],i>=n&&i<l&&(l=i);var f=c+1;if(l-n>floor$2((maxInt-u)/f))throw new $RangeError$1(OVERFLOW_ERROR);for(u+=(l-n)*f,n=l,s=0;s<e.length;s++){if(i=e[s],i<n&&++u>maxInt)throw new $RangeError$1(OVERFLOW_ERROR);if(i===n){for(var d=u,h=base;;){var v=h<=a?tMin:h>=a+tMax?tMax:h-a;if(d<v)break;var p=d-v,g=base-v;push$2(r,fromCharCode$2(digitToBasic(v+p%g))),d=floor$2(p/g),h+=base}push$2(r,fromCharCode$2(digitToBasic(d))),a=adapt(u,f,c===o),u=0,c++}}u++,n++}return join$3(r,"")},stringPunycodeToAscii=function(e){var r=[],t=split$2(replace$2(toLowerCase$1(e),regexSeparators,"."),"."),n,u;for(n=0;n<t.length;n++)u=t[n],push$2(r,exec$2(regexNonASCII,u)?"xn--"+encode(u):u);return join$3(r,".")},$$3=_export,uncurryThis$2=functionUncurryThis,toAbsoluteIndex=toAbsoluteIndex$2,$RangeError=RangeError,fromCharCode$1=String.fromCharCode,$fromCodePoint=String.fromCodePoint,join$2=uncurryThis$2([].join),INCORRECT_LENGTH=!!$fromCodePoint&&$fromCodePoint.length!==1;$$3({target:"String",stat:!0,arity:1,forced:INCORRECT_LENGTH},{fromCodePoint:function e(r){for(var t=[],n=arguments.length,u=0,a;n>u;){if(a=+arguments[u++],toAbsoluteIndex(a,1114111)!==a)throw new $RangeError(a+" is not a valid code point");t[u]=a<65536?fromCharCode$1(a):fromCharCode$1(((a-=65536)>>10)+55296,a%1024+56320)}return join$2(t,"")}});var defineBuiltIn$2=defineBuiltIn$9,defineBuiltIns$1=function(e,r,t){for(var n in r)defineBuiltIn$2(e,n,r[n],t);return e},arraySlice$1=arraySlice$3,floor$1=Math.floor,sort=function(e,r){var t=e.length;if(t<8)for(var n=1,u,a;n<t;){for(a=n,u=e[n];a&&r(e[a-1],u)>0;)e[a]=e[--a];a!==n++&&(e[a]=u)}else for(var s=floor$1(t/2),i=sort(arraySlice$1(e,0,s),r),o=sort(arraySlice$1(e,s),r),c=i.length,l=o.length,f=0,d=0;f<c||d<l;)e[f+d]=f<c&&d<l?r(i[f],o[d])<=0?i[f++]:o[d++]:f<c?i[f++]:o[d++];return e},arraySort$1=sort,$$2=_export,globalThis$2=globalThis_1,safeGetBuiltIn=safeGetBuiltIn$2,getBuiltIn=getBuiltIn$8,call$1=functionCall,uncurryThis$1=functionUncurryThis,DESCRIPTORS$1=descriptors,USE_NATIVE_URL$1=urlConstructorDetection,defineBuiltIn$1=defineBuiltIn$9,defineBuiltInAccessor$1=defineBuiltInAccessor$3,defineBuiltIns=defineBuiltIns$1,setToStringTag$1=setToStringTag$6,createIteratorConstructor=iteratorCreateConstructor,InternalStateModule$1=internalState,anInstance$1=anInstance$3,isCallable=isCallable$k,hasOwn$1=hasOwnProperty_1,bind$1=functionBindContext,classof=classof$6,anObject=anObject$d,isObject=isObject$c,$toString$1=toString$3,create2=objectCreate,createPropertyDescriptor=createPropertyDescriptor$5,getIterator=getIterator$3,getIteratorMethod=getIteratorMethod$4,createIterResultObject=createIterResultObject$3,validateArgumentsLength$1=validateArgumentsLength$3,wellKnownSymbol=wellKnownSymbol$i,arraySort=arraySort$1,ITERATOR=wellKnownSymbol("iterator"),URL_SEARCH_PARAMS="URLSearchParams",URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator",setInternalState$1=InternalStateModule$1.set,getInternalParamsState=InternalStateModule$1.getterFor(URL_SEARCH_PARAMS),getInternalIteratorState=InternalStateModule$1.getterFor(URL_SEARCH_PARAMS_ITERATOR),nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers&&Headers.prototype,TypeError$2=globalThis$2.TypeError,encodeURIComponent$1=globalThis$2.encodeURIComponent,fromCharCode=String.fromCharCode,fromCodePoint2=getBuiltIn("String","fromCodePoint"),$parseInt=parseInt,charAt$1=uncurryThis$1("".charAt),join$1=uncurryThis$1([].join),push$1=uncurryThis$1([].push),replace$1=uncurryThis$1("".replace),shift$1=uncurryThis$1([].shift),splice=uncurryThis$1([].splice),split$1=uncurryThis$1("".split),stringSlice$1=uncurryThis$1("".slice),exec$1=uncurryThis$1(/./.exec),plus=/\+/g,FALLBACK_REPLACER="�",VALID_HEX=/^[0-9a-f]+$/i,parseHexOctet=function(e,r){var t=stringSlice$1(e,r,r+2);return exec$1(VALID_HEX,t)?$parseInt(t,16):NaN},getLeadingOnes=function(e){for(var r=0,t=128;t>0&&(e&t)!==0;t>>=1)r++;return r},utf8Decode=function(e){var r=null;switch(e.length){case 1:r=e[0];break;case 2:r=(e[0]&31)<<6|e[1]&63;break;case 3:r=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:r=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break}return r>1114111?null:r},decode=function(e){e=replace$1(e,plus," ");for(var r=e.length,t="",n=0;n<r;){var u=charAt$1(e,n);if(u==="%"){if(charAt$1(e,n+1)==="%"||n+3>r){t+="%",n++;continue}var a=parseHexOctet(e,n+1);if(a!==a){t+=u,n++;continue}n+=2;var s=getLeadingOnes(a);if(s===0)u=fromCharCode(a);else{if(s===1||s>4){t+=FALLBACK_REPLACER,n++;continue}for(var i=[a],o=1;o<s&&(n++,!(n+3>r||charAt$1(e,n)!=="%"));){var c=parseHexOctet(e,n+1);if(c!==c){n+=3;break}if(c>191||c<128)break;push$1(i,c),n+=2,o++}if(i.length!==s){t+=FALLBACK_REPLACER;continue}var l=utf8Decode(i);l===null?t+=FALLBACK_REPLACER:u=fromCodePoint2(l)}}t+=u,n++}return t},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(e){return replacements[e]},serialize=function(e){return replace$1(encodeURIComponent$1(e),find,replacer)},URLSearchParamsIterator=createIteratorConstructor(function e(r,t){setInternalState$1(this,{type:URL_SEARCH_PARAMS_ITERATOR,target:getInternalParamsState(r).entries,index:0,kind:t})},URL_SEARCH_PARAMS,function e(){var r=getInternalIteratorState(this),t=r.target,n=r.index++;if(!t||n>=t.length)return r.target=null,createIterResultObject(void 0,!0);var u=t[n];switch(r.kind){case"keys":return createIterResultObject(u.key,!1);case"values":return createIterResultObject(u.value,!1)}return createIterResultObject([u.key,u.value],!1)},!0),URLSearchParamsState=function(e){this.entries=[],this.url=null,e!==void 0&&(isObject(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?charAt$1(e,0)==="?"?stringSlice$1(e,1):e:$toString$1(e)))};URLSearchParamsState.prototype={type:URL_SEARCH_PARAMS,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var r=this.entries,t=getIteratorMethod(e),n,u,a,s,i,o,c;if(t)for(n=getIterator(e,t),u=n.next;!(a=call$1(u,n)).done;){if(s=getIterator(anObject(a.value)),i=s.next,(o=call$1(i,s)).done||(c=call$1(i,s)).done||!call$1(i,s).done)throw new TypeError$2("Expected sequence with length 2");push$1(r,{key:$toString$1(o.value),value:$toString$1(c.value)})}else for(var l in e)hasOwn$1(e,l)&&push$1(r,{key:l,value:$toString$1(e[l])})},parseQuery:function(e){if(e)for(var r=this.entries,t=split$1(e,"&"),n=0,u,a;n<t.length;)u=t[n++],u.length&&(a=split$1(u,"="),push$1(r,{key:decode(shift$1(a)),value:decode(join$1(a,"="))}))},serialize:function(){for(var e=this.entries,r=[],t=0,n;t<e.length;)n=e[t++],push$1(r,serialize(n.key)+"="+serialize(n.value));return join$1(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function e(){anInstance$1(this,URLSearchParamsPrototype);var r=arguments.length>0?arguments[0]:void 0,t=setInternalState$1(this,new URLSearchParamsState(r));DESCRIPTORS$1||(this.size=t.entries.length)},URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;defineBuiltIns(URLSearchParamsPrototype,{append:function e(r,t){var n=getInternalParamsState(this);validateArgumentsLength$1(arguments.length,2),push$1(n.entries,{key:$toString$1(r),value:$toString$1(t)}),DESCRIPTORS$1||this.length++,n.updateURL()},delete:function(e){for(var r=getInternalParamsState(this),t=validateArgumentsLength$1(arguments.length,1),n=r.entries,u=$toString$1(e),a=t<2?void 0:arguments[1],s=a===void 0?a:$toString$1(a),i=0;i<n.length;){var o=n[i];if(o.key===u&&(s===void 0||o.value===s)){if(splice(n,i,1),s!==void 0)break}else i++}DESCRIPTORS$1||(this.size=n.length),r.updateURL()},get:function e(r){var t=getInternalParamsState(this).entries;validateArgumentsLength$1(arguments.length,1);for(var n=$toString$1(r),u=0;u<t.length;u++)if(t[u].key===n)return t[u].value;return null},getAll:function e(r){var t=getInternalParamsState(this).entries;validateArgumentsLength$1(arguments.length,1);for(var n=$toString$1(r),u=[],a=0;a<t.length;a++)t[a].key===n&&push$1(u,t[a].value);return u},has:function e(r){for(var t=getInternalParamsState(this).entries,n=validateArgumentsLength$1(arguments.length,1),u=$toString$1(r),a=n<2?void 0:arguments[1],s=a===void 0?a:$toString$1(a),i=0;i<t.length;){var o=t[i++];if(o.key===u&&(s===void 0||o.value===s))return!0}return!1},set:function e(r,t){var n=getInternalParamsState(this);validateArgumentsLength$1(arguments.length,1);for(var u=n.entries,a=!1,s=$toString$1(r),i=$toString$1(t),o=0,c;o<u.length;o++)c=u[o],c.key===s&&(a?splice(u,o--,1):(a=!0,c.value=i));a||push$1(u,{key:s,value:i}),DESCRIPTORS$1||(this.size=u.length),n.updateURL()},sort:function e(){var r=getInternalParamsState(this);arraySort(r.entries,function(t,n){return t.key>n.key?1:-1}),r.updateURL()},forEach:function e(r){for(var t=getInternalParamsState(this).entries,n=bind$1(r,arguments.length>1?arguments[1]:void 0),u=0,a;u<t.length;)a=t[u++],n(a.value,a.key,this)},keys:function e(){return new URLSearchParamsIterator(this,"keys")},values:function e(){return new URLSearchParamsIterator(this,"values")},entries:function e(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0});defineBuiltIn$1(URLSearchParamsPrototype,ITERATOR,URLSearchParamsPrototype.entries,{name:"entries"});defineBuiltIn$1(URLSearchParamsPrototype,"toString",function e(){return getInternalParamsState(this).serialize()},{enumerable:!0});DESCRIPTORS$1&&defineBuiltInAccessor$1(URLSearchParamsPrototype,"size",{get:function e(){return getInternalParamsState(this).entries.length},configurable:!0,enumerable:!0});setToStringTag$1(URLSearchParamsConstructor,URL_SEARCH_PARAMS);$$2({global:!0,constructor:!0,forced:!USE_NATIVE_URL$1},{URLSearchParams:URLSearchParamsConstructor});if(!USE_NATIVE_URL$1&&isCallable(Headers)){var headersHas=uncurryThis$1(HeadersPrototype.has),headersSet=uncurryThis$1(HeadersPrototype.set),wrapRequestOptions=function(e){if(isObject(e)){var r=e.body,t;if(classof(r)===URL_SEARCH_PARAMS)return t=e.headers?new Headers(e.headers):new Headers,headersHas(t,"content-type")||headersSet(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create2(e,{body:createPropertyDescriptor(0,$toString$1(r)),headers:createPropertyDescriptor(0,t)})}return e};if(isCallable(nativeFetch)&&$$2({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(r){return nativeFetch(r,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable(NativeRequest)){var RequestConstructor=function(r){return anInstance$1(this,RequestPrototype),new NativeRequest(r,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$$2({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:RequestConstructor})}}var web_urlSearchParams_constructor={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState},$$1=_export,DESCRIPTORS=descriptors,USE_NATIVE_URL=urlConstructorDetection,globalThis$1=globalThis_1,bind=functionBindContext,uncurryThis=functionUncurryThis,defineBuiltIn=defineBuiltIn$9,defineBuiltInAccessor=defineBuiltInAccessor$3,anInstance=anInstance$3,hasOwn2=hasOwnProperty_1,assign2=objectAssign,arrayFrom=arrayFrom$1,arraySlice=arraySlice$3,codeAt=stringMultibyte.codeAt,toASCII=stringPunycodeToAscii,$toString=toString$3,setToStringTag=setToStringTag$6,validateArgumentsLength=validateArgumentsLength$3,URLSearchParamsModule=web_urlSearchParams_constructor,InternalStateModule=internalState,setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),URLSearchParams$1=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=globalThis$1.URL,TypeError$1=globalThis$1.TypeError,parseInt$1=globalThis$1.parseInt,floor=Math.floor,pow=Math.pow,charAt=uncurryThis("".charAt),exec=uncurryThis(/./.exec),join=uncurryThis([].join),numberToString=uncurryThis(1 .toString),pop=uncurryThis([].pop),push=uncurryThis([].push),replace=uncurryThis("".replace),shift=uncurryThis([].shift),split=uncurryThis("".split),stringSlice=uncurryThis("".slice),toLowerCase=uncurryThis("".toLowerCase),unshift=uncurryThis([].unshift),INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+/,TRAILING_C0_CONTROL_OR_SPACE=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,TAB_AND_NEW_LINE=/[\t\n\r]/g,EOF,parseIPv4=function(e){var r=split(e,"."),t,n,u,a,s,i,o;if(r.length&&r[r.length-1]===""&&r.length--,t=r.length,t>4)return e;for(n=[],u=0;u<t;u++){if(a=r[u],a==="")return e;if(s=10,a.length>1&&charAt(a,0)==="0"&&(s=exec(HEX_START,a)?16:8,a=stringSlice(a,s===8?1:2)),a==="")i=0;else{if(!exec(s===10?DEC:s===8?OCT:HEX,a))return e;i=parseInt$1(a,s)}push(n,i)}for(u=0;u<t;u++)if(i=n[u],u===t-1){if(i>=pow(256,5-t))return null}else if(i>255)return null;for(o=pop(n),u=0;u<n.length;u++)o+=n[u]*pow(256,3-u);return o},parseIPv6=function(e){var r=[0,0,0,0,0,0,0,0],t=0,n=null,u=0,a,s,i,o,c,l,f,d=function(){return charAt(e,u)};if(d()===":"){if(charAt(e,1)!==":")return;u+=2,t++,n=t}for(;d();){if(t===8)return;if(d()===":"){if(n!==null)return;u++,t++,n=t;continue}for(a=s=0;s<4&&exec(HEX,d());)a=a*16+parseInt$1(d(),16),u++,s++;if(d()==="."){if(s===0||(u-=s,t>6))return;for(i=0;d();){if(o=null,i>0)if(d()==="."&&i<4)u++;else return;if(!exec(DIGIT,d()))return;for(;exec(DIGIT,d());){if(c=parseInt$1(d(),10),o===null)o=c;else{if(o===0)return;o=o*10+c}if(o>255)return;u++}r[t]=r[t]*256+o,i++,(i===2||i===4)&&t++}if(i!==4)return;break}else if(d()===":"){if(u++,!d())return}else if(d())return;r[t++]=a}if(n!==null)for(l=t-n,t=7;t!==0&&l>0;)f=r[t],r[t--]=r[n+l-1],r[n+--l]=f;else if(t!==8)return;return r},findLongestZeroSequence=function(e){for(var r=null,t=1,n=null,u=0,a=0;a<8;a++)e[a]!==0?(u>t&&(r=n,t=u),n=null,u=0):(n===null&&(n=a),++u);return u>t?n:r},serializeHost=function(e){var r,t,n,u;if(typeof e=="number"){for(r=[],t=0;t<4;t++)unshift(r,e%256),e=floor(e/256);return join(r,".")}if(typeof e=="object"){for(r="",n=findLongestZeroSequence(e),t=0;t<8;t++)u&&e[t]===0||(u&&(u=!1),n===t?(r+=t?":":"::",u=!0):(r+=numberToString(e[t],16),t<7&&(r+=":")));return"["+r+"]"}return e},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign2({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign2({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign2({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(e,r){var t=codeAt(e,0);return t>32&&t<127&&!hasOwn2(r,e)?e:encodeURIComponent(e)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(e,r){var t;return e.length===2&&exec(ALPHA,charAt(e,0))&&((t=charAt(e,1))===":"||!r&&t==="|")},startsWithWindowsDriveLetter=function(e){var r;return e.length>1&&isWindowsDriveLetter(stringSlice(e,0,2))&&(e.length===2||(r=charAt(e,2))==="/"||r==="\\"||r==="?"||r==="#")},isSingleDot=function(e){return e==="."||toLowerCase(e)==="%2e"},isDoubleDot=function(e){return e=toLowerCase(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(e,r,t){var n=$toString(e),u,a,s;if(r){if(a=this.parse(n),a)throw new TypeError$1(a);this.searchParams=null}else{if(t!==void 0&&(u=new URLState(t,!0)),a=this.parse(n,null,u),a)throw new TypeError$1(a);s=getInternalSearchParamsState(new URLSearchParams$1),s.bindURL(this),this.searchParams=s}};URLState.prototype={type:"URL",parse:function(e,r,t){var n=this,u=r||SCHEME_START,a=0,s="",i=!1,o=!1,c=!1,l,f,d,h;for(e=$toString(e),r||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=replace(e,LEADING_C0_CONTROL_OR_SPACE,""),e=replace(e,TRAILING_C0_CONTROL_OR_SPACE,"$1")),e=replace(e,TAB_AND_NEW_LINE,""),l=arrayFrom(e);a<=l.length;){switch(f=l[a],u){case SCHEME_START:if(f&&exec(ALPHA,f))s+=toLowerCase(f),u=SCHEME;else{if(r)return INVALID_SCHEME;u=NO_SCHEME;continue}break;case SCHEME:if(f&&(exec(ALPHANUMERIC,f)||f==="+"||f==="-"||f==="."))s+=toLowerCase(f);else if(f===":"){if(r&&(n.isSpecial()!==hasOwn2(specialSchemes,s)||s==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=s,r){n.isSpecial()&&specialSchemes[n.scheme]===n.port&&(n.port=null);return}s="",n.scheme==="file"?u=FILE:n.isSpecial()&&t&&t.scheme===n.scheme?u=SPECIAL_RELATIVE_OR_AUTHORITY:n.isSpecial()?u=SPECIAL_AUTHORITY_SLASHES:l[a+1]==="/"?(u=PATH_OR_AUTHORITY,a++):(n.cannotBeABaseURL=!0,push(n.path,""),u=CANNOT_BE_A_BASE_URL_PATH)}else{if(r)return INVALID_SCHEME;s="",u=NO_SCHEME,a=0;continue}break;case NO_SCHEME:if(!t||t.cannotBeABaseURL&&f!=="#")return INVALID_SCHEME;if(t.cannotBeABaseURL&&f==="#"){n.scheme=t.scheme,n.path=arraySlice(t.path),n.query=t.query,n.fragment="",n.cannotBeABaseURL=!0,u=FRAGMENT;break}u=t.scheme==="file"?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if(f==="/"&&l[a+1]==="/")u=SPECIAL_AUTHORITY_IGNORE_SLASHES,a++;else{u=RELATIVE;continue}break;case PATH_OR_AUTHORITY:if(f==="/"){u=AUTHORITY;break}else{u=PATH;continue}case RELATIVE:if(n.scheme=t.scheme,f===EOF)n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=arraySlice(t.path),n.query=t.query;else if(f==="/"||f==="\\"&&n.isSpecial())u=RELATIVE_SLASH;else if(f==="?")n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=arraySlice(t.path),n.query="",u=QUERY;else if(f==="#")n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=arraySlice(t.path),n.query=t.query,n.fragment="",u=FRAGMENT;else{n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=arraySlice(t.path),n.path.length--,u=PATH;continue}break;case RELATIVE_SLASH:if(n.isSpecial()&&(f==="/"||f==="\\"))u=SPECIAL_AUTHORITY_IGNORE_SLASHES;else if(f==="/")u=AUTHORITY;else{n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,u=PATH;continue}break;case SPECIAL_AUTHORITY_SLASHES:if(u=SPECIAL_AUTHORITY_IGNORE_SLASHES,f!=="/"||charAt(s,a+1)!=="/")continue;a++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if(f!=="/"&&f!=="\\"){u=AUTHORITY;continue}break;case AUTHORITY:if(f==="@"){i&&(s="%40"+s),i=!0,d=arrayFrom(s);for(var v=0;v<d.length;v++){var p=d[v];if(p===":"&&!c){c=!0;continue}var g=percentEncode(p,userinfoPercentEncodeSet);c?n.password+=g:n.username+=g}s=""}else if(f===EOF||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()){if(i&&s==="")return INVALID_AUTHORITY;a-=arrayFrom(s).length+1,s="",u=HOST}else s+=f;break;case HOST:case HOSTNAME:if(r&&n.scheme==="file"){u=FILE_HOST;continue}else if(f===":"&&!o){if(s==="")return INVALID_HOST;if(h=n.parseHost(s),h)return h;if(s="",u=PORT,r===HOSTNAME)return}else if(f===EOF||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()){if(n.isSpecial()&&s==="")return INVALID_HOST;if(r&&s===""&&(n.includesCredentials()||n.port!==null))return;if(h=n.parseHost(s),h)return h;if(s="",u=PATH_START,r)return;continue}else f==="["?o=!0:f==="]"&&(o=!1),s+=f;break;case PORT:if(exec(DIGIT,f))s+=f;else if(f===EOF||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()||r){if(s!==""){var E=parseInt$1(s,10);if(E>65535)return INVALID_PORT;n.port=n.isSpecial()&&E===specialSchemes[n.scheme]?null:E,s=""}if(r)return;u=PATH_START;continue}else return INVALID_PORT;break;case FILE:if(n.scheme="file",f==="/"||f==="\\")u=FILE_SLASH;else if(t&&t.scheme==="file")switch(f){case EOF:n.host=t.host,n.path=arraySlice(t.path),n.query=t.query;break;case"?":n.host=t.host,n.path=arraySlice(t.path),n.query="",u=QUERY;break;case"#":n.host=t.host,n.path=arraySlice(t.path),n.query=t.query,n.fragment="",u=FRAGMENT;break;default:startsWithWindowsDriveLetter(join(arraySlice(l,a),""))||(n.host=t.host,n.path=arraySlice(t.path),n.shortenPath()),u=PATH;continue}else{u=PATH;continue}break;case FILE_SLASH:if(f==="/"||f==="\\"){u=FILE_HOST;break}t&&t.scheme==="file"&&!startsWithWindowsDriveLetter(join(arraySlice(l,a),""))&&(isWindowsDriveLetter(t.path[0],!0)?push(n.path,t.path[0]):n.host=t.host),u=PATH;continue;case FILE_HOST:if(f===EOF||f==="/"||f==="\\"||f==="?"||f==="#"){if(!r&&isWindowsDriveLetter(s))u=PATH;else if(s===""){if(n.host="",r)return;u=PATH_START}else{if(h=n.parseHost(s),h)return h;if(n.host==="localhost"&&(n.host=""),r)return;s="",u=PATH_START}continue}else s+=f;break;case PATH_START:if(n.isSpecial()){if(u=PATH,f!=="/"&&f!=="\\")continue}else if(!r&&f==="?")n.query="",u=QUERY;else if(!r&&f==="#")n.fragment="",u=FRAGMENT;else if(f!==EOF&&(u=PATH,f!=="/"))continue;break;case PATH:if(f===EOF||f==="/"||f==="\\"&&n.isSpecial()||!r&&(f==="?"||f==="#")){if(isDoubleDot(s)?(n.shortenPath(),f!=="/"&&!(f==="\\"&&n.isSpecial())&&push(n.path,"")):isSingleDot(s)?f!=="/"&&!(f==="\\"&&n.isSpecial())&&push(n.path,""):(n.scheme==="file"&&!n.path.length&&isWindowsDriveLetter(s)&&(n.host&&(n.host=""),s=charAt(s,0)+":"),push(n.path,s)),s="",n.scheme==="file"&&(f===EOF||f==="?"||f==="#"))for(;n.path.length>1&&n.path[0]==="";)shift(n.path);f==="?"?(n.query="",u=QUERY):f==="#"&&(n.fragment="",u=FRAGMENT)}else s+=percentEncode(f,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:f==="?"?(n.query="",u=QUERY):f==="#"?(n.fragment="",u=FRAGMENT):f!==EOF&&(n.path[0]+=percentEncode(f,C0ControlPercentEncodeSet));break;case QUERY:!r&&f==="#"?(n.fragment="",u=FRAGMENT):f!==EOF&&(f==="'"&&n.isSpecial()?n.query+="%27":f==="#"?n.query+="%23":n.query+=percentEncode(f,C0ControlPercentEncodeSet));break;case FRAGMENT:f!==EOF&&(n.fragment+=percentEncode(f,fragmentPercentEncodeSet));break}a++}},parseHost:function(e){var r,t,n;if(charAt(e,0)==="["){if(charAt(e,e.length-1)!=="]"||(r=parseIPv6(stringSlice(e,1,-1)),!r))return INVALID_HOST;this.host=r}else if(this.isSpecial()){if(e=toASCII(e),exec(FORBIDDEN_HOST_CODE_POINT,e)||(r=parseIPv4(e),r===null))return INVALID_HOST;this.host=r}else{if(exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,e))return INVALID_HOST;for(r="",t=arrayFrom(e),n=0;n<t.length;n++)r+=percentEncode(t[n],C0ControlPercentEncodeSet);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return hasOwn2(specialSchemes,this.scheme)},shortenPath:function(){var e=this.path,r=e.length;r&&(this.scheme!=="file"||r!==1||!isWindowsDriveLetter(e[0],!0))&&e.length--},serialize:function(){var e=this,r=e.scheme,t=e.username,n=e.password,u=e.host,a=e.port,s=e.path,i=e.query,o=e.fragment,c=r+":";return u!==null?(c+="//",e.includesCredentials()&&(c+=t+(n?":"+n:"")+"@"),c+=serializeHost(u),a!==null&&(c+=":"+a)):r==="file"&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+join(s,"/"):"",i!==null&&(c+="?"+i),o!==null&&(c+="#"+o),c},setHref:function(e){var r=this.parse(e);if(r)throw new TypeError$1(r);this.searchParams.update()},getOrigin:function(){var e=this.scheme,r=this.port;if(e==="blob")try{return new URLConstructor(e.path[0]).origin}catch{return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+serializeHost(this.host)+(r!==null?":"+r:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse($toString(e)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(e){var r=arrayFrom($toString(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var t=0;t<r.length;t++)this.username+=percentEncode(r[t],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(e){var r=arrayFrom($toString(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var t=0;t<r.length;t++)this.password+=percentEncode(r[t],userinfoPercentEncodeSet)}},getHost:function(){var e=this.host,r=this.port;return e===null?"":r===null?serializeHost(e):serializeHost(e)+":"+r},setHost:function(e){this.cannotBeABaseURL||this.parse(e,HOST)},getHostname:function(){var e=this.host;return e===null?"":serializeHost(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,HOSTNAME)},getPort:function(){var e=this.port;return e===null?"":$toString(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=$toString(e),e===""?this.port=null:this.parse(e,PORT))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+join(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,PATH_START))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=$toString(e),e===""?this.query=null:(charAt(e,0)==="?"&&(e=stringSlice(e,1)),this.query="",this.parse(e,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=$toString(e),e===""){this.fragment=null;return}charAt(e,0)==="#"&&(e=stringSlice(e,1)),this.fragment="",this.parse(e,FRAGMENT)},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function e(r){var t=anInstance(this,URLPrototype),n=validateArgumentsLength(arguments.length,1)>1?arguments[1]:void 0,u=setInternalState(t,new URLState(r,!1,n));DESCRIPTORS||(t.href=u.serialize(),t.origin=u.getOrigin(),t.protocol=u.getProtocol(),t.username=u.getUsername(),t.password=u.getPassword(),t.host=u.getHost(),t.hostname=u.getHostname(),t.port=u.getPort(),t.pathname=u.getPathname(),t.search=u.getSearch(),t.searchParams=u.getSearchParams(),t.hash=u.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(e,r){return{get:function(){return getInternalURLState(this)[e]()},set:r&&function(t){return getInternalURLState(this)[r](t)},configurable:!0,enumerable:!0}};DESCRIPTORS&&(defineBuiltInAccessor(URLPrototype,"href",accessorDescriptor("serialize","setHref")),defineBuiltInAccessor(URLPrototype,"origin",accessorDescriptor("getOrigin")),defineBuiltInAccessor(URLPrototype,"protocol",accessorDescriptor("getProtocol","setProtocol")),defineBuiltInAccessor(URLPrototype,"username",accessorDescriptor("getUsername","setUsername")),defineBuiltInAccessor(URLPrototype,"password",accessorDescriptor("getPassword","setPassword")),defineBuiltInAccessor(URLPrototype,"host",accessorDescriptor("getHost","setHost")),defineBuiltInAccessor(URLPrototype,"hostname",accessorDescriptor("getHostname","setHostname")),defineBuiltInAccessor(URLPrototype,"port",accessorDescriptor("getPort","setPort")),defineBuiltInAccessor(URLPrototype,"pathname",accessorDescriptor("getPathname","setPathname")),defineBuiltInAccessor(URLPrototype,"search",accessorDescriptor("getSearch","setSearch")),defineBuiltInAccessor(URLPrototype,"searchParams",accessorDescriptor("getSearchParams")),defineBuiltInAccessor(URLPrototype,"hash",accessorDescriptor("getHash","setHash")));defineBuiltIn(URLPrototype,"toJSON",function e(){return getInternalURLState(this).serialize()},{enumerable:!0});defineBuiltIn(URLPrototype,"toString",function e(){return getInternalURLState(this).serialize()},{enumerable:!0});if(NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&defineBuiltIn(URLConstructor,"createObjectURL",bind(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&defineBuiltIn(URLConstructor,"revokeObjectURL",bind(nativeRevokeObjectURL,NativeURL))}setToStringTag(URLConstructor,"URL");$$1({global:!0,constructor:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor});var $=_export,call=functionCall;$({target:"URL",proto:!0,enumerable:!0},{toJSON:function e(){return call(URL.prototype.toString,this)}});const DEFAULT_POPUP_WIDTH=480,DEFAULT_POPUP_HEIGHT=640,POLL_INTERVAL=300;class MyNearWalletConnector{constructor(r,t){const n=localStorage.getItem("near_app_wallet_auth_key");if(n){const{accountId:a}=JSON.parse(n);localStorage.setItem("signedAccountId",a),localStorage.removeItem("near_app_wallet_auth_key");const s=localStorage.getItem(`near-api-js:keystore:${a}:${t.networkId}`);if(s){const{contractId:i,methodNames:o}=JSON.parse(localStorage.getItem("near-wallet-selector:contract")||"{}");this.functionCallKey={privateKey:s,contractId:i,methods:o||[]},localStorage.setItem("functionCallKey",JSON.stringify(this.functionCallKey)),localStorage.removeItem(`near-api-js:keystore:${a}:${t.networkId}`)}}this.walletUrl=r,this.provider=new browserIndexExports.providers.JsonRpcProvider({url:t.nodeUrl}),this.signedAccountId=localStorage.getItem("signedAccountId")||"";const u=localStorage.getItem("functionCallKey");this.functionCallKey=u?JSON.parse(u):null,this.network=t}getAccountId(){return this.signedAccountId}getPublicKey(){if(this.functionCallKey)return utilsExports.KeyPair.fromString(this.functionCallKey.privateKey).getPublicKey()}isSignedIn(){return!!this.signedAccountId}signOut(){this.signedAccountId="",this.functionCallKey=null,localStorage.removeItem("signedAccountId"),localStorage.removeItem("functionCallKey")}requestSignIn({contractId:r,methodNames:t}){return __awaiter(this,void 0,void 0,function*(){const n=yield this.requestSignInUrl({contractId:r,methodNames:t});return yield this.handlePopupTransaction(n,u=>__awaiter(this,void 0,void 0,function*(){const a=u,{public_key:s,account_id:i}=a;if(i)return this.signedAccountId=i,localStorage.setItem("signedAccountId",i),[{accountId:i,publicKey:s||""}];throw new Error("Invalid response data from wallet")}))})}requestSignInUrl({contractId:r,methodNames:t}){return __awaiter(this,void 0,void 0,function*(){const n=new URL(window.location.href),u=new URL(`${this.walletUrl}/login/`);if(u.searchParams.set("success_url",n.href),u.searchParams.set("failure_url",n.href),r){u.searchParams.set("contract_id",r);const a=utilsExports.KeyPair.fromRandom("ed25519");u.searchParams.set("public_key",a.getPublicKey().toString()),this.functionCallKey={privateKey:a.toString(),contractId:r,methods:t||[]},localStorage.setItem("functionCallKey",JSON.stringify(this.functionCallKey))}return t&&t.forEach(a=>{u.searchParams.append("methodNames",a)}),u.toString()})}signMessage({message:r,nonce:t,recipient:n,callbackUrl:u,state:a}){return __awaiter(this,void 0,void 0,function*(){const s=u||window.location.href;if(!s)throw new Error("MyNearWallet: CallbackUrl is missing");const i=new URL(this.walletUrl);return i.pathname="sign-message",i.searchParams.append("message",r),i.searchParams.append("nonce",t.toString("base64")),i.searchParams.append("recipient",n),i.searchParams.append("callbackUrl",s),a&&i.searchParams.append("state",a),yield this.handlePopupTransaction(i.toString(),o=>{var c,l,f;return{accountId:((c=o==null?void 0:o.signedRequest)===null||c===void 0?void 0:c.accountId)||"",publicKey:((l=o==null?void 0:o.signedRequest)===null||l===void 0?void 0:l.publicKey)||"",signature:((f=o==null?void 0:o.signedRequest)===null||f===void 0?void 0:f.signature)||""}})})}signAndSendTransactions(r){return __awaiter(this,void 0,void 0,function*(){const t=yield Promise.all(r.map(n=>this.completeTransaction(n)));return this.signAndSendTransactionsMNW(t)})}signAndSendTransaction({receiverId:r,actions:t}){return __awaiter(this,void 0,void 0,function*(){if(t.length===1&&this.storedKeyCanSign(r,t))try{return this.signUsingKeyPair({receiverId:r,actions:t})}catch(a){console.warn("Failed to sign using key pair, falling back to wallet",a)}const n=yield this.completeTransaction({receiverId:r,actions:t});return(yield this.signAndSendTransactionsMNW([n]))[0]})}completeTransaction({receiverId:r,actions:t}){return __awaiter(this,void 0,void 0,function*(){const n=yield this.provider.block({finality:"final"}),u=utilsExports.serialize.base_decode(n.header.hash);return browserIndexExports.transactions.createTransaction(this.signedAccountId,utilsExports.KeyPair.fromRandom("ed25519").getPublicKey(),r,0,t.map(a=>createAction(a)),u)})}signAndSendTransactionsMNW(r){var t;return __awaiter(this,void 0,void 0,function*(){const n=this.requestSignTransactionsUrl(r),u=(t=yield this.handlePopupTransaction(n,a=>a.transactionHashes))===null||t===void 0?void 0:t.split(",");if(!u)throw new Error("No transaction hashes received");return Promise.all(u.map(a=>this.provider.txStatus(a,"unused","NONE")))})}storedKeyCanSign(r,t){return this.functionCallKey&&this.functionCallKey.contractId===r?t[0].type==="FunctionCall"&&t[0].params.deposit==="0"&&(this.functionCallKey.methods.length===0||this.functionCallKey.methods.includes(t[0].params.methodName)):!1}signUsingKeyPair({receiverId:r,actions:t}){return __awaiter(this,void 0,void 0,function*(){const n=utilsExports.KeyPair.fromString(this.functionCallKey.privateKey),u=yield browserIndexExports.InMemorySigner.fromKeyPair(this.network.networkId,this.signedAccountId,n),a=new browserIndexExports.Connection(this.network.networkId,this.provider,u,"");return new browserIndexExports.Account(a,this.signedAccountId).signAndSendTransaction({receiverId:r,actions:t.map(i=>createAction(i))})})}requestSignTransactionsUrl(r){const t=new URL("sign",this.walletUrl);return t.searchParams.set("transactions",r.map(n=>serialize$2(transactionExports.SCHEMA.Transaction,n)).map(n=>Buffer.from(n).toString("base64")).join(",")),t.searchParams.set("callbackUrl",new URL(window.location.href).toString()),t.toString()}handlePopupTransaction(r,t){return __awaiter(this,void 0,void 0,function*(){const n=window.innerWidth||screen.width,u=window.innerHeight||screen.height,a=(n-DEFAULT_POPUP_WIDTH)/2,s=(u-DEFAULT_POPUP_HEIGHT)/2,i=window.open(r,"MyNearWallet",`width=${DEFAULT_POPUP_WIDTH},height=${DEFAULT_POPUP_HEIGHT},top=${s},left=${a}`);if(!i)throw new Error("Popup window blocked. Please allow popups for this site.");return new Promise((o,c)=>{const l=this.setupMessageHandler(o,c,i,t),f=setInterval(()=>{i.closed&&(window.removeEventListener("message",l),clearInterval(f),c(new Error("User closed the window")))},POLL_INTERVAL)})})}setupMessageHandler(r,t,n,u){const a=s=>__awaiter(this,void 0,void 0,function*(){const i=s.data,o=new URL(s.origin),c=new URL(this.walletUrl);if(o.origin!==c.origin){console.warn("Ignoring message from different origin",o.origin);return}switch(i.status){case"success":n==null||n.close(),r(u(i));break;case"failure":n==null||n.close(),t(new Error(i.errorMessage||"Transaction failed"));break;default:console.warn("Unhandled message status:",i.status)}});return window.addEventListener("message",a),a}}const resolveWalletUrl=(e,r)=>{if(r)return r;switch(e.networkId){case"mainnet":return"https://app.mynearwallet.com";case"testnet":return"https://testnet.mynearwallet.com";default:throw new Error("Invalid wallet url")}},setupWalletState=(e,r)=>__awaiter(void 0,void 0,void 0,function*(){return{wallet:new MyNearWalletConnector(e.walletUrl,r)}}),MyNearWallet=({metadata:e,options:r,store:t,params:n,logger:u})=>__awaiter(void 0,void 0,void 0,function*(){const a=yield setupWalletState(n,r.network),s=()=>__awaiter(void 0,void 0,void 0,function*(){const i=a.wallet.getAccountId(),o=a.wallet.getPublicKey();return[{accountId:i,publicKey:o?o.toString():""}]});return{signIn({contractId:i,methodNames:o}){return __awaiter(this,void 0,void 0,function*(){return a.wallet.isSignedIn()||(yield a.wallet.requestSignIn({contractId:i,methodNames:o})),s()})},signOut(){return __awaiter(this,void 0,void 0,function*(){a.wallet.signOut()})},getAccounts(){return __awaiter(this,void 0,void 0,function*(){return s()})},verifyOwner(){return __awaiter(this,void 0,void 0,function*(){throw new Error(`Method not supported by ${e.name}`)})},signMessage({message:i,nonce:o,recipient:c,callbackUrl:l,state:f}){return __awaiter(this,void 0,void 0,function*(){return u.log("sign message",{message:i}),yield a.wallet.signMessage({message:i,nonce:o,recipient:c,callbackUrl:l,state:f})})},signAndSendTransaction({signerId:i,receiverId:o,actions:c}){return __awaiter(this,void 0,void 0,function*(){u.log("signAndSendTransaction",{signerId:i,receiverId:o,actions:c});const{contract:l}=t.getState();if(!a.wallet.isSignedIn()||!l)throw new Error("Wallet not signed in");const f=a.wallet.getAccountId();if(i&&f!==i)throw new Error(`Signed in as ${f}, cannot sign for ${i}`);return a.wallet.signAndSendTransaction({receiverId:o||l.contractId,actions:c})})},signAndSendTransactions({transactions:i}){return __awaiter(this,void 0,void 0,function*(){if(u.log("signAndSendTransactions",{transactions:i}),!a.wallet.isSignedIn())throw new Error("Wallet not signed in");return a.wallet.signAndSendTransactions(i)})},buildImportAccountsUrl(){return`${n.walletUrl}/batch-import`}}});function setupMyNearWallet({walletUrl:e,iconUrl:r=icon,deprecated:t=!1}={}){return n=>__awaiter(this,void 0,void 0,function*(){return{id:"my-near-wallet",type:"injected",metadata:{name:"MyNearWallet",description:"NEAR wallet to store, buy, send and stake assets for DeFi.",iconUrl:r,deprecated:t,available:!0,downloadUrl:resolveWalletUrl(n.options.network,e)},init:u=>MyNearWallet(Object.assign(Object.assign({},u),{params:{walletUrl:resolveWalletUrl(u.options.network,e)}}))}})}export{React as R,requireBuffer$1 as a,requireReact as b,requireReactDom as c,React18 as d,setupMyNearWallet as e,getDefaultExportFromCjs as g,reactExports as r,setupWalletSelector as s};
